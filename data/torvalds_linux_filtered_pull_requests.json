[
    {
        "merged": false,
        "additions": 7,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2020-03-02T12:16:22Z",
        "closed_at": null,
        "merged_at": null,
        "body": "\u2026ntroller. When a packet larger than MTU arrives in Linux from the modem, it is discarded with -EOVERFLOW error (Babble error). This is seen on USB3.0 and USB2.0 busses. This is essentially because the MRU (Max Receive Size) is not a separate entity to the MTU (Max Transmit Size) and the received packets can be larger than those transmitted. Following the babble error there were an endless supply of zero-length URBs which are rejected with -EPROTO (increasing the rx input error counter each time). This is only seen on USB3.0. These continue to come ad infinitum until the modem is shutdown. There appears to be a bug in the core USB handling code in Linux that doesn't deal well with network MTUs smaller than 1500 bytes. By default the dev->hard_mtu (the real MTU) is in lockstep with dev->rx_urb_size (essentially an MRU), and it's the latter that is causing trouble. This has nothing to do with the modems; the issue can be reproduced by getting a USB-Ethernet dongle, setting the MTU to 1430, and pinging with size greater than 1406.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2020-02-29T17:36:40Z",
        "closed_at": "2020-02-29T17:37:23Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2020-02-28T17:38:00Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 8,
        "changed_files": 1,
        "created_at": "2020-02-24T18:35:33Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Request to remove Intel from SDIO ID since hardware never became available to clean up file.\r\n\r\nLooks to have been missed during this pull request\r\n\"This hardware never became available to normal humans.  Leaving this\r\ndriver imposes unwelcome maintenance costs for no clear benefit.\"\r\nhttps://github.com/torvalds/linux/commit/ce8126c334f4960fc091d57ad293b250be7f3a4f",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2020-02-18T14:27:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "socket {} expected success \"but\" got err {}",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2020-02-18T10:28:02Z",
        "closed_at": null,
        "merged_at": null,
        "body": "while trying to compile and run this file independently for another project (timer DS research) I have encountered a small warning regarding sign status for bkt, this fixes this warning while not chaning functionality in any way",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 18,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2020-02-14T18:22:21Z",
        "closed_at": "2020-02-14T18:24:34Z",
        "merged_at": null,
        "body": "to replace existing README (which isn't displayed like intended)",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2020-02-12T11:27:49Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Small patch to add support for USB HSF Modems using Conexant CX06836 Chipset (idVendor=0572, idProduct=1300)",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 28828,
        "deletions": 7321,
        "changed_files": 570,
        "created_at": "2020-02-11T09:42:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "need to get the driver for the soundwire",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 81,
        "deletions": 0,
        "changed_files": 4,
        "created_at": "2020-02-11T00:45:34Z",
        "closed_at": "2020-02-13T00:56:54Z",
        "merged_at": null,
        "body": "This change adds the below gpu memory tracepoint:\r\ngpu_mem/gpu_mem_total: track global or process gpu memory total counters\r\n\r\nSigned-off-by: Yiwei Zhang <zzyiwei@google.com>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 10,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2020-02-08T15:48:23Z",
        "closed_at": "2023-05-20T20:41:27Z",
        "merged_at": null,
        "body": null,
        "comments": 1
    },
    {
        "merged": false,
        "additions": 6,
        "deletions": 9,
        "changed_files": 1,
        "created_at": "2020-01-24T04:19:18Z",
        "closed_at": "2020-01-24T14:00:30Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2020-01-22T14:22:07Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Use kvzalloc to make your code better",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2020-01-22T02:24:03Z",
        "closed_at": "2022-02-14T08:23:10Z",
        "merged_at": null,
        "body": "from what I saw in the user-space tests, the output buffer contains AAD",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2020-01-16T11:42:52Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Everywhere in the kernel 'yes' means 'no' and 'no' means 'yes' for whatever reason. \r\nSo I fixed around 44.000 files.\r\nObviously.\r\n\r\nI am now a maintainer of the linux kernel project.",
        "comments": 6
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2020-01-15T15:55:25Z",
        "closed_at": "2020-01-15T15:55:42Z",
        "merged_at": null,
        "body": "Sync with upstream 2019-10-09!",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2020-01-10T16:11:41Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Otherwise github won't recognize it as a markdown file.",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2020-01-07T14:10:55Z",
        "closed_at": "2020-02-03T10:42:49Z",
        "merged_at": null,
        "body": "change `creat` to `create`",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2020-01-01T11:36:01Z",
        "closed_at": "2020-01-01T11:56:48Z",
        "merged_at": null,
        "body": "accroding to https://github.com/torvalds/linux/commit/bd0e6c9614b95352eb31d0207df16dc156c527fa#diff-28615d62e1250eadc353d804f49bc6d6, will try old enumeration scheme first for high speed devices. for example, when a high speed device pluged in, line 2720 should expand to 0 at the first time. USE_NEW_SCHEME(0, 0 || 0 || 1) === 0. but it wrongly expand to 1(alway expand to 1 for high speed device), and change USE_NEW_SCHEME to USE_NEW_SCHEME((i) % 2 == (int)(scheme)) may be better ?",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2020-01-01T07:45:49Z",
        "closed_at": null,
        "merged_at": null,
        "body": "'structer' line 166 was replaced by 'structure' line 166",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2019-12-31T04:07:54Z",
        "closed_at": null,
        "merged_at": null,
        "body": "aligning the ACPI block diagram",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-12-30T02:43:03Z",
        "closed_at": "2019-12-30T10:43:04Z",
        "merged_at": null,
        "body": "The `/proc/$pid/smaps` output has an alignment issue for the field `FilePmdMapped` and `THPeligible`.\r\n\r\nThis increases the alignment of `FilePmdMapped` by 1 space, and converts the alignment of `THPeligible` to use spaces instead of tabs, to be consistent with the other fields.",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-12-30T02:25:33Z",
        "closed_at": null,
        "merged_at": null,
        "body": "http://www.cs.columbia.edu/~vatlidak/resources/POSIXmagazine.pdf\r\n\r\nhttps://news.ycombinator.com/item?id=13621623",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-12-28T11:18:31Z",
        "closed_at": "2020-01-09T01:20:17Z",
        "merged_at": null,
        "body": "``bcmd()`` is a function from ``<strings.h>`` (with s) that are not included in the file, so Mmy compiler throws an error:\r\n\r\n```sh\r\n$ make -j 8\r\nHOSTCC  scripts/kconfig/confdata.o\r\nscripts/kconfig/confdata.c:75:6: warning: implicitly declaring library function 'bcmp'\r\n      with type 'int (const void *, const void *, unsigned int)'\r\n      [-Wimplicit-function-declaration]\r\n        if (bcmp(map1, map2, st1.st_size))\r\n            ^\r\nscripts/kconfig/confdata.c:75:6: note: include the header <strings.h> or explicitly\r\n      provide a declaration for 'bcmp'\r\n1 warning generated.\r\n  HOSTLD  scripts/kconfig/conf\r\n/data/data/com.termux/files/usr/bin/arm-linux-androideabi-ld: scripts/kconfig/confdata.o: in function `conf_write':                                                               confdata.c:(.text+0x1484): undefined reference to `bcmp'\r\nclang-9: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [scripts/Makefile.host:116: scripts/kconfig/conf] Error 1\r\nmake[1]: *** [Makefile:567: syncconfig] Error 2\r\nmake: *** [Makefile:678: include/config/auto.conf.cmd] Error 2\r\n```\r\nim following [that tutorial](https://gist.github.com/EduApps-CDG/733e29c28dd53e91128d384c2e879397) that says how to compile the Kernel with a Android, but thr error is not on the tutorial, but on compile.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 22,
        "deletions": 24,
        "changed_files": 1,
        "created_at": "2019-12-27T02:26:18Z",
        "closed_at": "2022-03-06T20:58:59Z",
        "merged_at": null,
        "body": "Details: \r\n- add default hook for security_cred_getsecid \r\n- group hooks with functionalities and get coherent for orders",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-12-26T06:49:21Z",
        "closed_at": "2019-12-26T06:49:56Z",
        "merged_at": null,
        "body": "pull",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-12-22T22:16:00Z",
        "closed_at": null,
        "merged_at": null,
        "body": "this post was made by steve ballmer gang",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 48657,
        "deletions": 10525,
        "changed_files": 1586,
        "created_at": "2019-12-22T21:27:25Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Linux Kernel 5.2.11 customization to add I2S in/out (ADC/DAC) sound to odroid c2 based on meson64 GXBB (S905)\r\nAdd Cirrus CS4245 ADC/DAC codec",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 67,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-12-19T06:22:44Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Since Christmas is coming soon!",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-12-16T16:38:46Z",
        "closed_at": "2021-12-24T22:48:38Z",
        "merged_at": null,
        "body": "We should really use modern terminology, in one month it's 2020",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 29,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-12-16T11:06:49Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Many obsolete hard drives do not support the Synchronize Cache SCSI\r\ncommand. Such command is generally issued during fsync() calls which\r\nat the moment therefore fail with the ILLEGAL_REQUEST sense key.\r\n\r\nSince this failure is currently treated as critical in the kernel SCSI\r\ndisk driver, such obsolete hard drives cannot be used anymore: they\r\ncannot be formatted, mounted and/or checked using tools such as e2fsprogs.\r\n\r\nBecause there is nothing which can be done if the drive does not support\r\nsuch command, such ILLEGAL_REQUEST should be treated as non-critical so\r\nthat the underlying operation does not fail and the obsolete hard drive\r\ncan be used normally.\r\n\r\nThis patch disables the Write Cache feature as a precaution on hard\r\ndrives which do not support the Synchronize Cache command and therefore\r\nthe cache flushing functionality.\r\n\r\nFixes bug: https://bugzilla.kernel.org/show_bug.cgi?id=203635",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-12-13T14:13:06Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-12-11T08:34:06Z",
        "closed_at": null,
        "merged_at": null,
        "body": "The true/false values of the conditional operator ? in llc_stat_ev_rx_null_dsap_xid_c are reversed. Since llc_stat_ev_rx_null_dsap_xid_c is called first in llc_station_rcv, an XID response is sent instead of a TEST response when a null TEST (DSAP=0x00) frame is received.\r\n\r\nThe same issue exists in llc_stat_ev_rx_null_dsap_test_c.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-12-04T15:33:55Z",
        "closed_at": null,
        "merged_at": null,
        "body": "This ensures we call bash instead of sh which could be dash or any other\r\nshell that is not compatible with the script.\r\n\r\nSigned-off-by: Jory Pratt <anarchy@gentoo.org>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2019-12-04T03:22:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "As per the datasheet, the months register (08h) stores the current month coded in BCD format with a value range of 1 to 12. January is therefore allocated to value 1 and December is allocated to value 12 (or BCD 10010). When handling year wrapping, the check must be performed against constant 12 (should we be capturing anything greater to remain within the correct range?) and the months should be reset to 1 for January.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 27,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2019-12-04T03:21:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "The contents of the CONTROL 2 register (ABB5ZES3_REG_CTRL2, 0x01) contains status flags for various interrupts and enable/disable bits for timers. The bits being modified in this call, which are all the same bit in this case (bit 7), is a read-only bit so the call has no effect. The correct method to perform what has been documented is to update the associated register for each alarm individually, setting that one bit.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 13,
        "deletions": 0,
        "changed_files": 4,
        "created_at": "2019-11-28T03:15:02Z",
        "closed_at": "2020-03-30T22:34:49Z",
        "merged_at": null,
        "body": "support sys_get_thread_area api for arch mips",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-11-27T21:49:00Z",
        "closed_at": "2020-06-04T11:39:57Z",
        "merged_at": null,
        "body": "[networking/j1939.rst](https://github.com/torvalds/linux/blob/master/Documentation/networking/j1939.rst)\r\n referes to J1939_PGN_ADDRESS_REQUEST, however \"j1939.h\" defines only:\r\n#define J1939_PGN_REQUEST 0x0ea00\r\n\r\nThere was once a patch changing the define \"J1939_PGN_REQUEST\" to \"J1939_PGN_ADDRESS_REQUEST\". However this patch had been rejected. Still the documentation [networking/j1939.rst](https://github.com/torvalds/linux/blob/master/Documentation/networking/j1939.rst) had been written as if this patch had been applied: \r\n[Link to patch](https://marc.info/?l=linux-can&m=155491812521734&w=2)\r\n\r\nI have created here an issue for discussion:\r\nhttps://github.com/linux-can/can-utils/issues/174",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 2,
        "created_at": "2019-11-22T14:28:04Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Just a update from my old to my current used email.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-11-19T01:12:32Z",
        "closed_at": null,
        "merged_at": null,
        "body": ":)\r\n\r\nhttp://chng.it/gWvT9DcW",
        "comments": 14
    },
    {
        "merged": false,
        "additions": 275,
        "deletions": 13,
        "changed_files": 3,
        "created_at": "2019-11-16T08:04:12Z",
        "closed_at": "2019-11-16T08:04:23Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 100,
        "deletions": 7,
        "changed_files": 5,
        "created_at": "2019-11-12T09:00:29Z",
        "closed_at": "2019-11-12T09:01:11Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-11-04T18:16:48Z",
        "closed_at": "2019-11-04T18:17:32Z",
        "merged_at": null,
        "body": "Update Kernel",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-10-31T11:05:31Z",
        "closed_at": "2019-10-31T11:06:15Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 9,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-23T01:57:59Z",
        "closed_at": "2019-10-23T01:59:08Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 6,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2019-10-22T18:16:49Z",
        "closed_at": null,
        "merged_at": null,
        "body": " [netfilter]: Fix skb->csum calculation when netfilter manipulation fo\u2026\r\n\r\n\u2026r NF_NAT_MANIP_SRC\\DST is done on IPV6 packet.\r\n\r\nNo need to update skb->csum in function inet_proto_csum_replace16(),\r\neven if skb->ip_summed == CHECKSUM_COMPLETE, because change in L4\r\nheader checksum field and change in IPV6 header cancels each other\r\nfor skb->csum calculation.\r\n\r\nSigned-off-by: Praveen Chaudhary <pchaudhary@linkedin.com>\r\nSigned-off-by: Zhenggen Xu <zxu@linkedin.com>\r\nSigned-off-by: Andy Stracner <astracner@linkedin.com>\r\n\r\nReviewed-by: Florian Westphal <fw@strlen.de>\r\n\r\n---\r\n\r\nChanges in V2.\r\n1.) Updating diff as per email discussion with Florian Westphal.\r\n    Since inet_proto_csum_replace16() does incorrect calculation\r\n    for skb->csum in all cases.\r\n2.) Change in Commmit logs.\r\n\r\n---\r\n\r\n\r\n-------------Issue [BUG in current code]:-------------\r\n\r\nIPV6 UDP packet is dropped by kernel in function udp6_csum_init(), when netfilter for NF_NAT_MANIP_SRC\\DST is applied.\r\n    \r\nCounter increased: Udp6InCsumErrors. Note: incoming UPD6 packet has correct UDP checksum. \r\n\r\n\r\n-------------Reproduction steps: (using IPV6 UDP DNS Query)--- [linux kernel any version > 4.9.110]-------------\r\n\r\n1.) Set an SNAT entry in /etc/iptables/rules.v6 as show below.\r\n```\r\n    -A POSTROUTING -p udp -m udp --dport 53 -o Ethernet+ -j SNAT --to-source 2a04:xxxx:xxxx:4::2 (Masked)\r\n```\r\nNote: Above rule will change ipv6 source address to 2a04:xxxx:xxxx:4::2 for outgoing UDPv6 DNS packet , and will change the ipv6 destination address from 2a04:xxxx:xxxx:4::2 to original ipv6 address for incoming DNS response.\r\n\r\n2.) Apply the iptable changes.\r\n```\r\n    switch$ sudo /etc/network/if-pre-up.d/iptables\r\n```\r\n3.) Run a DNS query using IPV6 DNS server for any site. We can observe that DNS query is timed out.\r\n```\r\n    switch$ host facebook.com 2a04:xxxx:xx:1::c216\r\n    ;; connection timed out; no servers could be reached\r\n```\r\n\r\n---------------Details of issue----------------\r\n\r\n1.) On incoming path: \r\nFunction Trace: udp_error()-->nf_checksum()-->nf_ip6_checksum():\r\n\r\nIn function nf_ip6_checksum(); checksum is verified for incoming packet. Here skb->data points to IPV6 HEADER and ip_summed == CHECKSUM_NONE at start. So after a call to __skb_checksum_complete, skb->csum will store the 16-bit sum of [ipv6 header + UDP header + UDP data].\r\n\r\nChecksum verification will be successful here, because csum_ipv6_magic() subtracts 16-bit sum of IPv6 header from 16-bit sum of Pseudo header.\r\n\r\nNote: UDP checksum = ~[pseudo header + UDP header + UDP data].\r\n\r\n\r\n2.) SNAT iptable rule processing, \r\n\r\nFunction Trace: nf_nat_ipv6_manip_pkt()--> l4proto_manip_pkt()-->udp_manip_pkt()-->__udp_manip_pkt()-->nf_csum_update()---> nf_nat_ipv6_csum_update()-->inet_proto_csum_replace16():\r\n\r\nIn function inet_proto_csum_replace16(), first udp_header checksum field will be updated as below, because of the NF_NAT_MANIP_SRC\\DST manipulation,  I.e to reflect IPV6 src\\dst address change in IPV6 header.\r\n```\r\n        *sum = csum_fold(csum_partial(diff, sizeof(diff),\r\n                 ~csum_unfold(*sum)));\r\n```\r\n\r\nSince skb->csum includes udp header checksum field, skb->csum will also go through similar calculation to reflect udp header checksum field change.\r\n```\r\n    if (skb->ip_summed == CHECKSUM_COMPLETE && pseudohdr)\r\n            skb->csum = ~csum_partial(diff, sizeof(diff),\r\n                          ~skb->csum);\r\n```\r\nAfter this update, skb->csum = [Original IPV6 Header + Modified UDP header + UDP data]\r\n\r\n\r\n\r\n3.) Then in function nf_nat_ipv6_manip_pkt(), ipv6 header will be updated to have target IPV6 src\\dst address:\r\n    \r\n```\r\n\tif (maniptype == NF_NAT_MANIP_SRC)\r\n\r\n\t\tipv6h->saddr = target->src.u3.in6;\r\n\telse\r\n\t\tipv6h->daddr = target->dst.u3.in6;\r\n\r\n```\r\nHere we do not update skb->csum. So skb->csum will still be equal to [Original IPV6 Header + Modified UDP header + UDP data]. \r\n**BUG BUG BUG**: This is the bug, skb->csum must be updated to reflect this change in IPV6 SRC Address.\r\n\r\nIdeally change in UDP header checksum field and change in IPV6 SRC address cancels each other in this case, so no update was needed in skb->csum in function inet_proto_csum_replace16().\r\n\r\n4.) IPV6 header processing: \r\n\r\nFunction Trace: ip6_input() --> ip6_input_finish() --> ip6_protocol_deliver_rcu():\r\n\r\nIn ip6_protocol_deliver_rcu(), 16-bit sum of IPV6 header will be subtracted from skb->csum.\r\n\r\n```\r\n    skb_postpull_rcsum(skb, skb_network_header(skb),\r\n                       skb_network_header_len(skb));\r\n```\r\n\r\nThis is the sum of new IPV6 header with modified IPV6 Source\\dest address. After this subtraction \r\n\r\nskb->csum = [Original IPV6 Header + Modified UDP header + UDP data] - [Modified IPv6 Header]\r\nThis is wrong value of skb->csum.\r\n\r\n\r\n5.) UDP Header Checksum init:\r\n\r\nFunction Trace: __udp6_lib_rcv() --> udp6_csum_init() -->  __skb_checksum_validate_complete()\r\n\r\nIn  __skb_checksum_validate_complete() below condition will never met. Because value of skb->csum is unexpected. \r\n```\r\n    if (skb->ip_summed == CHECKSUM_COMPLETE) {\r\n        if (!csum_fold(csum_add(psum, skb->csum))) {\r\n            skb->csum_valid = 1;\r\n            return 0;\r\n        }\r\n    }\r\n```\r\n\r\nIn udp6_csum_init(), below check will be true:\r\n```\r\nif (skb->ip_summed == CHECKSUM_COMPLETE && !skb->csum_valid) {\r\n        /* If SW calculated the value, we know it's bad */\r\n        if (skb->csum_complete_sw)\r\n            return 1;\r\n```\r\n\r\nand this packet will be dropped in  __udp6_lib_rcv() due to below check\r\n\r\n```\r\nif (udp6_csum_init(skb, uh, proto))\r\n        goto csum_error;\r\n.......\r\n.......\r\n\r\ncsum_error:\r\n    __UDP6_INC_STATS(net, UDP_MIB_CSUMERRORS, proto == IPPROTO_UDPLITE);\r\n```\r\n\r\n\r\n\r\n-------------------Related JPROBE LOGS:-------------------\r\n```\r\nOct 19 05:15:01.420147 asw03 NOTICE kernel: [350574.264081]  nf_ip6_checksum: dataoff=40   \r\nOct 19 05:15:01.420180 asw03 NOTICE kernel: [350574.264084]  nf_ip6_checksum: skb:ffff9faa71cbc500 ip_sum=0 csum_valid=0 csum_com_sw=0 csum=0\r\n```\r\n[Explanation]: dataoff = 40 for ipv6 header and checksum is not verified yet, so skb->csum = 0.\r\n\r\n```\r\nOct 19 05:15:01.420190 asw03 NOTICE kernel: [350574.264090]  nf_ip6_checksum: len:228 psum:ffffd68e csum=2e57fb19 sum=0\r\n```\r\n[Explanation]: psum = pseudo header sum - ipv6 header sum. Csum = skb->csm = [ipv6 header + UDP header + UDP data]\r\npsum + csum (16-bit sum) = ffff + d68e + 2e57 + fb19 = 0x2FFFD = 0xFFFD + 0x2 = 0xFFFF. Skb->len is 228 here.\r\n\r\n\r\n```\r\nOct 19 05:15:01.420199 asw03 NOTICE kernel: [350574.264105] inet_proto_csum_replace16 : prev_hw_check=7feb uh_check=01cb\r\n```\r\n[Explanation]: With SNAT, IPV6 address will change from 2axx:xxxx:00xx:0004:0000:0000:0000:0002 to 2axx:xxx:00xx:2082:0000:0000:0000:0002. So the 16 bit diff is: 0x2082 - 0x0004 = 0x207E . So UDP header checksum changes from 0xEB7f to 0xCB01, Diff = ~(0x207E). [Printed without htons above.]\r\n\r\n\r\n```\r\nOct 19 05:15:01.420203 asw03 NOTICE kernel: [350574.264107] inet_proto_csum_replace16: skb:ffff9faa71cbc500 ip_sum=2 csum_valid=1 csum_com_sw=1 csum= b037fb18\r\n```c\r\n[Explanation]: Skb->csum changed according to udp header checksum diff: 16-bit diff for (b037fb18 - 2e57fb19) = ~htons(0x207E).\r\n\r\n\r\n```\r\nOct 19 05:15:01.420218 asw03 NOTICE kernel: [350574.264116] ip6_rcv_finish: skb:ffff9faa71cbc500 ip_sum=2 csum_valid=1 csum_com_sw=1 csum=b037fb18\r\nOct 19 05:15:01.420227 asw03 NOTICE kernel: [350574.264135] __udp6_lib_rcv: src: 2axx:xxxx:00xx:0001:0000:0000:0000:c216 dst: 2axx:xxxx:00xx:2082:0000:0000:0000:0002 port: 53 uh_check: cb01\r\nOct 19 05:15:01.420230 asw03 NOTICE kernel: [350574.264137] __udp6_lib_rcv: skb:ffff9faa71cbc500 ip_sum=2 csum_valid=1 csum_com_sw=1 csum=57e294da\r\n```\r\n[Explanation]: Between ip6_rcv_finish and __udp6_lib_rcv, 16-bit sum of ipv6 header is subtracted from skb->csum. So skb->csum = 57e294da at __udp6_lib_rcv.\r\n\r\n\r\n```\r\nOct 19 05:15:01.420236 asw03 NOTICE kernel: [350574.264140] __udp6_lib_rcv_post: len:188 psum:ffff9522 csum=57e294da\r\n```\r\nHere psum + csum = ffff + 9522 + 57e2 + 94da = 0x281DD = 0x81DF = ~(htons(207E)) [same delta]. Which shows that SKB_CSUM should be updated due to change IPV6 address.\r\n\r\n\r\n--------------FIX ------------------------\r\n\r\nNo need to update skb->csum in function inet_proto_csum_replace16(), even if skb->ip_summed == CHECKSUM_COMPLETE, because change in L4\r\nheader checksum field and change in IPV6 header cancels each other for skb->csum calculation. This is because skb->csum includes sum of \r\n[IPv6 Header + L4 Header + L4 Data]\r\n\r\n\r\n-----------------------\r\nInteresting Facts:\r\n\r\n------------------Why Problem is not seen for IPV4--------------\r\n\r\nIPV4 suffers with similar issue, but since 16-bit sum of IPV4 header is always zero [Due to IPv4 header checksum present in IPV4 header]. Skb->csum as per below state will correct:\r\n\r\nskb->csum = [Original IPV6 Header + Modified UDP header + UDP data - Modified IPv6 Header] = [Modified UDP header + UDP data]\r\n\r\n\r\n------------------Why Problem is not seen for IPV6 TCP--------------\r\n\r\nEven though skb->csum will be incorrect, when packet hit tcp_v6_rcv()--> skb_checksum_init()--> __skb_checksum_validate().\r\n\r\nTCP code starts checksum calculation from scratch by assigning pseudo header sum in skb->csum and by returning 0 from skb_checksum_init().\r\n\r\nWith this fix,  validation will be successful in __skb_checksum_validate() even for tcpv6 packet, so kernel will not recalculate checksum.\r\n\r\n\r\n------------------Why Problem is not seen in linux kernel version < 3.16--------------\r\n\r\nCall to udp_csum_pull_header(skb) in udpv6_queue_rcv_one_skb(struct sock *sk, struct sk_buff *skb) has exposed the issue for UDPv6.\r\n\r\n-------------------------------------------------------------------------------------\r\n\r\nNote: \r\n\r\n-- Kindly let me know, If needed I can present entire packet and example with checksum calculation at each stage.\r\n\r\n-------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n---------------------------Testing (with JPROBE LOGS) [AFTER FIX UDPv6 DNS query works fine]:---------------------------\r\n\r\n\r\n1.) \r\n```\r\npchaudha@asw03:~$ sudo cat /etc/iptables/rules.v6 | grep SNAT\r\n# SNAT\r\n-A POSTROUTING -p tcp -m tcp --dport 443 -o Ethernet+ -j SNAT --to-source 2a04:xxxx:62:4::2\r\n-A POSTROUTING -p udp -m udp --dport 53 -o Ethernet+ -j SNAT --to-source 2a04:xxxx:62:4::2\r\n-A POSTROUTING -p tcp -m tcp --dport 53 -o Ethernet+ -j SNAT --to-source 2a04:xxxx:62:4::2\r\n```\r\n\r\n\r\n2.)\r\n```\r\n pchaudha@asw03:~$ sudo /etc/network/if-pre-up.d/iptables\r\n```\r\n3.) UDPv6 DNS query:\r\n```\r\npchaudha@asw03:~$ host facebook.com 2a04:xxxx:xx:1::c216\r\nUsing domain server:\r\nName: 2a04:xxxx:32:1::c216\r\nAddress: 2a04:xxxx:32:1::c216#53\r\nAliases:\r\n\r\nfacebook.com has address 157.240.11.35\r\nfacebook.com has IPv6 address 2a03:2880:f10d:183:face:b00c:0:25de\r\nfacebook.com mail is handled by 10 smtpin.vvv.facebook.com.\r\n```\r\n4.) JPROBE LOGS: \r\n```\r\nOct 22 05:51:20.748153 asw03 NOTICE kernel: [611954.922595] nf_nat_ipv6_manip_pkt: skb:ffff9faa7c9bf400 t->dst.protonum=17\r\nOct 22 05:51:20.748186 asw03 NOTICE kernel: [611954.922600] inet_proto_csum_replace16: skb:ffff9faa7c9bf400 ips=2 csumv=1 csumsw=1 csum=4914e05c\r\nOct 22 05:51:20.748195 asw03 NOTICE kernel: [611954.922605] ip6_rcv_finish: skb:ffff9faa7c9bf400 ips=2 csumv=1 csumsw=1 csum=4914e05c\r\n```\r\n\r\n5.) TCPv6 query:\r\n```\r\npchaudha@asw03:~$ host -T facebook.com 2a04:xxxx:32:1::c216\r\nUsing domain server:\r\nName: 2a04:xxxx:32:1::c216\r\nAddress: 2a04:xxxx:32:1::c216#53\r\nAliases:\r\n\r\nfacebook.com has address 31.13.70.36\r\nfacebook.com has IPv6 address 2a03:2880:f10d:183:face:b00c:0:25de\r\nfacebook.com mail is handled by 10 smtpin.vvv.facebook.com.\r\n--------------------------\r\n```\r\n\r\n6.) JPROBE LOGS:\r\n```\r\nOct 22 18:13:29.199793 asw03 NOTICE kernel: [656483.605018] nf_nat_ipv6_manip_pkt: skb:ffff9faab3e79400 t->dst.protonum=6\r\nOct 22 18:13:29.199826 asw03 NOTICE kernel: [656483.605032] inet_proto_csum_replace16: skb:ffff9faab3e79400 ips=2 csumv=1 csumsw=1 csum=c6796dec\r\nOct 22 18:13:29.199835 asw03 NOTICE kernel: [656483.605038] ip6_rcv_finish: skb:ffff9faab3e79400 ips=2 csumv=1 csumsw=1 csum=c6796dec\r\n```",
        "comments": 10
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-10-20T04:53:37Z",
        "closed_at": "2019-11-09T08:33:13Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-19T19:46:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "There were a lot of issues on installing this driver on linux due to error in driver installation files.\r\nThe driver files have been modified and have been updated",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-14T09:16:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 8,
        "deletions": 8,
        "changed_files": 1,
        "created_at": "2019-10-13T16:46:34Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Made some minor grammatical changes to the file.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 6,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-11T05:00:35Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Updated readme is provided here",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 24397,
        "deletions": 24397,
        "changed_files": 24326,
        "created_at": "2019-10-09T19:41:37Z",
        "closed_at": "2019-10-14T15:20:10Z",
        "merged_at": null,
        "body": "In the 3.0 release of the SPDX license list the use of just `GPL-x.x` or `GPL-x.x+` was deprecated in favor of specifying `GPL-x.x-only` or `GPL-x.x-or-later`. \r\n\r\nI wrote a script to go through and update the outdated headers:\r\n```\r\nfind . -type f -print0 | xargs -0 -I % perl -pi -e \\\r\n 's/(SPDX-License-Identifier:.*GPL-\\d\\.\\d(?!(-only|-or-later|\\+)))/$1-only/g' %\r\n\r\nfind . -type f -print0 | xargs -0 -I % perl -pi -e \\\r\n 's/(SPDX-License-Identifier:.*GPL-\\d\\.\\d)(\\+)/$1-or-later/g' %\r\n```\r\n\r\nThe first regex statement is to replace `GPL-x.x` with `GPL-x.x-only`. It looks for `SPDX-License-Identifier:` followed by 0 or more of any characters except new lines, followed by `GPL-{digit}.{digit}`, and then a negative lookahead to discard the match if it is followed by `-only` or `-or-later` to ignore headers that have already been updated. The matched statement is appended with `-only` by taking the capture group 1 followed by -only with `$1-only`.\r\n\r\nThe second regex statement is to replace `GPL-x.x+` with `GPL-x.x-or-later`. It looks for `SPDX-License-Identifier:` followed by 0 or more of any characters except new lines, followed by `GPL-{digit}.{digit}+`. The statement is split into 2 capture groups so that the `+` character can be thrown away before appending `-or-later` with  `$1-or-later`.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-10-09T12:39:43Z",
        "closed_at": null,
        "merged_at": null,
        "body": "I added colon for stating the subtypes",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-09T10:50:09Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 21,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-09T04:36:42Z",
        "closed_at": "2019-10-09T04:43:03Z",
        "merged_at": null,
        "body": "Environment setting",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-10-07T20:49:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "prevent globbing and word splitting",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-10-07T17:19:05Z",
        "closed_at": null,
        "merged_at": null,
        "body": "updated line 5 updated",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 18,
        "changed_files": 1,
        "created_at": "2019-10-05T19:41:15Z",
        "closed_at": "2019-10-05T19:41:29Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 18,
        "changed_files": 1,
        "created_at": "2019-10-05T19:32:01Z",
        "closed_at": "2019-10-05T19:33:40Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-10-04T22:03:02Z",
        "closed_at": "2019-12-14T23:32:11Z",
        "merged_at": null,
        "body": "Makefile's wildcard use predefined location of yaml.h\r\nheader file which may lead to false-positive detection\r\nof presence of libyaml installation when cross-compiling\r\n(e.g. in yocto environment).\r\nUse instead pkg-config to detect libyaml.",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 1391,
        "deletions": 361,
        "changed_files": 36,
        "created_at": "2019-10-04T02:11:53Z",
        "closed_at": "2019-10-04T02:13:03Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 11,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-03T16:27:21Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 8,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-10-03T16:03:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-09-26T17:43:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 9,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-09-25T14:50:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 15
    },
    {
        "merged": false,
        "additions": 991582,
        "deletions": 1995,
        "changed_files": 2066,
        "created_at": "2019-09-25T12:20:01Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Noalink test",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-09-24T09:24:27Z",
        "closed_at": "2019-09-24T09:26:35Z",
        "merged_at": null,
        "body": "merge 262 commits into CarDGee:master from torvalds:master",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 8,
        "deletions": 8,
        "changed_files": 3,
        "created_at": "2019-09-23T21:31:07Z",
        "closed_at": null,
        "merged_at": null,
        "body": "When dynamically allocating DMA-capable memory in PowerPC, the kernel must explicitly specify the GFP_DMA flag. \r\n\r\nTested with T2080 Processor communicating over PCIe to two TI 1394 OHCI links.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-09-23T19:09:40Z",
        "closed_at": "2019-09-23T23:27:43Z",
        "merged_at": null,
        "body": "={} promises to initialize only the first member of the union",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 633164,
        "deletions": 18254,
        "changed_files": 3556,
        "created_at": "2019-09-22T02:55:51Z",
        "closed_at": "2019-09-22T02:56:02Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-09-19T02:54:28Z",
        "closed_at": "2019-09-19T02:57:13Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-09-14T17:34:16Z",
        "closed_at": null,
        "merged_at": null,
        "body": "...",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2019-09-06T06:03:55Z",
        "closed_at": null,
        "merged_at": null,
        "body": "The original code may cause the main hart to execute the boot sequence to be too many hart\r\n\r\nSigned-off-by: Xiang Wang <merle@hardenedlinux.org>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-09-05T21:40:09Z",
        "closed_at": "2019-09-16T17:59:48Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2019-09-04T21:41:10Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Mayflash/Dragonrise seems to have yet another device ID for one of their Gamecube controller\r\nadapters.  Previous to this commit, the adapter registered only one /dev/input/js* device, and\r\nall controller inputs (from any controller) were mapped to this device.  This patch defines the\r\n1846 USB device ID and enables the HID_QUIRK_MULTI_INPUT quirk for it, which ~~should~~ (I can now confirm: _does_) fix that.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 4,
        "created_at": "2019-09-04T01:53:49Z",
        "closed_at": "2019-09-04T04:59:13Z",
        "merged_at": null,
        "body": "I was hacking on and read this acheive in xfs_inode and decided to fix it everywhere because it pissed me off so much. ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 180,
        "deletions": 0,
        "changed_files": 4,
        "created_at": "2019-08-29T06:55:12Z",
        "closed_at": "2019-08-29T07:09:52Z",
        "merged_at": null,
        "body": "Signed-off-by: Tanvi Desai <tanvid@SSWLAB.open-silicon.com>",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 27,
        "deletions": 16,
        "changed_files": 1,
        "created_at": "2019-08-21T12:24:41Z",
        "closed_at": "2022-10-06T10:26:38Z",
        "merged_at": null,
        "body": "I've made a better README file;\r\nIt looks beautiful;\r\nAnd I've added some more languages,I think it will help many foreign people **understand the README better**\r\n\r\nPlease accept my change ,it will help many people \r\n_**Thanks a lot!!!!!**_",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 8,
        "deletions": 6,
        "changed_files": 1,
        "created_at": "2019-08-20T03:28:58Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-08-15T15:46:06Z",
        "closed_at": "2019-08-17T21:57:57Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 2357,
        "changed_files": 1,
        "created_at": "2019-08-14T19:40:42Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 660,
        "deletions": 28,
        "changed_files": 11,
        "created_at": "2019-08-11T00:21:04Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Follow the ECDSA generic algorithm for linux kernel 5.3. This is part of work to signed modules with nist ECDSA p256 and p384.",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-08-10T15:23:42Z",
        "closed_at": "2022-05-23T17:30:44Z",
        "merged_at": null,
        "body": "Allowing Arch users to compile and install linux easier",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2765,
        "deletions": 57,
        "changed_files": 31,
        "created_at": "2019-08-06T11:29:39Z",
        "closed_at": "2019-08-06T11:39:25Z",
        "merged_at": null,
        "body": "Delete this",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-07-31T19:43:04Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Cleaned documentation comment up. I removed the \"TODO\" because it was very old.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3558,
        "deletions": 32,
        "changed_files": 4,
        "created_at": "2019-07-30T15:35:17Z",
        "closed_at": "2019-07-30T15:36:47Z",
        "merged_at": null,
        "body": "Now reaching phase 4 of Windows loading. Using original EFI runtime services",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-07-28T13:10:50Z",
        "closed_at": "2019-07-28T13:11:07Z",
        "merged_at": null,
        "body": "this is a test. will be removed.",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 20,
        "deletions": 18,
        "changed_files": 2,
        "created_at": "2019-07-14T03:01:16Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Moved to markup file, added hyperlinks, added welcome, added thanks.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-07-12T10:43:17Z",
        "closed_at": "2019-07-12T18:38:33Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-07-10T20:40:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Corrected \"it's\" to \"its\"",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-07-07T15:10:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Added Oregon Scientific WMR89 (0x0FDE, 0xCA0A)",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 29888,
        "deletions": 29888,
        "changed_files": 2639,
        "created_at": "2019-07-05T12:59:54Z",
        "closed_at": null,
        "merged_at": null,
        "body": "# Remove the extra space characters at the end of lines for each file in Linux kernel source  \r\nBecause my email box can't send patches to LKML, so I created this PR.  \r\nI will also use my friends' email box to send my patch as soon as I can.  \r\nThese changes may have something wrong, I will also have a check and improve, so please have a check before merging this PR.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 792,
        "deletions": 2,
        "changed_files": 3,
        "created_at": "2019-07-01T17:40:48Z",
        "closed_at": "2019-07-01T17:43:56Z",
        "merged_at": null,
        "body": "Currently only supports extremely simple apps like HelloWorld.efi\r\n\r\n* kexec.h - Added KEXEC_RUN_PE flag to be passed to kexec_load. This is the\r\n* kexec.c\r\n        - Implemented kimage_load_pe, kimage_run_pe\r\n        - Implemented EFI hooks to generate fake EFI system table and\r\n        fake EFI boot services.\r\n        - Implemented naive EFI AllocatePool, FreePool\r\n        - Implemented EFI conout to enable OutputString",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-07-01T12:57:43Z",
        "closed_at": "2019-07-01T13:05:30Z",
        "merged_at": null,
        "body": "Add missing Less than an Greater than signs in the examples.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2019-06-30T13:12:37Z",
        "closed_at": null,
        "merged_at": null,
        "body": "- Fixes lot of bugs",
        "comments": 22
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 2345,
        "changed_files": 1,
        "created_at": "2019-06-26T12:10:58Z",
        "closed_at": "2019-07-22T11:36:47Z",
        "merged_at": null,
        "body": "I made huge improvements to the linux kernel by optimizing the code to not even compile at all so the runtime will be very close to O(0). This should make the kernel more usable for most users.",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 430,
        "deletions": 1,
        "changed_files": 3,
        "created_at": "2019-06-24T10:42:23Z",
        "closed_at": "2022-01-02T01:44:38Z",
        "merged_at": null,
        "body": "This Pull-Requests adds support for a new board named eval1a\r\nThe configuration has been tested and is working properly.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-06-21T06:02:49Z",
        "closed_at": "2019-06-21T06:03:05Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-06-20T09:53:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "update",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 576,
        "deletions": 570,
        "changed_files": 1,
        "created_at": "2019-06-17T19:18:05Z",
        "closed_at": "2019-06-17T19:55:10Z",
        "merged_at": null,
        "body": "Legacy __print__ statements are syntax errors in Python 3 but __print()__ function works as expected in both Python 2 and Python 3.  There are now less than 200 days until Python 2 end of life.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 10,
        "deletions": 8,
        "changed_files": 1,
        "created_at": "2019-06-09T06:00:05Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2019-06-08T17:11:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Results are same. But, more convenient.",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 8,
        "changed_files": 1,
        "created_at": "2019-06-05T05:49:32Z",
        "closed_at": null,
        "merged_at": null,
        "body": "some simple fixing and making more efficient.",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 17,
        "deletions": 25,
        "changed_files": 1,
        "created_at": "2019-06-04T18:59:48Z",
        "closed_at": null,
        "merged_at": null,
        "body": "**\u0421\u041b\u0410\u0412\u0410 \u0423\u041a\u0420\u0410\u0407\u041d\u0406 \u0422\u0410 \u041a\u0415\u0420\u041d\u0415\u0421\u0423 \u0413\u0415\u041d\u041d\u0410\u0414\u0406\u042e \u0410\u0414\u041e\u041b\u042c\u0424\u041e\u0412\u0418\u0427\u0423**",
        "comments": 14
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 2,
        "created_at": "2019-06-03T18:12:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "An ifdef expects to be compiled with full-fledged Linux toolchain,\r\nbut it's common to compile kernel with just bare-metal toolchain\r\nwhich doesn't define __linux__. So, also add __KERNEL__ check.\r\n\r\nSigned-off-by: Laster K. (lazerl0rd) <officiallazerl0rd@gmail.com>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-06-02T21:39:34Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 77
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-05-28T04:36:44Z",
        "closed_at": "2019-05-28T04:37:10Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-05-16T00:15:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Asus Rog GL553VW FN + KEYBOARD",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-05-16T00:13:36Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Asus Rog GL553VW FN keys and keyboard",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2918,
        "deletions": 54,
        "changed_files": 38,
        "created_at": "2019-05-13T20:32:35Z",
        "closed_at": "2019-05-13T20:32:56Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2762,
        "deletions": 41,
        "changed_files": 24,
        "created_at": "2019-05-12T16:53:44Z",
        "closed_at": "2019-05-12T16:54:14Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-05-10T22:17:33Z",
        "closed_at": "2019-05-15T16:17:06Z",
        "merged_at": null,
        "body": "Makefile's wildcard can find host header file which\r\nleads to false-positive detection of presence of libyaml\r\ninstallation when cross-compiling.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3703,
        "deletions": 121,
        "changed_files": 57,
        "created_at": "2019-05-09T10:29:13Z",
        "closed_at": "2019-05-09T10:31:02Z",
        "merged_at": null,
        "body": "Merge",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3703,
        "deletions": 121,
        "changed_files": 57,
        "created_at": "2019-05-06T03:04:02Z",
        "closed_at": "2019-05-06T03:04:42Z",
        "merged_at": null,
        "body": "How do I merge?",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2019-05-03T22:00:57Z",
        "closed_at": "2019-08-24T14:55:50Z",
        "merged_at": null,
        "body": "**Purpose**\r\nThis PR aims to fix the documentation of `bprm_set_creds` and `bprm_check_security` hooks.\r\n\r\n**Issue**\r\nEarlier the docstrings erroneously used `@bprm->security`. However, the `struct linux_binprm` does not have a `security` field. It has a `cred` field which in turn has the desired `security` `void *`. Hence the correct\r\n\r\n**Fix**\r\nThe correct usage should be `@bprm->cred->security`. Hence I replaced all occurrences of `@bprm->security` with the correct one.\r\n\r\n[SELinux](https://github.com/torvalds/linux/blob/master/security/selinux/hooks.c#L2323) too uses `bprm->cred->security` in their codebase.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-05-03T19:59:00Z",
        "closed_at": null,
        "merged_at": null,
        "body": "\u2026ware state wrong, so the wifi is hard blocked and not working.\r\n\r\nInstead of adding hundreds of exceptions of lenovo laptops, why not adding a switch for loading the module with wifi hardware state unblocked or something like this,",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-05-03T12:58:13Z",
        "closed_at": null,
        "merged_at": null,
        "body": "When ones changes the state of any input pins of a PCA9555 chip before setting up the IRQ mask through i.e. SysFS e.g.\r\n\r\necho \"both\" > /sys/class/gpio/gpioXYZ/edge the epoll_wait shall not exit on the subsequent change of the GPIO state.\r\nThe reason behind it is that the IRQ status is not being saved when the IRQ is masked.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 7,
        "changed_files": 1,
        "created_at": "2019-05-02T16:39:54Z",
        "closed_at": null,
        "merged_at": null,
        "body": "General Update of Documentation",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 46,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-04-23T13:03:59Z",
        "closed_at": "2019-04-30T00:56:51Z",
        "merged_at": null,
        "body": "I added an interface which is more intuitive and takes less write/read systemcalls. \r\n\r\nI think that most people don't really care period and quota of CFS Bandwidth, They just use it like \"I will allow this process to use 50% of single core\" in most cases. But I know that we still need to care period and quota in some cases.\r\n\r\nPlease consider for merging this if you like, thanks.",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-04-12T16:42:51Z",
        "closed_at": "2019-04-14T22:59:16Z",
        "merged_at": null,
        "body": "changed his to their",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-04-06T15:18:12Z",
        "closed_at": "2019-04-10T17:11:22Z",
        "merged_at": null,
        "body": "Fixed errors on the memory management page that were showing on the kernel docs",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-04-06T03:23:07Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Removed unnecessary space after the period, on line 9.",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 176145,
        "deletions": 559990,
        "changed_files": 16862,
        "created_at": "2019-04-02T01:16:36Z",
        "closed_at": "2019-04-06T07:08:29Z",
        "merged_at": null,
        "body": "there were a lot of bugs so i removed all the bugs so now there are no bugs",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-03-27T03:44:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "BSD SHALL PREVAIL.\r\n\r\nISSUES CORRECTED: ALL",
        "comments": 7
    },
    {
        "merged": false,
        "additions": 89,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-03-22T07:01:42Z",
        "closed_at": null,
        "merged_at": null,
        "body": "There was no function to erase pages. so I added.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 46709,
        "deletions": 18296,
        "changed_files": 2756,
        "created_at": "2019-03-21T15:14:51Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Sorry, mistake.... ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 16,
        "deletions": 10,
        "changed_files": 2,
        "created_at": "2019-03-19T22:53:56Z",
        "closed_at": "2023-02-10T02:29:18Z",
        "merged_at": null,
        "body": "While using ELAN touchpad's, there are messages flooding in journalctl and dmesg with incomplete report:\r\n`[  581.465203] i2c_hid i2c-ELAN1200:00: i2c_hid_get_input: incomplete report (16/65535)`\r\n\r\nAlso there were the next bugs:\r\n\r\n- If you touch touchpad with 5 fingers, the driver dies immediately.\r\n- When you scroll anything, and release one finger, driver thought you are still scrolling\r\n\r\nRecently, I spoke to ELANTECH and they send me a patch suggested by Intel to fix this issue. It was a simple hack, so me and guys from [redhat](https://bugzilla.redhat.com/show_bug.cgi?id=1543769#c130) forum created this patch.\r\n\r\nIt is fixed by adding additional quirk to trigger `IRQF_TRIGGER_FALLING` flag.\r\n\r\nAn explanation about why i2c_hid_init_irq section was moved under the i2c_hid_lookup_quirk, answered by Hans de Goede <hdegoede@redhat.com>:\r\n\r\n> i2c_hid_init_irq now checks for a quirk, so we must setup the quirks before we init the irq, and we cannot setup the quirk earlier, so we must init the irq later.\r\n\r\nSo this commit revert's [this](https://github.com/torvalds/linux/commit/1475af255e18f35dc46f8a7acc18354c73d45149#diff-896178b83bacd485a53cd66e4cd7e2d0) commit, as no message flood can be seen by now, and fixes touchpad problems.\r\n\r\nSigned-off-by: Vladislav Dalechyn <hotwater438@tutanota.com>",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 21,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2019-03-13T12:59:13Z",
        "closed_at": "2019-03-13T13:06:30Z",
        "merged_at": null,
        "body": "As per specifications http://www.hardwaresecrets.com/datasheets/F81865_V028P.pdf\r\nUpdated logs for supported devices added from previous commit",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-03-08T13:55:22Z",
        "closed_at": null,
        "merged_at": null,
        "body": "There was a double space.",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 5,
        "changed_files": 1,
        "created_at": "2019-03-06T01:55:01Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 34341,
        "deletions": 7,
        "changed_files": 237,
        "created_at": "2019-03-05T18:47:43Z",
        "closed_at": "2019-03-05T18:49:07Z",
        "merged_at": null,
        "body": "Update PROCFS_MAX_SIZE to 512 to get rid of:\r\nwarning: the frame size of 1028 bytes is larger than 1024 bytes [-Wframe-larger-than=]",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-03-05T05:35:12Z",
        "closed_at": "2019-03-15T10:33:16Z",
        "merged_at": null,
        "body": "test",
        "comments": 8
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-03-03T14:52:06Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 12
    },
    {
        "merged": false,
        "additions": 24,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2019-02-26T23:11:33Z",
        "closed_at": "2019-02-27T00:22:08Z",
        "merged_at": null,
        "body": "dynfunc1() is a system call that supports adding function in kernel module to process parameter passed to dynfunc1().",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 74335,
        "deletions": 7947,
        "changed_files": 2020,
        "created_at": "2019-02-23T14:56:48Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Course presents F5/F6 keys as shortcuts to move between multiple\r\nresults but they are not implemented (not working).\r\n\r\n\"If there are more than one results (usually there are) you can\r\nmove between them using F6 and F5\"\r\n[cscope_shortcuts.zip](https://github.com/torvalds/linux/files/2896903/cscope_shortcuts.zip)\r\n\r\n",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-02-22T03:46:23Z",
        "closed_at": null,
        "merged_at": null,
        "body": "make intsall_headers overwrites the environment variable INSTALL_HDR_PATH, this commit allows it to be configured as described.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 107,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-02-22T00:41:10Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Added a few functions to work with double linked lists over integer indices.\r\nlist_part_of()\r\nlist_len()\r\nlist_add_at()\r\nlist_del_at()\r\nlist_get()\r\nI used this functions as an extension in an other project and I thought that these are maybe useful for others. If they are not relevant enough, simply close this request.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-02-15T10:17:23Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-02-14T21:19:46Z",
        "closed_at": "2019-04-20T09:00:27Z",
        "merged_at": null,
        "body": "It's not better so?",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-02-08T09:01:01Z",
        "closed_at": "2019-02-08T09:01:56Z",
        "merged_at": null,
        "body": "test",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 17,
        "deletions": 18,
        "changed_files": 2,
        "created_at": "2019-02-07T18:35:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "It was not rendering as markdown because it was not a .md file.\r\nI also added links for mentioned documents.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 44,
        "deletions": 0,
        "changed_files": 2,
        "created_at": "2019-02-03T10:16:01Z",
        "closed_at": "2019-02-03T12:00:04Z",
        "merged_at": null,
        "body": "This PR add tsin pins for meson-gxbb/gxl/gxm.  This PR was verified on LibreELEC Amlogic mainline kernel 4.20.5 build.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2019-01-28T07:23:59Z",
        "closed_at": "2019-01-28T07:25:01Z",
        "merged_at": null,
        "body": "merge master",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 11,
        "deletions": 8,
        "changed_files": 1,
        "created_at": "2019-01-28T04:02:36Z",
        "closed_at": null,
        "merged_at": null,
        "body": "The original sharpness control is unable to work and we modify the code base on packet capture from Windows driver.\r\nTested with an \"Easier CAP\" UTV007 device.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 6,
        "deletions": 6,
        "changed_files": 1,
        "created_at": "2019-01-26T09:13:19Z",
        "closed_at": null,
        "merged_at": null,
        "body": "https://bugzilla.kernel.org/show_bug.cgi?id=194593\r\n\r\nUpdation of time constraints from jiffies to USER_HZ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 190,
        "deletions": 1,
        "changed_files": 2,
        "created_at": "2019-01-16T22:31:40Z",
        "closed_at": null,
        "merged_at": null,
        "body": "On Gentoo, trying to compile linux-5.0.0-rc2 failed until I copied oid_registry_data.c from 4.20 sources",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 9876,
        "deletions": 0,
        "changed_files": 6,
        "created_at": "2019-01-14T07:43:41Z",
        "closed_at": "2019-01-14T07:44:02Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2019-01-09T19:01:36Z",
        "closed_at": "2020-03-02T21:31:38Z",
        "merged_at": null,
        "body": "Two spaces after a sentence instead of one in two places.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2019-01-08T05:24:49Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Correct spelling mistakes.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-01-06T07:07:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "This is untested. I returned the device and bought a compatible one. Just dumping this here in case someone else wants to steal it/merge it. I don't have any motivation at this point to figure out the email submission process.\r\n\r\nOriginally from https://groups.google.com/d/msg/beagleboard/sSNHl1LvTN0/0UG54OI5PDwJ.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2019-01-03T16:46:16Z",
        "closed_at": "2019-01-03T16:49:17Z",
        "merged_at": null,
        "body": "trying pull request",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2019-01-03T04:24:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 484,
        "changed_files": 1,
        "created_at": "2018-12-29T21:59:04Z",
        "closed_at": "2019-02-13T08:35:13Z",
        "merged_at": null,
        "body": null,
        "comments": 63
    },
    {
        "merged": false,
        "additions": 76,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-12-29T14:17:28Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 13,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-12-25T23:34:33Z",
        "closed_at": "2019-01-07T21:12:13Z",
        "merged_at": null,
        "body": "Lenovo Ideapad D330 Pentium CPU version has 1920x1200 LCD. Console ouput gets rotated at boot as Miix 310.\r\n\r\nSigned-off-by: David Santamar\u00eda Rogado <howl.nsp@gmail.com>",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-12-21T17:52:39Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Just like the upstream commit 8e7df2b, there's not enough reasons to read this file as non-root.\r\nThe old CVE-2014-1738 could have been prevented by this.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-12-10T18:50:05Z",
        "closed_at": "2018-12-23T15:37:37Z",
        "merged_at": null,
        "body": "Add ELAN0501 to the ACPI table to support Elan touchpad found in ASUS Aspire F5-573G",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-12-04T15:12:55Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Add ELAN061E to the ACPI table to support Elan touchpad found in Lenovo IdeaPad 330-15ARR.",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-12-04T09:06:28Z",
        "closed_at": null,
        "merged_at": null,
        "body": "spi::mode is defined by framework for several SPI capabilities, such as polarity, phase, bit-endian, wire number.\r\nDirectly use this variable for setting controller's polarity and phase is inappropriate.\r\nSince SPI framework has its definition,  fetch required bit in spi::mode and set to register.",
        "comments": 1
    },
    {
        "merged": true,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-12-02T11:00:48Z",
        "closed_at": "2019-03-15T22:03:08Z",
        "merged_at": "2019-03-15T22:03:08Z",
        "body": "just on a13,thanks",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 340565,
        "deletions": 4825,
        "changed_files": 3441,
        "created_at": "2018-12-01T02:47:30Z",
        "closed_at": "2018-12-01T02:48:59Z",
        "merged_at": null,
        "body": "a",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 12,
        "deletions": 12,
        "changed_files": 9,
        "created_at": "2018-11-30T21:01:03Z",
        "closed_at": "2018-12-06T14:02:08Z",
        "merged_at": null,
        "body": "This is an automated pull request to fix broken Gmane URLs.\n\n  Here's what I did:\n  First I searched for Gmane URLs in your repo. For each Gmane URL, I checked if the content was available at the URL. For URLs where the content was not available, I first checked the `article` subdomain of Gmane, which has some content not available on the `thread` and `comments` subdomains.\n\n  If the content wasn't anywhere on Gmane's web interface, I resolved the URL to a [Message-ID](https://en.wikipedia.org/wiki/Message-ID) via the Gmane NNTP interface and tried to find the Message-ID on other mailing list archivers. I checked `mail-archive.com`, then `marc.info`, then `lists.debian.org` and so on.\n\n  If a new URL was found, I replaced it in this pull request. If the content wasn't found, I left the link alone.\n  ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-11-30T15:21:19Z",
        "closed_at": "2018-11-30T19:39:10Z",
        "merged_at": null,
        "body": "fixed typo in usr/Makefile comment section",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-11-27T17:59:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Add old work patch...",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-11-21T11:49:42Z",
        "closed_at": null,
        "merged_at": null,
        "body": "added\r\n PDP Wired Controller for Xbox One - Crimson Red\r\n  idVendor           0x0e6f \r\n  idProduct          0x02a2",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 430,
        "deletions": 0,
        "changed_files": 4,
        "created_at": "2018-11-16T22:40:07Z",
        "closed_at": "2018-11-16T22:52:37Z",
        "merged_at": null,
        "body": "kernel module to read vmx controls  <Please reject the request, for learning purpose only>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 26,
        "deletions": 0,
        "changed_files": 15,
        "created_at": "2018-11-15T06:37:34Z",
        "closed_at": "2018-11-15T06:39:39Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-11-13T14:56:48Z",
        "closed_at": "2018-11-13T14:57:01Z",
        "merged_at": null,
        "body": "Update Files",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-11-11T12:40:19Z",
        "closed_at": "2018-11-11T12:41:49Z",
        "merged_at": null,
        "body": "Merge head 20181111",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-11-11T12:26:53Z",
        "closed_at": "2018-11-11T12:27:18Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 19,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-10-29T22:15:00Z",
        "closed_at": "2020-07-12T19:23:11Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 242,
        "changed_files": 2,
        "created_at": "2018-10-29T14:52:13Z",
        "closed_at": "2018-10-29T14:52:35Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-10-29T12:47:15Z",
        "closed_at": null,
        "merged_at": null,
        "body": "now support lenovo ideapad 330 15ARR (ryzen 3 model)",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-10-28T22:51:36Z",
        "closed_at": "2018-10-29T00:21:48Z",
        "merged_at": null,
        "body": "Got this error in dmesg: i2c_hid i2c-ELAN061E:00: i2c-ELAN061E:00 supply vdd not found, using dummy regulator",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 27896,
        "deletions": 1021,
        "changed_files": 154,
        "created_at": "2018-10-28T07:19:51Z",
        "closed_at": "2018-10-28T07:20:34Z",
        "merged_at": null,
        "body": "remove some duplicated defines",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-10-27T03:15:56Z",
        "closed_at": "2018-10-27T03:16:21Z",
        "merged_at": null,
        "body": "update",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 154,
        "deletions": 86,
        "changed_files": 2,
        "created_at": "2018-10-25T20:42:16Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Changed it to the new SQLite CoC",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-10-20T13:09:54Z",
        "closed_at": null,
        "merged_at": null,
        "body": "\u66f4\u65b0",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 279,
        "deletions": 1,
        "changed_files": 7,
        "created_at": "2018-10-17T11:38:59Z",
        "closed_at": "2018-10-17T11:41:01Z",
        "merged_at": null,
        "body": "The Platform Security Processor (PSP) is part of the AMD Secure\r\nProcessor (AMD-SP) functionality. The PSP is a dedicated processor that\r\nprovides support for software-based Trusted Execution Environment (TEE)\r\nto enable third-party trusted applications.\r\n\r\nSigned-off-by: Brijesh Singh <brijesh.singh@amd.com>\r\nSigned-off-by: Rijo Thomas <Rijo-john.Thomas@amd.com>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-10-15T14:24:49Z",
        "closed_at": "2020-09-12T18:49:15Z",
        "merged_at": null,
        "body": "Documented ac97_bus.c for better understanding. :+1:",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5032,
        "deletions": 0,
        "changed_files": 16,
        "created_at": "2018-10-15T06:35:01Z",
        "closed_at": "2018-10-23T03:45:42Z",
        "merged_at": null,
        "body": "Added a full duplex riffa PCIe linux staging driver. \r\n\r\nSigned-off-by: PHUNG CHENG FEI (feiphung@hotmail.com)",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 29,
        "deletions": 81,
        "changed_files": 2,
        "created_at": "2018-10-09T07:59:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Much better.\r\n\r\nWe dont need to inject politics into this. So please.\r\n\r\n",
        "comments": 9
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-10-09T02:29:16Z",
        "closed_at": "2018-10-09T02:29:34Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 66,
        "deletions": 81,
        "changed_files": 1,
        "created_at": "2018-10-06T16:08:32Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Its better because it only cares aobut people's code not there race or gender which doesnt rly mater in programing like at all. All that should mater is your code not your race or gender",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 17,
        "deletions": 74,
        "changed_files": 1,
        "created_at": "2018-10-05T02:36:48Z",
        "closed_at": "2018-10-12T00:58:27Z",
        "merged_at": null,
        "body": "fixed CoC.",
        "comments": 6
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2018-10-02T17:51:52Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Variable count is redundant.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-10-02T14:34:22Z",
        "closed_at": "2018-10-03T10:42:53Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 81,
        "changed_files": 1,
        "created_at": "2018-09-28T17:58:28Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Removing the PC code of conduct. There is no need for an outside body to dictate community guidelines for an open source community, people are free to be horrible however they want, we are programmers for Christ's sake we are naturally awkward I will not allow our awkwardness be used against us to defy us of our merit. This kernel is based on the fact that if you have good code, regardless of how politically incorrect, inappropriate you are whatever background you come from, whatever gender, religion, race, planet or what so ever should not dictate if your code is accepted, it should be based of the merit the quality of your code brings.",
        "comments": 7
    },
    {
        "merged": false,
        "additions": 28,
        "deletions": 81,
        "changed_files": 1,
        "created_at": "2018-09-26T00:19:26Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Due to the amount of controversy following the installation of the Code of Conduct, I am opening this pull request to replace it with the original Code of Conflict, to, as put by Joey Pabalinas, \"Unfuck our Codes of Conduct\", and to stop the controversy and drama (two things I never liked).",
        "comments": 6
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-09-23T21:46:13Z",
        "closed_at": null,
        "merged_at": null,
        "body": "feels more like it now :100:",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 23,
        "deletions": 43,
        "changed_files": 4,
        "created_at": "2018-09-21T18:14:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 39,
        "deletions": 74,
        "changed_files": 9,
        "created_at": "2018-09-21T01:43:20Z",
        "closed_at": "2018-09-21T18:13:12Z",
        "merged_at": null,
        "body": "I did my best to clean up bits and pieces of the kernel code.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 47,
        "deletions": 81,
        "changed_files": 1,
        "created_at": "2018-09-21T01:39:01Z",
        "closed_at": null,
        "merged_at": null,
        "body": "As should be apparent by a number of other pull requests, contributors / users are not fond of the current Code of Conduct. So I rewrote it, in a manner that should more effectively convey the message whilst pinching the scope to the actual github, as opposed to the entire internet, as the wording was vague previously.\r\n\r\nEDIT: If someone else can get this into the Linux Kernel Mailing List, I'd be greatly appreciative. I can't figure it out (keep getting a \"missing operand\" error, will try again on my main system as opposed to a secondary laptop come Monday).",
        "comments": 6
    },
    {
        "merged": false,
        "additions": 28,
        "deletions": 81,
        "changed_files": 2,
        "created_at": "2018-09-19T14:11:56Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Undoing the Freedesktop.org coup. Linus was blackmailed.\r\n![45757254-80909080-bc55-11e8-953a-7a2f549a1f13](https://user-images.githubusercontent.com/11582807/45758938-666e9800-bbec-11e8-8594-e916f71c97cf.png)\r\n",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 29,
        "deletions": 82,
        "changed_files": 3,
        "created_at": "2018-09-19T10:07:40Z",
        "closed_at": "2019-01-09T09:18:18Z",
        "merged_at": null,
        "body": "This reverts commit 8a104f8b5867c682d994ffa7a74093c54469c11f.\r\n\r\nCode is just code, no politics please.",
        "comments": 94
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-09-17T18:46:54Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Fixed Spacing",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 81,
        "changed_files": 1,
        "created_at": "2018-09-17T12:33:34Z",
        "closed_at": "2018-09-17T14:45:59Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-09-12T18:14:00Z",
        "closed_at": null,
        "merged_at": null,
        "body": "```\r\n                                                                                                                                                     -- it's literally nothing. We all love Linux and everything about it <3\r\n```",
        "comments": 17
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-09-09T17:00:40Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-08-28T19:24:58Z",
        "closed_at": "2018-08-28T19:28:51Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-28T10:15:05Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Added a line to support Marvell 88SE6141 SATA controller. According to https://forums.gentoo.org/viewtopic-t-581669-start-0.html this is what the manufacturer's driver did (i.e. patch the kernel with this line).\r\nAdding this to the main ahci.c file would provide out-of-the box support for Marvell 88SE6141. ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2018-08-27T20:54:45Z",
        "closed_at": "2018-09-15T10:02:49Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 24,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-27T08:16:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-08-26T09:20:24Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 15
    },
    {
        "merged": false,
        "additions": 9,
        "deletions": 19,
        "changed_files": 2,
        "created_at": "2018-08-26T06:48:23Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-15T09:27:05Z",
        "closed_at": "2019-09-07T06:49:16Z",
        "merged_at": null,
        "body": "Rename **README** to **README.md** for Markdown syntax highlighting :smile: ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-12T02:04:19Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-11T03:25:25Z",
        "closed_at": null,
        "merged_at": null,
        "body": "To make README more friendly and provides link for beginners. ",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2018-08-07T08:28:04Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Function team_nl_send_options_get() and team_nl_send_port_list_get() defined in drivers/net/team/team.c call function __send_and_alloc_skb() 2 times respectively. After the first call to function __send_and_alloc_skb(), pointer skb keeps the return value of nlmsg_new(), which should be freed by nlmsg_free() on exit. Function __send_and_alloc_skb() calls a function pointer send_func() which may return error. However, when the second call to __send_and_alloc_skb() fails, function team_nl_send_options_get() and team_nl_send_port_list_get() directly returns, leaving skb unfreed.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-07T07:58:58Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Function ovs_ct_limit_cmd_get() defined in net/openvswitch/conntrack.c may cause a null pointer dereference as it calls nla_nest_start which may return NULL. The returned value is used in function nla_nest_end() later where the pointer is dereferenced.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-08-06T07:31:11Z",
        "closed_at": "2018-08-17T02:30:02Z",
        "merged_at": null,
        "body": "Function pkt_setup_dev() defined in drivers/block/pktcdvd.c calls alloc_disk(). However, it forgets to set the error return code when alloc_disk() fails. Instead, when alloc_disk() fails, it simply jumps to label 'out_mem' leaving the variable ret unchanged.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-08-06T07:11:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Function init_per_cpu() defined in arch/x86/platform/uv/tlb_uv.c calls kzalloc() to allocate memory for variable uvhub_mask which is used in function get_cpu_topology() and function summarize_uvhub_sockets() later. However, none of the 3 functions mentioned above checks whether uvhub_mask is NULL. As kzalloc() may return NULL, when get_cpu_topology() and summarize_uvhub_sockets() tries to dereference this pointer, it may cause NULL pointer dereference bug.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-08-06T01:07:19Z",
        "closed_at": "2018-08-06T01:07:52Z",
        "merged_at": null,
        "body": "Update Files",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 331,
        "deletions": 55,
        "changed_files": 13,
        "created_at": "2018-07-30T19:54:24Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Testing with AR9271 USB device I was able to start 8 VAPs, but one client device could connect only if 7 VAPs were configured. This might need more work to make the feature fully usable, but even at present situation it enables functionality that was previously disabled.\r\nUpdated ath9k_htc firmware is required too, PR already opened: https://github.com/qca/open-ath9k-htc-firmware/pull/149\r\n\r\nSigned-off-by: Tomislav Po\u017eega <pozega.tomislav@gmail.com>",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-07-23T06:22:01Z",
        "closed_at": "2018-07-23T06:29:09Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 42,
        "deletions": 8,
        "changed_files": 4,
        "created_at": "2018-07-20T22:02:12Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Tested on tegra124 mocha board with dual-channel MIPI DSI panel.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-07-15T16:43:33Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-07-08T08:20:58Z",
        "closed_at": null,
        "merged_at": null,
        "body": "validate user-controlled offset paramter to avoid  arbitrary access.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 60454,
        "deletions": 28895,
        "changed_files": 3785,
        "created_at": "2018-07-06T09:09:29Z",
        "closed_at": "2018-07-06T09:21:09Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-07-05T18:32:13Z",
        "closed_at": "2018-11-22T17:07:00Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 44,
        "deletions": 5,
        "changed_files": 3,
        "created_at": "2018-07-05T04:41:44Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Hi Linus,\r\n   here is rtl28xxu.c rtl28xxu.h update with support cxd2837er demodulator for right function Astrometa 2018 dvb-t/t2/c stick. Works for me on linux kernel 4.17.2.",
        "comments": 29
    },
    {
        "merged": false,
        "additions": 18,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2018-07-03T15:01:32Z",
        "closed_at": "2018-07-11T13:10:45Z",
        "merged_at": null,
        "body": "\u2026/S390 arch.\r\n\r\nI have made following changes in sysrq.rst\r\n\r\nOn System Z - Press 'CTRL-O-<command key>' on the hvc0 console.'CTRL-O' means\r\n                        pressing 'O' (not zero) while holding down the 'CTRL' key. For \r\n                       3270 console or line-mode HMC console: Pass '^-<command key>'\r\n                       Here, '^-' means cap and dash characters.\r\n\r\nSigned-off-by: Prashant Dhamdhere <pdhamdhe@redhat.com>\r\n\r\n\r\n\r\n\r\n",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-06-30T17:02:15Z",
        "closed_at": "2018-06-30T19:29:29Z",
        "merged_at": null,
        "body": "contents need to be zeroed otherwise cryptographic data will be leaked",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 39264,
        "deletions": 19830,
        "changed_files": 2704,
        "created_at": "2018-06-28T09:10:06Z",
        "closed_at": "2018-06-28T09:24:03Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-06-25T18:56:44Z",
        "closed_at": "2018-06-25T19:00:33Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-06-18T20:29:09Z",
        "closed_at": "2018-10-11T20:10:00Z",
        "merged_at": null,
        "body": "",
        "comments": 20
    },
    {
        "merged": false,
        "additions": 307,
        "deletions": 26,
        "changed_files": 5,
        "created_at": "2018-06-11T14:38:59Z",
        "closed_at": "2018-06-11T14:39:27Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-06-09T02:16:22Z",
        "closed_at": "2018-06-09T02:16:40Z",
        "merged_at": null,
        "body": "update upstream",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-06-06T03:54:07Z",
        "closed_at": "2018-06-19T07:44:06Z",
        "merged_at": null,
        "body": "update",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 10,
        "deletions": 10,
        "changed_files": 1,
        "created_at": "2018-06-05T09:42:15Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-06-03T14:48:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Clearly this is a markdown file with markdown grammar. And change the filename extension can make GitHub give a better display.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-05-30T12:16:40Z",
        "closed_at": "2018-05-30T12:31:31Z",
        "merged_at": null,
        "body": "update upstream",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-05-29T14:23:39Z",
        "closed_at": "2018-05-29T14:32:18Z",
        "merged_at": null,
        "body": "upstream",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-05-28T02:45:03Z",
        "closed_at": null,
        "merged_at": null,
        "body": "`Lenovo Zhaoyang E42-80` is another Lenovo ideapad model **without a hw rfkill switch**, resulting in wifi always reported as hard blocked.\r\nAdd it to the list of models without rfkill switch.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2018-05-12T20:20:40Z",
        "closed_at": "2018-05-15T10:04:37Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-05-07T04:35:04Z",
        "closed_at": null,
        "merged_at": null,
        "body": "typo CLOCK_MONTONIC",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-04-23T14:29:44Z",
        "closed_at": "2018-04-23T14:31:42Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-04-23T04:44:35Z",
        "closed_at": "2018-04-23T14:10:13Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-04-08T14:10:33Z",
        "closed_at": "2022-07-01T02:26:12Z",
        "merged_at": null,
        "body": "I deleted the commas that where right after the open curly brackets, because there wasn't anything in front of the commas.",
        "comments": 9
    },
    {
        "merged": false,
        "additions": 6,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-04-08T11:09:06Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Some software like firewalld depend on kernel module meta-data.\r\nThis patch will help to fix: https://github.com/firewalld/firewalld/issues/263",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 16,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2018-04-06T23:03:32Z",
        "closed_at": "2018-04-06T23:21:07Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-04-06T15:17:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "For some reason _make htmldocs_ is not changing into `make htmldocs` in README.md even after trying in multiple ways. So just removed the back quotes which were serving no use.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 49481,
        "deletions": 23681,
        "changed_files": 2944,
        "created_at": "2018-04-06T13:38:28Z",
        "closed_at": "2018-04-06T13:39:02Z",
        "merged_at": null,
        "body": "PR on wrong repo, sorry.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-04-05T09:31:06Z",
        "closed_at": "2018-04-07T03:31:22Z",
        "merged_at": null,
        "body": "Specifically for the Magic Control Technology Corp. Magic Control Technology Corp. dongle.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-04-04T18:24:22Z",
        "closed_at": "2018-04-04T18:25:26Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-04-04T07:00:48Z",
        "closed_at": "2018-04-04T07:01:17Z",
        "merged_at": null,
        "body": "update",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 6,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-04-02T20:13:59Z",
        "closed_at": null,
        "merged_at": null,
        "body": "when trying to turn on the keyboard light FN+F9\r\n''' [  775.626810] acer_wmi: Unknown key number - 0x84 '''",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 93,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2018-03-30T07:53:27Z",
        "closed_at": "2019-03-21T08:22:10Z",
        "merged_at": null,
        "body": "FAT file system lacks the ability to handle FITRIM ioctl, thus we can not use fstrim one FAT filesys.\r\nThis change add FITRIM ioctl for fstrim or other tools to leverage.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-03-30T01:50:44Z",
        "closed_at": "2018-03-30T01:51:51Z",
        "merged_at": null,
        "body": "update",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 103558,
        "deletions": 6748,
        "changed_files": 1545,
        "created_at": "2018-03-28T01:40:36Z",
        "closed_at": "2018-03-28T01:42:13Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 5,
        "changed_files": 3,
        "created_at": "2018-03-22T20:51:55Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Signed-off-by: Piotr Kasprzyk <ciri@ciri.pl>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-03-20T16:55:23Z",
        "closed_at": "2018-03-20T16:57:44Z",
        "merged_at": null,
        "body": "Randomly stumbled upon this:\r\nLINE 184: \"Verify we're witin\" -> \"Verify we're within\"\r\n\r\n//EDIT: Not the appropriate location for something like this",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 21979,
        "deletions": 6,
        "changed_files": 134,
        "created_at": "2018-03-18T20:58:32Z",
        "closed_at": "2018-03-18T21:00:57Z",
        "merged_at": null,
        "body": "atomic_inc will not reset the access variable, and so, the resource will be busy at any second call. To solve, atomic_dec, or simply, atomic_set to 0, as implied in the TODO.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 583187,
        "deletions": 815488,
        "changed_files": 12383,
        "created_at": "2018-03-17T10:15:17Z",
        "closed_at": "2018-04-07T03:31:22Z",
        "merged_at": null,
        "body": "is there any serialdriver to get 9 bit uart data\r\n",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-03-14T21:37:35Z",
        "closed_at": "2018-03-14T21:39:24Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 19922,
        "deletions": 6,
        "changed_files": 118,
        "created_at": "2018-03-12T20:54:50Z",
        "closed_at": "2018-03-12T20:55:22Z",
        "merged_at": null,
        "body": "Addressed Tavi's comments. Still TODO: add info about IPI, add slide about IRQ handling in Linux (irq chips etc).",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 4443,
        "deletions": 2370,
        "changed_files": 493,
        "created_at": "2018-03-10T16:10:55Z",
        "closed_at": "2018-03-10T16:14:06Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-03-10T07:05:14Z",
        "closed_at": "2018-03-10T09:21:31Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-03-07T03:19:33Z",
        "closed_at": "2018-03-07T03:33:06Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 35342,
        "deletions": 267,
        "changed_files": 59,
        "created_at": "2018-03-05T15:28:45Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Hello,\r\n\r\nis your kernel compatible/usable with UP Squared also?\r\n\r\nThanks in advance,\r\nMichael\r\n",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 19782,
        "deletions": 6,
        "changed_files": 115,
        "created_at": "2018-03-04T20:00:32Z",
        "closed_at": "2018-03-04T20:01:01Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 845,
        "deletions": 855,
        "changed_files": 20,
        "created_at": "2018-03-02T12:16:44Z",
        "closed_at": "2018-03-03T07:00:10Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-02-27T16:31:00Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Updated xz.txt file to remove two conservative colons.\r\nExample:: changed to Example:",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-02-22T20:09:11Z",
        "closed_at": "2018-05-26T14:20:30Z",
        "merged_at": null,
        "body": "This patch adds native DSD support for the Singxer F-1 converter board.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 23122,
        "deletions": 9191,
        "changed_files": 1581,
        "created_at": "2018-02-19T09:04:56Z",
        "closed_at": "2018-02-19T09:07:38Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2018-02-16T21:16:07Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-02-15T09:39:18Z",
        "closed_at": null,
        "merged_at": null,
        "body": "EZP2010 is a very popular Chinese USB SPI Programmer. Manufacturer provides only windows drivers, but this device is based on Silicon Labs CP210x chip, so it is not so hard to add it to the driver id table.",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2018-02-14T17:09:58Z",
        "closed_at": null,
        "merged_at": null,
        "body": "On i386, there are 2 types of PLTs, PIC and non-PIC.  PIE and shared\r\nobjects must use PIC PLT.  To use PIC PLT, you need to load\r\n_GLOBAL_OFFSET_TABLE_ into EBX first.  There is no need for that on\r\nx86-64 since x86-64 uses PC-relative PLT.\r\n\r\nOn x86-64, for 32-bit PC-relative branches, we can generate PLT32\r\nrelocation, instead of PC32 relocation, which can also be used as\r\na marker for 32-bit PC-relative branches.  Linker can always reduce\r\nPLT32 relocation to PC32 if function is defined locally.   Local\r\nfunctions should use PC32 relocation.  As far as Linux kernel is\r\nconcerned, R_X86_64_PLT32 can be treated the same as R_X86_64_PC32\r\nsince Linux kernel doesn't use PLT.\r\n\r\nR_X86_64_PLT32 for 32-bit PC-relative branches has been enabled in\r\nbinutils master branch which will become binutils 2.31.\r\n\r\nTested with\r\n\r\ncommit 61f14c015f5be9151ba25e638d349f4d40cb7cd4\r\nMerge: 178e834c47b0 791412dafbbf\r\nAuthor: Linus Torvalds <torvalds@linux-foundation.org>\r\nDate:   Tue Feb 13 09:35:17 2018 -0800\r\n\r\n    Merge tag 'mips_4.16_2' of git://git.kernel.org/pub/scm/linux/kernel/git/jhogan/mips\r\n\r\non x86-64, using binutils master branch:\r\n\r\ncommit 692d6f9760bc67b68a5c96baac47067fd7dfa711\r\nAuthor: Tom Tromey <tom@tromey.com>\r\nDate:   Tue Feb 13 13:34:45 2018 -0700\r\n\r\n    Constify target_so_ops::bfd_open\r\n\r\nSigned-off-by: H.J. Lu <hjl.tools@gmail.com>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 11,
        "deletions": 28,
        "changed_files": 1,
        "created_at": "2018-02-12T04:44:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Changing the basic variable declarations to be more consistent through out the file.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 29097,
        "deletions": 14662,
        "changed_files": 603,
        "created_at": "2018-02-08T09:13:15Z",
        "closed_at": null,
        "merged_at": null,
        "body": "For early RFC/review purposes only!",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-02-05T08:01:44Z",
        "closed_at": "2018-02-06T03:15:57Z",
        "merged_at": null,
        "body": "According to specification (http://www.usb.org/developers/docs/devclass_docs/audio10.pdf, page 38), the descriptor header size should be included in wTotalLength. This **should** fix problem with UAC2 gadgets not getting recognized in Windows 10.",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 15,
        "changed_files": 1,
        "created_at": "2018-01-31T01:06:02Z",
        "closed_at": "2018-01-31T01:06:51Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-01-29T13:39:45Z",
        "closed_at": "2018-01-29T13:40:07Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-01-24T05:28:22Z",
        "closed_at": "2018-01-24T05:28:52Z",
        "merged_at": null,
        "body": "Syncing from original",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-01-22T21:14:52Z",
        "closed_at": "2018-01-22T21:51:25Z",
        "merged_at": null,
        "body": "Very small change, but I think sufficient : )",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 5,
        "changed_files": 1,
        "created_at": "2018-01-22T21:06:12Z",
        "closed_at": "2018-01-22T21:51:53Z",
        "merged_at": null,
        "body": "For example, add capital letters in the beginning of some sentences, because for all other policy files it is done this way.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2018-01-22T16:28:41Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Matt Mackal was placed at the top out of order. Recommending a pull to make the document follow the proposed sorting rules Linus intended.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 31,
        "deletions": 40,
        "changed_files": 1,
        "created_at": "2018-01-17T20:40:01Z",
        "closed_at": null,
        "merged_at": null,
        "body": "###### [docs] - linux/documentation/abi/readme - minor tweaks [writing]",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 39,
        "deletions": 0,
        "changed_files": 2,
        "created_at": "2018-01-15T11:15:19Z",
        "closed_at": "2018-01-15T11:19:15Z",
        "merged_at": null,
        "body": "Check if the blocking and unblocking works well for creating an effect of \r\n```perpetual force```",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-01-07T01:32:22Z",
        "closed_at": "2018-01-07T01:40:45Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2018-01-06T08:52:29Z",
        "closed_at": "2019-03-01T16:01:24Z",
        "merged_at": null,
        "body": "typically TRIM cost shorter time than ERASE, so we expect max_trim as max_discard. But when ERASE timeout is too long, it did happened actually rather than theoretically.  A type of Toshiba eMMC's ERASE_TIMEOUT_MULT is too long and controller's max_busy_timeout is relatively small, then max_discard could be 0, even max_trim is available, but max_trim < max_disable can't be true, so we get a result of 0 instead of max_trim.",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2018-01-05T15:49:16Z",
        "closed_at": "2018-01-21T14:43:20Z",
        "merged_at": null,
        "body": "Update file because AMD actually IS affected by meltdown/spectre attack(s):\r\nhttps://securityledger.com/2018/01/google-details-cpu-flaws-says-amd-arm-intel-affected/\r\nhttps://tech.slashdot.org/story/18/01/04/0524234/google-says-almost-all-cpus-since-1995-vulnerable-to-meltdown-and-spectre-flaws\r\n\" [...] Spectre affects AMD and ARM as well (and likely other architectures too). \r\nBest I can tell, the only CPUs guaranteed not affected by both are in-order architectures, which many older ARM (and extremely old x86) chips are.\r\nThese attacks are a sort of new category of security analysis--realizing that out of order execution can have side effects, and that programs can check for those side effects to leak program state and system memory. \"\r\nSo yes, it would be safer to just don't touch this modified code - at least we are sure that CPU will be protected in case of any attack.",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2018-01-04T18:59:02Z",
        "closed_at": "2018-01-04T18:59:11Z",
        "merged_at": null,
        "body": "Signed-off-by: Matteo Croce <mcroce@redhat.com>",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2018-01-01T11:06:30Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-12-22T23:10:45Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Hello,\r\nJust to add grub in the help list of INITRD in \"CONFIG_BLK_DEV_INITRD\" section.\r\nBest regards,\r\nThanks.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-12-12T08:06:19Z",
        "closed_at": null,
        "merged_at": null,
        "body": "After add support for ds2786 battery gas gauge\uff0cthe description didn't update. fix it.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-12-04T19:29:56Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Added Dell 1537 Vendor ID 0x19",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-12-04T10:54:11Z",
        "closed_at": "2017-12-04T11:17:45Z",
        "merged_at": null,
        "body": "update to rev 4.15-rc1",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-12-02T11:04:50Z",
        "closed_at": null,
        "merged_at": null,
        "body": "I'm developing a Bluetooth HID emulator (dubbed \"across\"; http://www.acrosscenter.com) working in a PC or Mac. Across works well with most of client devices whose OS is Windows, macOS, Windows Phone, Android, iOS. Until now I have been thinking Linux would work well like most of other OS's, but it doesn't.\r\nAcross packs keyboard, relative coordinate mice, absolute coordinate mice and absolute coordinate touch device into the single interface. However the absolute coordinate touch device prevents input devices enumerator from loading the whole other devices, and it can work around by adding HID_QUIRK_MULTI_INPUT.\r\n\r\nPS: I'm developing Across for Linux. :)",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-11-30T04:52:45Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Add new QCA Rome Device (04ca:3015), that will allow 04ca:3015 from Lite-on technologies to work properly.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 1098,
        "changed_files": 1,
        "created_at": "2017-11-28T18:57:27Z",
        "closed_at": "2018-02-19T12:49:22Z",
        "merged_at": null,
        "body": "It so fast now can run vinux on my shoess, should try put it good, and I got A+++++ on my project in school cuz this very fastly",
        "comments": 14
    },
    {
        "merged": false,
        "additions": 96,
        "deletions": 90,
        "changed_files": 1,
        "created_at": "2017-11-28T15:52:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Now, all lines are no longer larger than 78 characters.\r\nMoreover, I moved all comments over a function to their proper docstring.\r\nFinally, I added space between some operators where it was needed.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 16,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-11-27T13:17:44Z",
        "closed_at": "2018-01-19T14:34:52Z",
        "merged_at": null,
        "body": "Add kernel parameter tsc_freq= (in KHz) to override TSC frequency returned by native_calibrate_tsc()",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-11-25T12:10:21Z",
        "closed_at": "2017-11-25T12:10:34Z",
        "merged_at": null,
        "body": "Merge",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-11-25T11:51:39Z",
        "closed_at": "2017-11-25T12:08:16Z",
        "merged_at": null,
        "body": "Merge",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 19,
        "deletions": 12,
        "changed_files": 1,
        "created_at": "2017-11-21T14:40:04Z",
        "closed_at": null,
        "merged_at": null,
        "body": "I have remove some gotos in functions:\r\n\r\n- cap_ptrace_access_check\r\n\r\n- cap_ptrace_traceme\r\n\r\nThis is my first open source project. I would be pleased over feedback.\r\n",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2017-11-18T19:28:15Z",
        "closed_at": "2022-03-04T18:21:26Z",
        "merged_at": null,
        "body": "Adding brackets to show explicitly which else belongs to which if statement.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 24,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-11-15T12:56:24Z",
        "closed_at": "2017-11-28T21:12:07Z",
        "merged_at": null,
        "body": "I was trying to compile the Linux kernel source code on Windows, using this command:\r\n\r\n```\r\nC:\\Users\\Arnav> python init/main.c # And all other sources\r\n```\r\n\r\nHowever, I would get an error on the 1st line. Thus, I decided to fix the bugs. Now when I run the code, it works properly. You can thank me now. Now all the Windows 10 users can enjoy the beautiful OS called Linux.\r\n\r\nYou may think there are indentation issues, but I need them so that MSVC can accept the code.",
        "comments": 12
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-11-12T18:17:37Z",
        "closed_at": null,
        "merged_at": null,
        "body": "* objtool: Fix memory leak in decode_instructions()\r\n\r\nWhen an error occurs before adding an allocated insn to the list, free\r\nit before returning.\r\n\r\nSigned-off-by: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>\r\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nLink: http://lkml.kernel.org/r/336da800bf6070eae11f4e0a3b9ca64c27658114.1508430423.git.jpoimboe@redhat.com\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* x86/mm: Limit mmap() of /dev/mem to valid physical addresses\r\n\r\nCurrently, it is possible to mmap() any offset from /dev/mem.  If a\r\nprogram mmaps() /dev/mem offsets outside of the addressable limits\r\nof a system, the page table can be corrupted by setting reserved bits.\r\n\r\nFor example if you mmap() offset 0x0001000000000000 of /dev/mem on an\r\nx86_64 system with a 48-bit bus, the page fault handler will be called\r\nwith error_code set to RSVD.  The kernel then crashes with a page table\r\ncorruption error.\r\n\r\nThis change prevents this page table corruption on x86 by refusing\r\nto mmap offsets higher than the highest valid address in the system.\r\n\r\nSigned-off-by: Craig Bergstrom <craigb@google.com>\r\nCc: Andrew Morton <akpm@linux-foundation.org>\r\nCc: Andy Lutomirski <luto@kernel.org>\r\nCc: Borislav Petkov <bp@alien8.de>\r\nCc: Brian Gerst <brgerst@gmail.com>\r\nCc: Denys Vlasenko <dvlasenk@redhat.com>\r\nCc: H. Peter Anvin <hpa@zytor.com>\r\nCc: Josh Poimboeuf <jpoimboe@redhat.com>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Luis R. Rodriguez <mcgrof@suse.com>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nCc: Toshi Kani <toshi.kani@hp.com>\r\nCc: dsafonov@virtuozzo.com\r\nCc: kirill.shutemov@linux.intel.com\r\nCc: mhocko@suse.com\r\nCc: oleg@redhat.com\r\nLink: http://lkml.kernel.org/r/20171019192856.39672-1-craigb@google.com\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* ALSA: hda/realtek - Add support for ALC236/ALC3204\r\n\r\nAdd support for ALC236/ALC3204.\r\nAdd headset mode support for ALC236/ALC3204.\r\n\r\nSigned-off-by: Kailang Yang <kailang@realtek.com>\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Takashi Iwai <tiwai@suse.de>\r\n\r\n* mmc: tmio: fix swiotlb buffer is full\r\n\r\nSince the commit de3ee99b097d (\"mmc: Delete bounce buffer handling\")\r\ndeletes the bounce buffer handling, a request data size will be referred\r\nto max_{req,seg}_size instead of MMC_QUEUE_BOUNCESZ (64k bytes).\r\n\r\nIn other hand, renesas_sdhi_internal_dmac.c will set very big value of\r\nmax_{req,seg}_size because the max_blk_count is set to 0xffffffff.\r\nAnd then, \"swiotlb buffer is full\" happens because swiotlb can handle\r\na memory size up to 256k bytes only (IO_TLB_SEGSIZE = 128 and\r\nIO_TLB_SHIFT = 11).\r\n\r\nSo, as a workaround, this patch avoids the issue by setting\r\nthe max_{req,seg}_size up to 256k bytes if swiotlb is running.\r\n\r\nReported-by: Dirk Behme <dirk.behme@de.bosch.com>\r\nSigned-off-by: Yoshihiro Shimoda <yoshihiro.shimoda.uh@renesas.com>\r\nAcked-by: Wolfram Sang <wsa+renesas@sang-engineering.com>\r\nReviewed-by: Geert Uytterhoeven <geert+renesas@glider.be>\r\nSigned-off-by: Ulf Hansson <ulf.hansson@linaro.org>\r\n\r\n* mmc: renesas_sdhi: fix kernel panic in _internal_dmac.c\r\n\r\nSince this driver checks if the return value of dma_map_sg() is minus\r\nor not and keeps to enable the DMAC, it may cause kernel panic when\r\nthe dma_map_sg() returns 0. So, this patch fixes the issue.\r\n\r\nReported-by: Dirk Behme <dirk.behme@de.bosch.com>\r\nFixes: 2a68ea7896e3 (\"mmc: renesas-sdhi: add support for R-Car Gen3 SDHI DMAC\")\r\nSigned-off-by: Yoshihiro Shimoda <yoshihiro.shimoda.uh@renesas.com>\r\nReviewed-by: Geert Uytterhoeven <geert+renesas@glider.be>\r\nAcked-by: Wolfram Sang <wsa+renesas@sang-engineering.com>\r\nSigned-off-by: Ulf Hansson <ulf.hansson@linaro.org>\r\n\r\n* binder: call poll_wait() unconditionally.\r\n\r\nBecause we're not guaranteed that subsequent calls\r\nto poll() will have a poll_table_struct parameter\r\nwith _qproc set. When _qproc is not set, poll_wait()\r\nis a noop, and we won't be woken up correctly.\r\n\r\nSigned-off-by: Martijn Coenen <maco@android.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* clockevents/drivers/cs5535: Improve resilience to spurious interrupts\r\n\r\nThe interrupt handler mfgpt_tick() is not robust versus spurious interrupts\r\nwhich happen before the clock event device is registered and fully\r\ninitialized.\r\n\r\nThe reason is that the safe guard against spurious interrupts solely checks\r\nfor the clockevents shutdown state, but lacks a check for detached\r\nstate. If the interrupt hits while the device is in detached state it\r\npasses the safe guard and dereferences the event handler call back which is\r\nNULL.\r\n\r\nAdd the missing state check.\r\n\r\nFixes: 8f9327cbb6e8 (\"clockevents/drivers/cs5535: Migrate to new 'set-state' interface\")\r\nSuggested-by: Thomas Gleixner <tglx@linutronix.de>\r\nSigned-off-by: David Kozub <zub@linux.fjfi.cvut.cz>\r\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\r\nCc: Daniel Lezcano <daniel.lezcano@linaro.org>\r\nCc: stable@vger.kernel.org\r\nLink: https://lkml.kernel.org/r/20171020093103.3317F6004D@linux.fjfi.cvut.cz\r\n\r\n* sctp: add the missing sock_owned_by_user check in sctp_icmp_redirect\r\n\r\nNow sctp processes icmp redirect packet in sctp_icmp_redirect where\r\nit calls sctp_transport_dst_check in which tp->dst can be released.\r\n\r\nThe problem is before calling sctp_transport_dst_check, it doesn't\r\ncheck sock_owned_by_user, which means tp->dst could be freed while\r\na process is accessing it with owning the socket.\r\n\r\nAn use-after-free issue could be triggered by this.\r\n\r\nThis patch is to fix it by checking sock_owned_by_user before calling\r\nsctp_transport_dst_check in sctp_icmp_redirect, so that it would not\r\nrelease tp->dst if users still hold sock lock.\r\n\r\nBesides, the same issue fixed in commit 45caeaa5ac0b (\"dccp/tcp: fix\r\nrouting redirect race\") on sctp also needs this check.\r\n\r\nFixes: 55be7a9c6074 (\"ipv4: Add redirect support to all protocol icmp error handlers\")\r\nReported-by: Eric Dumazet <edumazet@google.com>\r\nSigned-off-by: Xin Long <lucien.xin@gmail.com>\r\nAcked-by: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>\r\nAcked-by: Neil Horman <nhorman@tuxdriver.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: enforce TCP only support for sockmap\r\n\r\nOnly TCP sockets have been tested and at the moment the state change\r\ncallback only handles TCP sockets. This adds a check to ensure that\r\nsockets actually being added are TCP sockets.\r\n\r\nFor net-next we can consider UDP support.\r\n\r\nSigned-off-by: John Fastabend <john.fastabend@gmail.com>\r\nAcked-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: avoid preempt enable/disable in sockmap using tcp_skb_cb region\r\n\r\nSK_SKB BPF programs are run from the socket/tcp context but early in\r\nthe stack before much of the TCP metadata is needed in tcp_skb_cb. So\r\nwe can use some unused fields to place BPF metadata needed for SK_SKB\r\nprograms when implementing the redirect function.\r\n\r\nThis allows us to drop the preempt disable logic. It does however\r\nrequire an API change so sk_redirect_map() has been updated to\r\nadditionally provide ctx_ptr to skb. Note, we do however continue to\r\ndisable/enable preemption around actual BPF program running to account\r\nfor map updates.\r\n\r\nSigned-off-by: John Fastabend <john.fastabend@gmail.com>\r\nAcked-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: remove mark access for SK_SKB program types\r\n\r\nThe skb->mark field is a union with reserved_tailroom which is used\r\nin the TCP code paths from stream memory allocation. Allowing SK_SKB\r\nprograms to set this field creates a conflict with future code\r\noptimizations, such as \"gifting\" the skb to the egress path instead\r\nof creating a new skb and doing a memcpy.\r\n\r\nBecause we do not have a released version of SK_SKB yet lets just\r\nremove it for now. A more appropriate scratch pad to use at the\r\nsocket layer is dev_scratch, but lets add that in future kernels\r\nwhen needed.\r\n\r\nSigned-off-by: John Fastabend <john.fastabend@gmail.com>\r\nAcked-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: require CAP_NET_ADMIN when using sockmap maps\r\n\r\nRestrict sockmap to CAP_NET_ADMIN.\r\n\r\nSigned-off-by: John Fastabend <john.fastabend@gmail.com>\r\nAcked-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: require CAP_NET_ADMIN when using devmap\r\n\r\nDevmap is used with XDP which requires CAP_NET_ADMIN so lets also\r\nmake CAP_NET_ADMIN required to use the map.\r\n\r\nSigned-off-by: John Fastabend <john.fastabend@gmail.com>\r\nAcked-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* vmbus: hvsock: add proper sync for vmbus_hvsock_device_unregister()\r\n\r\nWithout the patch, vmbus_hvsock_device_unregister() can destroy the device\r\nprematurely when close() is called, and can cause NULl dereferencing or\r\npotential data loss (the last portion of the data stream may be dropped\r\nprematurely).\r\n\r\nSigned-off-by: Dexuan Cui <decui@microsoft.com>\r\nCc: Haiyang Zhang <haiyangz@microsoft.com>\r\nCc: Stephen Hemminger <sthemmin@microsoft.com>\r\nSigned-off-by: K. Y. Srinivasan <kys@microsoft.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* waitid(): Avoid unbalanced user_access_end() on access_ok() error\r\n\r\nAs pointed out by Linus and David, the earlier waitid() fix resulted in\r\na (currently harmless) unbalanced user_access_end() call.  This fixes it\r\nto just directly return EFAULT on access_ok() failure.\r\n\r\nFixes: 96ca579a1ecc (\"waitid(): Add missing access_ok() checks\")\r\nAcked-by: David Daney <david.daney@cavium.com>\r\nCc: Al Viro <viro@zeniv.linux.org.uk>\r\nSigned-off-by: Kees Cook <keescook@chromium.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* tcp/dccp: fix ireq->opt races\r\n\r\nsyzkaller found another bug in DCCP/TCP stacks [1]\r\n\r\nFor the reasons explained in commit ce1050089c96 (\"tcp/dccp: fix\r\nireq->pktopts race\"), we need to make sure we do not access\r\nireq->opt unless we own the request sock.\r\n\r\nNote the opt field is renamed to ireq_opt to ease grep games.\r\n\r\n[1]\r\nBUG: KASAN: use-after-free in ip_queue_xmit+0x1687/0x18e0 net/ipv4/ip_output.c:474\r\nRead of size 1 at addr ffff8801c951039c by task syz-executor5/3295\r\n\r\nCPU: 1 PID: 3295 Comm: syz-executor5 Not tainted 4.14.0-rc4+ #80\r\nHardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011\r\nCall Trace:\r\n __dump_stack lib/dump_stack.c:16 [inline]\r\n dump_stack+0x194/0x257 lib/dump_stack.c:52\r\n print_address_description+0x73/0x250 mm/kasan/report.c:252\r\n kasan_report_error mm/kasan/report.c:351 [inline]\r\n kasan_report+0x25b/0x340 mm/kasan/report.c:409\r\n __asan_report_load1_noabort+0x14/0x20 mm/kasan/report.c:427\r\n ip_queue_xmit+0x1687/0x18e0 net/ipv4/ip_output.c:474\r\n tcp_transmit_skb+0x1ab7/0x3840 net/ipv4/tcp_output.c:1135\r\n tcp_send_ack.part.37+0x3bb/0x650 net/ipv4/tcp_output.c:3587\r\n tcp_send_ack+0x49/0x60 net/ipv4/tcp_output.c:3557\r\n __tcp_ack_snd_check+0x2c6/0x4b0 net/ipv4/tcp_input.c:5072\r\n tcp_ack_snd_check net/ipv4/tcp_input.c:5085 [inline]\r\n tcp_rcv_state_process+0x2eff/0x4850 net/ipv4/tcp_input.c:6071\r\n tcp_child_process+0x342/0x990 net/ipv4/tcp_minisocks.c:816\r\n tcp_v4_rcv+0x1827/0x2f80 net/ipv4/tcp_ipv4.c:1682\r\n ip_local_deliver_finish+0x2e2/0xba0 net/ipv4/ip_input.c:216\r\n NF_HOOK include/linux/netfilter.h:249 [inline]\r\n ip_local_deliver+0x1ce/0x6e0 net/ipv4/ip_input.c:257\r\n dst_input include/net/dst.h:464 [inline]\r\n ip_rcv_finish+0x887/0x19a0 net/ipv4/ip_input.c:397\r\n NF_HOOK include/linux/netfilter.h:249 [inline]\r\n ip_rcv+0xc3f/0x1820 net/ipv4/ip_input.c:493\r\n __netif_receive_skb_core+0x1a3e/0x34b0 net/core/dev.c:4476\r\n __netif_receive_skb+0x2c/0x1b0 net/core/dev.c:4514\r\n netif_receive_skb_internal+0x10b/0x670 net/core/dev.c:4587\r\n netif_receive_skb+0xae/0x390 net/core/dev.c:4611\r\n tun_rx_batched.isra.50+0x5ed/0x860 drivers/net/tun.c:1372\r\n tun_get_user+0x249c/0x36d0 drivers/net/tun.c:1766\r\n tun_chr_write_iter+0xbf/0x160 drivers/net/tun.c:1792\r\n call_write_iter include/linux/fs.h:1770 [inline]\r\n new_sync_write fs/read_write.c:468 [inline]\r\n __vfs_write+0x68a/0x970 fs/read_write.c:481\r\n vfs_write+0x18f/0x510 fs/read_write.c:543\r\n SYSC_write fs/read_write.c:588 [inline]\r\n SyS_write+0xef/0x220 fs/read_write.c:580\r\n entry_SYSCALL_64_fastpath+0x1f/0xbe\r\nRIP: 0033:0x40c341\r\nRSP: 002b:00007f469523ec10 EFLAGS: 00000293 ORIG_RAX: 0000000000000001\r\nRAX: ffffffffffffffda RBX: 0000000000718000 RCX: 000000000040c341\r\nRDX: 0000000000000037 RSI: 0000000020004000 RDI: 0000000000000015\r\nRBP: 0000000000000086 R08: 0000000000000000 R09: 0000000000000000\r\nR10: 00000000000f4240 R11: 0000000000000293 R12: 00000000004b7fd1\r\nR13: 00000000ffffffff R14: 0000000020000000 R15: 0000000000025000\r\n\r\nAllocated by task 3295:\r\n save_stack_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59\r\n save_stack+0x43/0xd0 mm/kasan/kasan.c:447\r\n set_track mm/kasan/kasan.c:459 [inline]\r\n kasan_kmalloc+0xad/0xe0 mm/kasan/kasan.c:551\r\n __do_kmalloc mm/slab.c:3725 [inline]\r\n __kmalloc+0x162/0x760 mm/slab.c:3734\r\n kmalloc include/linux/slab.h:498 [inline]\r\n tcp_v4_save_options include/net/tcp.h:1962 [inline]\r\n tcp_v4_init_req+0x2d3/0x3e0 net/ipv4/tcp_ipv4.c:1271\r\n tcp_conn_request+0xf6d/0x3410 net/ipv4/tcp_input.c:6283\r\n tcp_v4_conn_request+0x157/0x210 net/ipv4/tcp_ipv4.c:1313\r\n tcp_rcv_state_process+0x8ea/0x4850 net/ipv4/tcp_input.c:5857\r\n tcp_v4_do_rcv+0x55c/0x7d0 net/ipv4/tcp_ipv4.c:1482\r\n tcp_v4_rcv+0x2d10/0x2f80 net/ipv4/tcp_ipv4.c:1711\r\n ip_local_deliver_finish+0x2e2/0xba0 net/ipv4/ip_input.c:216\r\n NF_HOOK include/linux/netfilter.h:249 [inline]\r\n ip_local_deliver+0x1ce/0x6e0 net/ipv4/ip_input.c:257\r\n dst_input include/net/dst.h:464 [inline]\r\n ip_rcv_finish+0x887/0x19a0 net/ipv4/ip_input.c:397\r\n NF_HOOK include/linux/netfilter.h:249 [inline]\r\n ip_rcv+0xc3f/0x1820 net/ipv4/ip_input.c:493\r\n __netif_receive_skb_core+0x1a3e/0x34b0 net/core/dev.c:4476\r\n __netif_receive_skb+0x2c/0x1b0 net/core/dev.c:4514\r\n netif_receive_skb_internal+0x10b/0x670 net/core/dev.c:4587\r\n netif_receive_skb+0xae/0x390 net/core/dev.c:4611\r\n tun_rx_batched.isra.50+0x5ed/0x860 drivers/net/tun.c:1372\r\n tun_get_user+0x249c/0x36d0 drivers/net/tun.c:1766\r\n tun_chr_write_iter+0xbf/0x160 drivers/net/tun.c:1792\r\n call_write_iter include/linux/fs.h:1770 [inline]\r\n new_sync_write fs/read_write.c:468 [inline]\r\n __vfs_write+0x68a/0x970 fs/read_write.c:481\r\n vfs_write+0x18f/0x510 fs/read_write.c:543\r\n SYSC_write fs/read_write.c:588 [inline]\r\n SyS_write+0xef/0x220 fs/read_write.c:580\r\n entry_SYSCALL_64_fastpath+0x1f/0xbe\r\n\r\nFreed by task 3306:\r\n save_stack_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59\r\n save_stack+0x43/0xd0 mm/kasan/kasan.c:447\r\n set_track mm/kasan/kasan.c:459 [inline]\r\n kasan_slab_free+0x71/0xc0 mm/kasan/kasan.c:524\r\n __cache_free mm/slab.c:3503 [inline]\r\n kfree+0xca/0x250 mm/slab.c:3820\r\n inet_sock_destruct+0x59d/0x950 net/ipv4/af_inet.c:157\r\n __sk_destruct+0xfd/0x910 net/core/sock.c:1560\r\n sk_destruct+0x47/0x80 net/core/sock.c:1595\r\n __sk_free+0x57/0x230 net/core/sock.c:1603\r\n sk_free+0x2a/0x40 net/core/sock.c:1614\r\n sock_put include/net/sock.h:1652 [inline]\r\n inet_csk_complete_hashdance+0xd5/0xf0 net/ipv4/inet_connection_sock.c:959\r\n tcp_check_req+0xf4d/0x1620 net/ipv4/tcp_minisocks.c:765\r\n tcp_v4_rcv+0x17f6/0x2f80 net/ipv4/tcp_ipv4.c:1675\r\n ip_local_deliver_finish+0x2e2/0xba0 net/ipv4/ip_input.c:216\r\n NF_HOOK include/linux/netfilter.h:249 [inline]\r\n ip_local_deliver+0x1ce/0x6e0 net/ipv4/ip_input.c:257\r\n dst_input include/net/dst.h:464 [inline]\r\n ip_rcv_finish+0x887/0x19a0 net/ipv4/ip_input.c:397\r\n NF_HOOK include/linux/netfilter.h:249 [inline]\r\n ip_rcv+0xc3f/0x1820 net/ipv4/ip_input.c:493\r\n __netif_receive_skb_core+0x1a3e/0x34b0 net/core/dev.c:4476\r\n __netif_receive_skb+0x2c/0x1b0 net/core/dev.c:4514\r\n netif_receive_skb_internal+0x10b/0x670 net/core/dev.c:4587\r\n netif_receive_skb+0xae/0x390 net/core/dev.c:4611\r\n tun_rx_batched.isra.50+0x5ed/0x860 drivers/net/tun.c:1372\r\n tun_get_user+0x249c/0x36d0 drivers/net/tun.c:1766\r\n tun_chr_write_iter+0xbf/0x160 drivers/net/tun.c:1792\r\n call_write_iter include/linux/fs.h:1770 [inline]\r\n new_sync_write fs/read_write.c:468 [inline]\r\n __vfs_write+0x68a/0x970 fs/read_write.c:481\r\n vfs_write+0x18f/0x510 fs/read_write.c:543\r\n SYSC_write fs/read_write.c:588 [inline]\r\n SyS_write+0xef/0x220 fs/read_write.c:580\r\n entry_SYSCALL_64_fastpath+0x1f/0xbe\r\n\r\nFixes: e994b2f0fb92 (\"tcp: do not lock listener to process SYN packets\")\r\nFixes: 079096f103fa (\"tcp/dccp: install syn_recv requests into ehash table\")\r\nSigned-off-by: Eric Dumazet <edumazet@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* packet: avoid panic in packet_getsockopt()\r\n\r\nsyzkaller got crashes in packet_getsockopt() processing\r\nPACKET_ROLLOVER_STATS command while another thread was managing\r\nto change po->rollover\r\n\r\nUsing RCU will fix this bug. We might later add proper RCU annotations\r\nfor sparse sake.\r\n\r\nIn v2: I replaced kfree(rollover) in fanout_add() to kfree_rcu()\r\nvariant, as spotted by John.\r\n\r\nFixes: a9b6391814d5 (\"packet: rollover statistics\")\r\nSigned-off-by: Eric Dumazet <edumazet@google.com>\r\nCc: Willem de Bruijn <willemb@google.com>\r\nCc: John Sperbeck <jsperbeck@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/ncsi: Fix AEN HNCDSC packet length\r\n\r\nCorrect the value of the HNCDSC AEN packet.\r\nFixes: 7a82ecf4cfb85 \"net/ncsi: NCSI AEN packet handler\"\r\n\r\nSigned-off-by: Samuel Mendoza-Jonas <sam@mendozajonas.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/ncsi: Stop monitor if channel times out or is inactive\r\n\r\nncsi_channel_monitor() misses stopping the channel monitor in several\r\nplaces that it should, causing a WARN_ON_ONCE() to trigger when the\r\nmonitor is re-started later, eg:\r\n\r\n[  459.040000] WARNING: CPU: 0 PID: 1093 at net/ncsi/ncsi-manage.c:269 ncsi_start_channel_monitor+0x7c/0x90\r\n[  459.040000] CPU: 0 PID: 1093 Comm: kworker/0:3 Not tainted 4.10.17-gaca2fdd #140\r\n[  459.040000] Hardware name: ASpeed SoC\r\n[  459.040000] Workqueue: events ncsi_dev_work\r\n[  459.040000] [<80010094>] (unwind_backtrace) from [<8000d950>] (show_stack+0x20/0x24)\r\n[  459.040000] [<8000d950>] (show_stack) from [<801dbf70>] (dump_stack+0x20/0x28)\r\n[  459.040000] [<801dbf70>] (dump_stack) from [<80018d7c>] (__warn+0xe0/0x108)\r\n[  459.040000] [<80018d7c>] (__warn) from [<80018e70>] (warn_slowpath_null+0x30/0x38)\r\n[  459.040000] [<80018e70>] (warn_slowpath_null) from [<803f6a08>] (ncsi_start_channel_monitor+0x7c/0x90)\r\n[  459.040000] [<803f6a08>] (ncsi_start_channel_monitor) from [<803f7664>] (ncsi_configure_channel+0xdc/0x5fc)\r\n[  459.040000] [<803f7664>] (ncsi_configure_channel) from [<803f8160>] (ncsi_dev_work+0xac/0x474)\r\n[  459.040000] [<803f8160>] (ncsi_dev_work) from [<8002d244>] (process_one_work+0x1e0/0x450)\r\n[  459.040000] [<8002d244>] (process_one_work) from [<8002d510>] (worker_thread+0x5c/0x570)\r\n[  459.040000] [<8002d510>] (worker_thread) from [<80033614>] (kthread+0x124/0x164)\r\n[  459.040000] [<80033614>] (kthread) from [<8000a5e8>] (ret_from_fork+0x14/0x2c)\r\n\r\nThis also updates the monitor instead of just returning if\r\nncsi_xmit_cmd() fails to send the get-link-status command so that the\r\nmonitor properly times out.\r\n\r\nFixes: e6f44ed6d04d3 \"net/ncsi: Package and channel management\"\r\n\r\nSigned-off-by: Samuel Mendoza-Jonas <sam@mendozajonas.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/ncsi: Disable HWA mode when no channels are found\r\n\r\nWhen there are no NCSI channels probed, HWA (Hardware Arbitration)\r\nmode is enabled. It's not correct because HWA depends on the fact:\r\nNCSI channels exist and all of them support HWA mode. This disables\r\nHWA when no channels are probed.\r\n\r\nSigned-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>\r\nSigned-off-by: Samuel Mendoza-Jonas <sam@mendozajonas.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/ncsi: Enforce failover on link monitor timeout\r\n\r\nThe NCSI channel has been configured to provide service if its link\r\nmonitor timer is enabled, regardless of its state (inactive or active).\r\nSo the timeout event on the link monitor indicates the out-of-service\r\non that channel, for which a failover is needed.\r\n\r\nThis sets NCSI_DEV_RESHUFFLE flag to enforce failover on link monitor\r\ntimeout, regardless the channel's original state (inactive or active).\r\nAlso, the link is put into \"down\" state to give the failing channel\r\nlowest priority when selecting for the active channel. The state of\r\nfailing channel should be set to active in order for deinitialization\r\nand failover to be done.\r\n\r\nSigned-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>\r\nSigned-off-by: Samuel Mendoza-Jonas <sam@mendozajonas.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/ncsi: Fix length of GVI response packet\r\n\r\nThe length of GVI (GetVersionInfo) response packet should be 40 instead\r\nof 36. This issue was found from /sys/kernel/debug/ncsi/eth0/stats.\r\n\r\n # ethtool --ncsi eth0 swstats\r\n     :\r\n RESPONSE     OK       TIMEOUT  ERROR\r\n =======================================\r\n GVI          0        0        2\r\n\r\nWith this applied, no error reported on GVI response packets:\r\n\r\n # ethtool --ncsi eth0 swstats\r\n     :\r\n RESPONSE     OK       TIMEOUT  ERROR\r\n =======================================\r\n GVI          2        0        0\r\n\r\nSigned-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>\r\nSigned-off-by: Samuel Mendoza-Jonas <sam@mendozajonas.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* hv_sock: add locking in the open/close/release code paths\r\n\r\nWithout the patch, when hvs_open_connection() hasn't completely established\r\na connection (e.g. it has changed sk->sk_state to SS_CONNECTED, but hasn't\r\ninserted the sock into the connected queue), vsock_stream_connect() may see\r\nthe sk_state change and return the connection to the userspace, and next\r\nwhen the userspace closes the connection quickly, hvs_release() may not see\r\nthe connection in the connected queue; finally hvs_open_connection()\r\ninserts the connection into the queue, but we won't be able to purge the\r\nconnection for ever.\r\n\r\nSigned-off-by: Dexuan Cui <decui@microsoft.com>\r\nCc: K. Y. Srinivasan <kys@microsoft.com>\r\nCc: Haiyang Zhang <haiyangz@microsoft.com>\r\nCc: Stephen Hemminger <sthemmin@microsoft.com>\r\nCc: Vitaly Kuznetsov <vkuznets@redhat.com>\r\nCc: Cathy Avery <cavery@redhat.com>\r\nCc: Rolf Neugebauer <rolf.neugebauer@docker.com>\r\nCc: Marcelo Cerri <marcelo.cerri@canonical.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* geneve: Fix function matching VNI and tunnel ID on big-endian\r\n\r\nOn big-endian machines, functions converting between tunnel ID\r\nand VNI use the three LSBs of tunnel ID storage to map VNI.\r\n\r\nThe comparison function eq_tun_id_and_vni(), on the other hand,\r\nattempted to map the VNI from the three MSBs. Fix it by using\r\nthe same check implemented on LE, which maps VNI from the three\r\nLSBs of tunnel ID.\r\n\r\nFixes: 2e0b26e10352 (\"geneve: Optimize geneve device lookup.\")\r\nSigned-off-by: Stefano Brivio <sbrivio@redhat.com>\r\nReviewed-by: Jakub Sitnicki <jkbs@redhat.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* udp: make some messages more descriptive\r\n\r\nIn the UDP code there are two leftover error messages with very few meaning.\r\nReplace them with a more descriptive error message as some users\r\nreported them as \"strange network error\".\r\n\r\nSigned-off-by: Matteo Croce <mcroce@redhat.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* android: binder: Don't get mm from task\r\n\r\nUse binder_alloc struct's mm_struct rather than getting\r\na reference to the mm struct through get_task_mm to\r\navoid a potential deadlock between lru lock, task lock and\r\ndentry lock, since a thread can be holding the task lock\r\nand the dentry lock while trying to acquire the lru lock.\r\n\r\nAcked-by: Arve Hj\u00f8nnev\u00e5g <arve@android.com>\r\nSigned-off-by: Sherry Yang <sherryy@android.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* android: binder: Fix null ptr dereference in debug msg\r\n\r\nDon't access next->data in kernel debug message when the\r\nnext buffer is null.\r\n\r\nAcked-by: Arve Hj\u00f8nnev\u00e5g <arve@android.com>\r\nSigned-off-by: Sherry Yang <sherryy@android.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* net: aquantia: Reset nic statistics on interface up/down\r\n\r\nInternal statistics system on chip never gets reset until hardware\r\nreboot. This is quite inconvenient in terms of ethtool statistics usage.\r\n\r\nThis patch implements incremental statistics update inside of\r\nservice callback.\r\n\r\nUpon nic initialization, first request is done to fetch\r\ninitial stat data, current collected stat data gets cleared.\r\nInternal statistics mailbox readout is improved to save space and\r\nincrease readability\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: aquantia: Add queue restarts stats counter\r\n\r\nQueue stat strings are cleaned up, duplicate stat name strings removed,\r\nqueue restarts counter added\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: aquantia: Fixed transient link up/down/up notification\r\n\r\nWhen doing ifconfig down/up, driver did not reported carrier_off neither\r\nin nic_stop nor in nic_start. That caused link to be visible as \"up\"\r\nduring couple of seconds immediately after \"ifconfig up\".\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: aquantia: Limit number of MSIX irqs to the number of cpus\r\n\r\nThere is no much practical use from having MSIX vectors more that number\r\nof cpus, thus cap this first with preconfigured limit, then with number\r\nof cpus online.\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: aquantia: mmio unmap was not performed on driver removal\r\n\r\nThat may lead to mmio resource leakage.\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: aquantia: Enable coalescing management via ethtool interface\r\n\r\nAquantia NIC allows both TX and RX interrupt throttle rate (ITR)\r\nmanagement, but this was used in a very limited way via predefined\r\nvalues. This patch allows to setup ITR default values via module\r\ncommand line arguments and via standard ethtool coalescing settings.\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: aquantia: Bad udp rate on default interrupt coalescing\r\n\r\nDefault Tx rates cause very long ISR delays on Tx.\r\n0xff is 510us delay, giving only ~ 2000 interrupts per seconds for\r\nTx rings cleanup. With these settings udp tx rate was never higher than\r\n~800Mbps on a single stream. Changing min delay to 0xF makes it\r\nway better with ~6Gbps\r\n\r\nTCP stream performance is almost unaffected by this change, since LSO\r\noptimizations play important role.\r\n\r\nCPU load is affected insignificantly by this change.\r\n\r\nSigned-off-by: Pavel Belous <pavel.belous@aquantia.com>\r\nSigned-off-by: Igor Russkikh <igor.russkikh@aquantia.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* cpu/hotplug: Reset node state after operation\r\n\r\nThe recent rework of the cpu hotplug internals changed the usage of the per\r\ncpu state->node field, but missed to clean it up after usage.\r\n\r\nSo subsequent hotplug operations use the stale pointer from a previous\r\noperation and hand it into the callback functions. The callbacks then\r\ndereference a pointer which either belongs to a different facility or\r\npoints to freed and potentially reused memory. In either case data\r\ncorruption and crashes are the obvious consequence.\r\n\r\nReset the node and the last pointers in the per cpu state to NULL after the\r\noperation which set them has completed.\r\n\r\nFixes: 96abb968549c (\"smp/hotplug: Allow external multi-instance rollback\")\r\nReported-by: Tvrtko Ursulin <tursulin@ursulin.net>\r\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\r\nCc: Boris Ostrovsky <boris.ostrovsky@oracle.com>\r\nCc: \"Paul E. McKenney\" <paulmck@linux.vnet.ibm.com>\r\nLink: https://lkml.kernel.org/r/alpine.DEB.2.20.1710211606130.3213@nanos\r\n\r\n* hwmon: (da9052) Increase sample rate when using TSI\r\n\r\nThe TSI channel, which is usually used for touchscreen support, but can\r\nbe used as 4 general purpose ADCs. When used as a touchscreen interface\r\nthe touchscreen driver switches the device into 1ms sampling mode (rather\r\nthan the default 10ms economy mode) as recommended by the manufacturer.\r\nWhen using the TSI channels as a general purpose ADC we are currently not\r\ndoing this and testing suggests that this can result in ADC timeouts:\r\n\r\n[ 5827.198289] da9052 spi2.0: timeout waiting for ADC conversion interrupt\r\n[ 5827.728293] da9052 spi2.0: timeout waiting for ADC conversion interrupt\r\n[ 5993.808335] da9052 spi2.0: timeout waiting for ADC conversion interrupt\r\n[ 5994.328441] da9052 spi2.0: timeout waiting for ADC conversion interrupt\r\n[ 5994.848291] da9052 spi2.0: timeout waiting for ADC conversion interrupt\r\n\r\nSwitching to the 1ms timing resolves this issue.\r\n\r\nFixes: 4f16cab19a3d5 (\"hwmon: da9052: Add support for TSI channel\")\r\nSigned-off-by: Martyn Welch <martyn.welch@collabora.co.uk>\r\nAcked-by: Steve Twiss <stwiss.opensource@diasemi.com>\r\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\r\n\r\n* drm/amd/powerplay: fix uninitialized variable\r\n\r\nrefresh_rate was not initialized when program\r\ndisplay gap.\r\nthis patch can fix vce ring test failed\r\nwhen do S3 on Polaris10.\r\n\r\nbug: https://bugs.freedesktop.org/show_bug.cgi?id=103102\r\nbug: https://bugzilla.kernel.org/show_bug.cgi?id=196615\r\nReviewed-by: Alex Deucher <alexander.deucher@amd.com>\r\nSigned-off-by: Rex Zhu <Rex.Zhu@amd.com>\r\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>\r\nCc: stable@vger.kernel.org\r\n\r\n* bpf: devmap fix arithmetic overflow in bitmap_size calculation\r\n\r\nAn integer overflow is possible in dev_map_bitmap_size() when\r\ncalculating the BITS_TO_LONG logic which becomes, after macro\r\nreplacement,\r\n\r\n\t(((n) + (d) - 1)/ (d))\r\n\r\nwhere 'n' is a __u32 and 'd' is (8 * sizeof(long)). To avoid\r\noverflow cast to u64 before arithmetic.\r\n\r\nReported-by: Richard Weinberger <richard@nod.at>\r\nAcked-by: Daniel Borkmann <daniel@iogearbox.net>\r\nSigned-off-by: John Fastabend <john.fastabend@gmail.com>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: fix off by one for range markings with L{T, E} patterns\r\n\r\nDuring review I noticed that the current logic for direct packet\r\naccess marking in check_cond_jmp_op() has an off by one for the\r\nupper right range border when marking in find_good_pkt_pointers()\r\nwith BPF_JLT and BPF_JLE. It's not really harmful given access\r\nup to pkt_end is always safe, but we should nevertheless correct\r\nthe range marking before it becomes ABI. If pkt_data' denotes a\r\npkt_data derived pointer (pkt_data + X), then for pkt_data' < pkt_end\r\nin the true branch as well as for pkt_end <= pkt_data' in the false\r\nbranch we mark the range with X although it should really be X - 1\r\nin these cases. For example, X could be pkt_end - pkt_data, then\r\nwhen testing for pkt_data' < pkt_end the verifier simulation cannot\r\ndeduce that a byte load of pkt_data' - 1 would succeed in this\r\nbranch.\r\n\r\nFixes: b4e432f1000a (\"bpf: enable BPF_J{LT, LE, SLT, SLE} opcodes in verifier\")\r\nSigned-off-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nAcked-by: John Fastabend <john.fastabend@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: fix pattern matches for direct packet access\r\n\r\nAlexander had a test program with direct packet access, where\r\nthe access test was in the form of data + X > data_end. In an\r\nunrelated change to the program LLVM decided to swap the branches\r\nand emitted code for the test in form of data + X <= data_end.\r\nWe hadn't seen these being generated previously, thus verifier\r\nwould reject the program. Therefore, fix up the verifier to\r\ndetect all test cases, so we don't run into such issues in the\r\nfuture.\r\n\r\nFixes: b4e432f1000a (\"bpf: enable BPF_J{LT, LE, SLT, SLE} opcodes in verifier\")\r\nReported-by: Alexander Alemayhu <alexander@alemayhu.com>\r\nSigned-off-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nAcked-by: John Fastabend <john.fastabend@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bpf: add test cases to bpf selftests to cover all access tests\r\n\r\nLets add test cases to cover really all possible direct packet\r\naccess tests for good/bad access cases so we keep tracking them.\r\n\r\nSigned-off-by: Daniel Borkmann <daniel@iogearbox.net>\r\nAcked-by: Alexei Starovoitov <ast@kernel.org>\r\nAcked-by: John Fastabend <john.fastabend@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* sock: correct sk_wmem_queued accounting on efault in tcp zerocopy\r\n\r\nSyzkaller hits WARN_ON(sk->sk_wmem_queued) in sk_stream_kill_queues\r\nafter triggering an EFAULT in __zerocopy_sg_from_iter.\r\n\r\nOn this error, skb_zerocopy_stream_iter resets the skb to its state\r\nbefore the operation with __pskb_trim. It cannot kfree_skb like\r\ndatagram callers, as the skb may have data from a previous send call.\r\n\r\n__pskb_trim calls skb_condense for unowned skbs, which adjusts their\r\ntruesize. These tcp skbuffs are owned and their truesize must add up\r\nto sk_wmem_queued. But they match because their skb->sk is NULL until\r\ntcp_transmit_skb.\r\n\r\nTemporarily set skb->sk when calling __pskb_trim to signal that the\r\nskbuffs are owned and avoid the skb_condense path.\r\n\r\nFixes: 52267790ef52 (\"sock: add MSG_ZEROCOPY\")\r\nSigned-off-by: Willem de Bruijn <willemb@google.com>\r\nReviewed-by: Eric Dumazet <edumazet@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: bridge: fix returning of vlan range op errors\r\n\r\nWhen vlan tunnels were introduced, vlan range errors got silently\r\ndropped and instead 0 was returned always. Restore the previous\r\nbehaviour and return errors to user-space.\r\n\r\nFixes: efa5356b0d97 (\"bridge: per vlan dst_metadata netlink support\")\r\nSigned-off-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>\r\nAcked-by: Roopa Prabhu <roopa@cumulusnetworks.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* soreuseport: fix initialization race\r\n\r\nSyzkaller stumbled upon a way to trigger\r\nWARNING: CPU: 1 PID: 13881 at net/core/sock_reuseport.c:41\r\nreuseport_alloc+0x306/0x3b0 net/core/sock_reuseport.c:39\r\n\r\nThere are two initialization paths for the sock_reuseport structure in a\r\nsocket: Through the udp/tcp bind paths of SO_REUSEPORT sockets or through\r\nSO_ATTACH_REUSEPORT_[CE]BPF before bind.  The existing implementation\r\nassumedthat the socket lock protected both of these paths when it actually\r\nonly protects the SO_ATTACH_REUSEPORT path.  Syzkaller triggered this\r\ndouble allocation by running these paths concurrently.\r\n\r\nThis patch moves the check for double allocation into the reuseport_alloc\r\nfunction which is protected by a global spin lock.\r\n\r\nFixes: e32ea7e74727 (\"soreuseport: fast reuseport UDP socket selection\")\r\nFixes: c125e80b8868 (\"soreuseport: fast reuseport TCP socket selection\")\r\nSigned-off-by: Craig Gallek <kraig@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: ethtool: remove error check for legacy setting transceiver type\r\n\r\nCommit 9cab88726929605 (\"net: ethtool: Add back transceiver type\")\r\nrestores the transceiver type to struct ethtool_link_settings and\r\nconvert_link_ksettings_to_legacy_settings() but forgets to remove the\r\nerror check for the same in convert_legacy_settings_to_link_ksettings().\r\nThis prevents older versions of ethtool to change link settings.\r\n\r\n    # ethtool --version\r\n    ethtool version 3.16\r\n\r\n    # ethtool -s eth0 autoneg on speed 100 duplex full\r\n    Cannot set new settings: Invalid argument\r\n      not setting speed\r\n      not setting duplex\r\n      not setting autoneg\r\n\r\nWhile newer versions of ethtool works.\r\n\r\n    # ethtool --version\r\n    ethtool version 4.10\r\n\r\n    # ethtool -s eth0 autoneg on speed 100 duplex full\r\n    [   57.703268] sh-eth ee700000.ethernet eth0: Link is Down\r\n    [   59.618227] sh-eth ee700000.ethernet eth0: Link is Up - 100Mbps/Full - flow control rx/tx\r\n\r\nFixes: 19cab88726929605 (\"net: ethtool: Add back transceiver type\")\r\nSigned-off-by: Niklas S\u00f6derlund <niklas.soderlund+renesas@ragnatech.se>\r\nReported-by: Renjith R V <renjith.rv@quest-global.com>\r\nTested-by: Geert Uytterhoeven <geert+renesas@glider.be>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* mlxsw: reg: Add Tunneling IPinIP General Configuration Register\r\n\r\nThe TIGCR register is used for setting up the IPinIP Tunnel\r\nconfiguration.\r\n\r\nFixes: ee954d1a91b2 (\"mlxsw: spectrum_router: Support GRE tunnels\")\r\nSigned-off-by: Petr Machata <petrm@mellanox.com>\r\nReviewed-by: Ido Schimmel <idosch@mellanox.com>\r\nSigned-off-by: Jiri Pirko <jiri@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* mlxsw: spectrum_router: Configure TIGCR on init\r\n\r\nSpectrum tunnels do not default to ttl of \"inherit\" like the Linux ones\r\ndo. Configure TIGCR on router init so that the TTL of tunnel packets is\r\ncopied from the overlay packets.\r\n\r\nFixes: ee954d1a91b2 (\"mlxsw: spectrum_router: Support GRE tunnels\")\r\nSigned-off-by: Petr Machata <petrm@mellanox.com>\r\nReviewed-by: Ido Schimmel <idosch@mellanox.com>\r\nSigned-off-by: Jiri Pirko <jiri@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: stmmac: Add missing call to dev_kfree_skb()\r\n\r\nWhen RX HW timestamp is enabled and a frame is discarded we are\r\nnot freeing the skb but instead only setting to NULL the entry.\r\n\r\nAdd a call to dev_kfree_skb_any() so that skb entry is correctly\r\nfreed.\r\n\r\nSigned-off-by: Jose Abreu <joabreu@synopsys.com>\r\nCc: David S. Miller <davem@davemloft.net>\r\nCc: Joao Pinto <jpinto@synopsys.com>\r\nCc: Giuseppe Cavallaro <peppe.cavallaro@st.com>\r\nCc: Alexandre Torgue <alexandre.torgue@st.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: stmmac: Fix stmmac_get_rx_hwtstamp()\r\n\r\nWhen using GMAC4 the valid timestamp is from CTX next desc but\r\nwe are passing the previous desc to get_rx_timestamp_status()\r\ncallback.\r\n\r\nFix this and while at it rework a little bit the function logic.\r\n\r\nSigned-off-by: Jose Abreu <joabreu@synopsys.com>\r\nCc: David S. Miller <davem@davemloft.net>\r\nCc: Joao Pinto <jpinto@synopsys.com>\r\nCc: Giuseppe Cavallaro <peppe.cavallaro@st.com>\r\nCc: Alexandre Torgue <alexandre.torgue@st.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: stmmac: Prevent infinite loop in get_rx_timestamp_status()\r\n\r\nPrevent infinite loop by correctly setting the loop condition to\r\nbreak when i == 10.\r\n\r\nSigned-off-by: Jose Abreu <joabreu@synopsys.com>\r\nCc: David S. Miller <davem@davemloft.net>\r\nCc: Joao Pinto <jpinto@synopsys.com>\r\nCc: Giuseppe Cavallaro <peppe.cavallaro@st.com>\r\nCc: Alexandre Torgue <alexandre.torgue@st.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* rxrpc: Don't release call mutex on error pointer\r\n\r\nDon't release call mutex at the end of rxrpc_kernel_begin_call() if the\r\ncall pointer actually holds an error value.\r\n\r\nFixes: 540b1c48c37a (\"rxrpc: Fix deadlock between call creation and sendmsg/recvmsg\")\r\nReported-by: Marc Dionne <marc.dionne@auristor.com>\r\nSigned-off-by: David Howells <dhowells@redhat.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* textsearch: fix typos in library helpers\r\n\r\nFix spellos (typos) in textsearch library helpers.\r\n\r\nSigned-off-by: Randy Dunlap <rdunlap@infradead.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* of_mdio: Fix broken PHY IRQ in case of probe deferral\r\n\r\nIf an Ethernet PHY is initialized before the interrupt controller it is\r\nconnected to, a message like the following is printed:\r\n\r\n    irq: no irq domain found for /interrupt-controller@e61c0000 !\r\n\r\nHowever, the actual error is ignored, leading to a non-functional (POLL)\r\nPHY interrupt later:\r\n\r\n    Micrel KSZ8041RNLI ee700000.ethernet-ffffffff:01: attached PHY driver [Micrel KSZ8041RNLI] (mii_bus:phy_addr=ee700000.ethernet-ffffffff:01, irq=POLL)\r\n\r\nDepending on whether the PHY driver will fall back to polling, Ethernet\r\nmay or may not work.\r\n\r\nTo fix this:\r\n  1. Switch of_mdiobus_register_phy() from irq_of_parse_and_map() to\r\n     of_irq_get().\r\n     Unlike the former, the latter returns -EPROBE_DEFER if the\r\n     interrupt controller is not yet available, so this condition can be\r\n     detected.\r\n     Other errors are handled the same as before, i.e. use the passed\r\n     mdio->irq[addr] as interrupt.\r\n  2. Propagate and handle errors from of_mdiobus_register_phy() and\r\n     of_mdiobus_register_device().\r\n\r\nSigned-off-by: Geert Uytterhoeven <geert+renesas@glider.be>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ipv6: flowlabel: do not leave opt->tot_len with garbage\r\n\r\nWhen syzkaller team brought us a C repro for the crash [1] that\r\nhad been reported many times in the past, I finally could find\r\nthe root cause.\r\n\r\nIf FlowLabel info is merged by fl6_merge_options(), we leave\r\npart of the opt_space storage provided by udp/raw/l2tp with random value\r\nin opt_space.tot_len, unless a control message was provided at sendmsg()\r\ntime.\r\n\r\nThen ip6_setup_cork() would use this random value to perform a kzalloc()\r\ncall. Undefined behavior and crashes.\r\n\r\nFix is to properly set tot_len in fl6_merge_options()\r\n\r\nAt the same time, we can also avoid consuming memory and cpu cycles\r\nto clear it, if every option is copied via a kmemdup(). This is the\r\nchange in ip6_setup_cork().\r\n\r\n[1]\r\nkasan: CONFIG_KASAN_INLINE enabled\r\nkasan: GPF could be caused by NULL-ptr deref or user memory access\r\ngeneral protection fault: 0000 [#1] SMP KASAN\r\nDumping ftrace buffer:\r\n   (ftrace buffer empty)\r\nModules linked in:\r\nCPU: 0 PID: 6613 Comm: syz-executor0 Not tainted 4.14.0-rc4+ #127\r\nHardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011\r\ntask: ffff8801cb64a100 task.stack: ffff8801cc350000\r\nRIP: 0010:ip6_setup_cork+0x274/0x15c0 net/ipv6/ip6_output.c:1168\r\nRSP: 0018:ffff8801cc357550 EFLAGS: 00010203\r\nRAX: dffffc0000000000 RBX: ffff8801cc357748 RCX: 0000000000000010\r\nRDX: 0000000000000002 RSI: ffffffff842bd1d9 RDI: 0000000000000014\r\nRBP: ffff8801cc357620 R08: ffff8801cb17f380 R09: ffff8801cc357b10\r\nR10: ffff8801cb64a100 R11: 0000000000000000 R12: ffff8801cc357ab0\r\nR13: ffff8801cc357b10 R14: 0000000000000000 R15: ffff8801c3bbf0c0\r\nFS:  00007f9c5c459700(0000) GS:ffff8801db200000(0000) knlGS:0000000000000000\r\nCS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033\r\nCR2: 0000000020324000 CR3: 00000001d1cf2000 CR4: 00000000001406f0\r\nDR0: 0000000020001010 DR1: 0000000000000000 DR2: 0000000000000000\r\nDR3: 0000000000000000 DR6: 00000000ffff0ff0 DR7: 0000000000000600\r\nCall Trace:\r\n ip6_make_skb+0x282/0x530 net/ipv6/ip6_output.c:1729\r\n udpv6_sendmsg+0x2769/0x3380 net/ipv6/udp.c:1340\r\n inet_sendmsg+0x11f/0x5e0 net/ipv4/af_inet.c:762\r\n sock_sendmsg_nosec net/socket.c:633 [inline]\r\n sock_sendmsg+0xca/0x110 net/socket.c:643\r\n SYSC_sendto+0x358/0x5a0 net/socket.c:1750\r\n SyS_sendto+0x40/0x50 net/socket.c:1718\r\n entry_SYSCALL_64_fastpath+0x1f/0xbe\r\nRIP: 0033:0x4520a9\r\nRSP: 002b:00007f9c5c458c08 EFLAGS: 00000216 ORIG_RAX: 000000000000002c\r\nRAX: ffffffffffffffda RBX: 0000000000718000 RCX: 00000000004520a9\r\nRDX: 0000000000000001 RSI: 0000000020fd1000 RDI: 0000000000000016\r\nRBP: 0000000000000086 R08: 0000000020e0afe4 R09: 000000000000001c\r\nR10: 0000000000000000 R11: 0000000000000216 R12: 00000000004bb1ee\r\nR13: 00000000ffffffff R14: 0000000000000016 R15: 0000000000000029\r\nCode: e0 07 83 c0 03 38 d0 7c 08 84 d2 0f 85 ea 0f 00 00 48 8d 79 04 48 b8 00 00 00 00 00 fc ff df 45 8b 74 24 04 48 89 fa 48 c1 ea 03 <0f> b6 14 02 48 89 f8 83 e0 07 83 c0 03 38 d0 7c 08 84 d2 0f 85\r\nRIP: ip6_setup_cork+0x274/0x15c0 net/ipv6/ip6_output.c:1168 RSP: ffff8801cc357550\r\n\r\nSigned-off-by: Eric Dumazet <edumazet@google.com>\r\nReported-by: Dmitry Vyukov <dvyukov@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* stmmac: Don't access tx_q->dirty_tx before netif_tx_lock\r\n\r\nThis is the possible reason for different hard to reproduce\r\nproblems on my ARMv7-SMP test system.\r\n\r\nThe symptoms are in recent kernels imprecise external aborts,\r\nand in older kernels various kinds of network stalls and\r\nunexpected page allocation failures.\r\n\r\nMy testing indicates that the trouble started between v4.5 and v4.6\r\nand prevails up to v4.14.\r\n\r\nUsing the dirty_tx before acquiring the spin lock is clearly\r\nwrong and was first introduced with v4.6.\r\n\r\nFixes: e3ad57c96715 (\"stmmac: review RX/TX ring management\")\r\n\r\nSigned-off-by: Bernd Edlinger <bernd.edlinger@hotmail.de>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* x86/cpu/AMD: Apply the Erratum 688 fix when the BIOS doesn't\r\n\r\nSome F14h machines have an erratum which, \"under a highly specific\r\nand detailed set of internal timing conditions\" can lead to skipping\r\ninstructions and RIP corruption.\r\n\r\nAdd the fix for those machines when their BIOS doesn't apply it or\r\nthere simply isn't BIOS update for them.\r\n\r\nTested-by: <mirh@protonmail.ch>\r\nSigned-off-by: Borislav Petkov <bp@suse.de>\r\nCc: <stable@vger.kernel.org>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Sherry Hurwitz <sherry.hurwitz@amd.com>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nCc: Yazen Ghannam <Yazen.Ghannam@amd.com>\r\nLink: http://lkml.kernel.org/r/20171022104731.28249-1-bp@alien8.de\r\nLink: https://bugzilla.kernel.org/show_bug.cgi?id=197285\r\n[ Added pr_info() that we activated the workaround. ]\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* Input: do not use property bits when generating module alias\r\n\r\nThe commit 8724ecb07229 (\"Input: allow matching device IDs on property\r\nbits\") started using property bits when generating module aliases for input\r\nhandlers, but did not adjust the generation of MODALIAS attribute on input\r\ndevice uevents, breaking automatic module loading. Given that no handler\r\ncurrently uses property bits in their module tables, let's revert this part\r\nof the commit for now.\r\n\r\nReported-by: Damien Wyart <damien.wyart@gmail.com>\r\nTested-by: Damien Wyart <damien.wyart@gmail.com>\r\nFixes: 8724ecb07229 (\"Input: allow matching device IDs on property bits\")\r\nSigned-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>\r\n\r\n* tcp: do tcp_mstamp_refresh before retransmits on TSQ handler\r\n\r\nWhen retransmission on TSQ handler was introduced in the commit\r\nf9616c35a0d7 (\"tcp: implement TSQ for retransmits\"), the retransmitted\r\nskbs' timestamps were updated on the actual transmission. In the later\r\ncommit 385e20706fac (\"tcp: use tp->tcp_mstamp in output path\"), it stops\r\nbeing done so. In the commit, the comment says \"We try to refresh\r\ntp->tcp_mstamp only when necessary\", and at present tcp_tsq_handler and\r\ntcp_v4_mtu_reduced applies to this. About the latter, it's okay since\r\nit's rare enough.\r\n\r\nAbout the former, even though possible retransmissions on the tasklet\r\ncomes just after the destructor run in NET_RX softirq handling, the time\r\nbetween them could be nonnegligibly large to the extent that\r\ntcp_rack_advance or rto rearming be affected if other (remaining) RX,\r\nBLOCK and (preceding) TASKLET sofirq handlings are unexpectedly heavy.\r\n\r\nSo in the same way as tcp_write_timer_handler does, doing tcp_mstamp_refresh\r\nensures the accuracy of algorithms relying on it.\r\n\r\nFixes: 385e20706fac (\"tcp: use tp->tcp_mstamp in output path\")\r\nSigned-off-by: Koichiro Den <den@klaipeden.com>\r\nReviewed-by: Eric Dumazet <edumazet@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* tcp/dccp: fix lockdep splat in inet_csk_route_req()\r\n\r\nThis patch fixes the following lockdep splat in inet_csk_route_req()\r\n\r\n  lockdep_rcu_suspicious\r\n  inet_csk_route_req\r\n  tcp_v4_send_synack\r\n  tcp_rtx_synack\r\n  inet_rtx_syn_ack\r\n  tcp_fastopen_synack_time\r\n  tcp_retransmit_timer\r\n  tcp_write_timer_handler\r\n  tcp_write_timer\r\n  call_timer_fn\r\n\r\nThread running inet_csk_route_req() owns a reference on the request\r\nsocket, so we have the guarantee ireq->ireq_opt wont be changed or\r\nfreed.\r\n\r\nlockdep can enforce this invariant for us.\r\n\r\nFixes: c92e8c02fe66 (\"tcp/dccp: fix ireq->opt races\")\r\nSigned-off-by: Eric Dumazet <edumazet@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ipsec: Fix aborted xfrm policy dump crash\r\n\r\nAn independent security researcher, Mohamed Ghannam, has reported\r\nthis vulnerability to Beyond Security's SecuriTeam Secure Disclosure\r\nprogram.\r\n\r\nThe xfrm_dump_policy_done function expects xfrm_dump_policy to\r\nhave been called at least once or it will crash.  This can be\r\ntriggered if a dump fails because the target socket's receive\r\nbuffer is full.\r\n\r\nThis patch fixes it by using the cb->start mechanism to ensure that\r\nthe initialisation is always done regardless of the buffer situation.\r\n\r\nFixes: 12a169e7d8f4 (\"ipsec: Put dumpers on the dump list\")\r\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>\r\nSigned-off-by: Steffen Klassert <steffen.klassert@secunet.com>\r\n\r\n* scsi: Suppress a kernel warning in case the prep function returns BLKPREP_DEFER\r\n\r\nThe legacy block layer handles requests as follows:\r\n- If the prep function returns BLKPREP_OK, let blk_peek_request()\r\n  return the pointer to that request.\r\n- If the prep function returns BLKPREP_DEFER, keep the RQF_STARTED\r\n  flag and retry calling the prep function later.\r\n- If the prep function returns BLKPREP_KILL or BLKPREP_INVALID, end\r\n  the request.\r\n\r\nIn none of these cases it is correct to clear the SCMD_INITIALIZED\r\nflag from inside scsi_prep_fn(). Since scsi_prep_fn() already\r\nguarantees that scsi_init_command() will be called once even if\r\nscsi_prep_fn() is called multiple times, remove the code that clears\r\nSCMD_INITIALIZED from scsi_prep_fn().\r\n\r\nThe scsi-mq code handles requests as follows:\r\n- If scsi_mq_prep_fn() returns BLKPREP_OK, set the RQF_DONTPREP flag\r\n  and submit the request to the SCSI LLD.\r\n- If scsi_mq_prep_fn() returns BLKPREP_DEFER, call\r\n  blk_mq_delay_run_hw_queue() and return BLK_STS_RESOURCE.\r\n- If the prep function returns BLKPREP_KILL or BLKPREP_INVALID, call\r\n  scsi_mq_uninit_cmd() and let the blk-mq core end the request.\r\n\r\nIn none of these cases scsi_mq_prep_fn() should clear the\r\nSCMD_INITIALIZED flag. Hence remove the code from scsi_mq_prep_fn()\r\nfunction that clears that flag.\r\n\r\nThis patch avoids that the following warning is triggered when using\r\nthe legacy block layer:\r\n\r\n------------[ cut here ]------------\r\nWARNING: CPU: 1 PID: 4198 at drivers/scsi/scsi_lib.c:654 scsi_end_request+0x1de/0x220\r\nCPU: 1 PID: 4198 Comm: mkfs.f2fs Not tainted 4.14.0-rc5+ #1\r\ntask: ffff91c147a4b800 task.stack: ffffb282c37b8000\r\nRIP: 0010:scsi_end_request+0x1de/0x220\r\nCall Trace:\r\n<IRQ>\r\nscsi_io_completion+0x204/0x5e0\r\nscsi_finish_command+0xce/0xe0\r\nscsi_softirq_done+0x126/0x130\r\nblk_done_softirq+0x6e/0x80\r\n__do_softirq+0xcf/0x2a8\r\nirq_exit+0xab/0xb0\r\ndo_IRQ+0x7b/0xc0\r\ncommon_interrupt+0x90/0x90\r\n</IRQ>\r\nRIP: 0010:_raw_spin_unlock_irqrestore+0x9/0x10\r\n__test_set_page_writeback+0xc7/0x2c0\r\n__block_write_full_page+0x158/0x3b0\r\nblock_write_full_page+0xc4/0xd0\r\nblkdev_writepage+0x13/0x20\r\n__writepage+0x12/0x40\r\nwrite_cache_pages+0x204/0x500\r\ngeneric_writepages+0x48/0x70\r\nblkdev_writepages+0x9/0x10\r\ndo_writepages+0x34/0xc0\r\n__filemap_fdatawrite_range+0x6c/0x90\r\nfile_write_and_wait_range+0x31/0x90\r\nblkdev_fsync+0x16/0x40\r\nvfs_fsync_range+0x44/0xa0\r\ndo_fsync+0x38/0x60\r\nSyS_fsync+0xb/0x10\r\nentry_SYSCALL_64_fastpath+0x13/0x94\r\n---[ end trace 86e8ef85a4a6c1d1 ]---\r\n\r\nFixes: commit 64104f703212 (\"scsi: Call scsi_initialize_rq() for filesystem requests\")\r\nSigned-off-by: Bart Van Assche <bart.vanassche@wdc.com>\r\nCc: Damien Le Moal <damien.lemoal@wdc.com>\r\nCc: Christoph Hellwig <hch@lst.de>\r\nCc: Hannes Reinecke <hare@suse.com>\r\nCc: Johannes Thumshirn <jthumshirn@suse.de>\r\nReviewed-by: Damien Le Moal <damien.lemoal@wdc.com>\r\nReviewed-by: Johannes Thumshirn <jthumshirn@suse.de>\r\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>\r\n\r\n* Linux 4.14-rc6\r\n\r\n* x86/entry: Fix idtentry unwind hint\r\n\r\nThis fixes the following ORC warning in the 'int3' entry code:\r\n\r\n  WARNING: can't dereference iret registers at ffff8801c5f17fe0 for ip ffffffff95f0d94b\r\n\r\nThe ORC metadata had the wrong stack offset for the iret registers.\r\n\r\nTheir location on the stack is dependent on whether the exception has an\r\nerror code.\r\n\r\nReported-and-tested-by: Andrei Vagin <avagin@virtuozzo.com>\r\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\r\nCc: Andy Lutomirski <luto@kernel.org>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nFixes: 8c1f75587a18 (\"x86/entry/64: Add unwind hint annotations\")\r\nLink: http://lkml.kernel.org/r/931d57f0551ed7979d5e7e05370d445c8e5137f8.1508516398.git.jpoimboe@redhat.com\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* x86/unwind: Show function name+offset in ORC error messages\r\n\r\nImprove the warning messages to show the relevant function name+offset.\r\nThis makes it much easier to diagnose problems with the ORC metadata.\r\n\r\nBefore:\r\n\r\n  WARNING: can't dereference iret registers at ffff8801c5f17fe0 for ip ffffffff95f0d94b\r\n\r\nAfter:\r\n\r\n  WARNING: can't dereference iret registers at ffff880178f5ffe0 for ip int3+0x5b/0x60\r\n\r\nReported-by: Andrei Vagin <avagin@virtuozzo.com>\r\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\r\nCc: Andy Lutomirski <luto@kernel.org>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nFixes: ee9f8fce9964 (\"x86/unwind: Add the ORC unwinder\")\r\nLink: http://lkml.kernel.org/r/6bada6b9eac86017e16bd79e1e77877935cb50bb.1508516398.git.jpoimboe@redhat.com\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* sched/swait: Document it clearly that the swait facilities are special and shouldn't be used\r\n\r\nWe currently welcome using swait over wait whenever possible because\r\nit is a slimmer data structure. However, Linus has made it very clear\r\nthat he does not want this used, unless under very specific RT scenarios\r\n(such as current users).\r\n\r\nUpdate the comments before kernel hipsters start thinking swait is the\r\ncool thing to do.\r\n\r\nSigned-off-by: Davidlohr Bueso <dbueso@suse.de>\r\nAcked-by: Luis R. Rodriguez <mcgrof@kernel.org>\r\nCc: Andrew Morton <akpm@linux-foundation.org>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Paul E. McKenney <paulmck@linux.vnet.ibm.com>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nCc: dave@stgolabs.net\r\nCc: wagi@monom.org\r\nLink: http://lkml.kernel.org/r/20171020171346.24445-1-dave@stgolabs.net\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* platform/x86: intel_pmc_ipc: Use devm_* calls in driver probe function\r\n\r\nThis patch cleans up unnecessary free/alloc calls in ipc_plat_probe(),\r\nipc_pci_probe() and ipc_plat_get_res() functions by using devm_*\r\ncalls.\r\n\r\nThis patch also adds proper error handling for failure cases in\r\nipc_pci_probe() function.\r\n\r\nSigned-off-by: Kuppuswamy Sathyanarayanan <sathyanarayanan.kuppuswamy@linux.intel.com>\r\n[andy: fixed style issues, missed devm_free_irq(), removed unnecessary log message]\r\nSigned-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>\r\n\r\n* platform/x86: intel_pmc_ipc: Use spin_lock to protect GCR updates\r\n\r\nCurrently, update_no_reboot_bit() function implemented in this driver\r\nuses mutex_lock() to protect its register updates. But this function is\r\ncalled with in atomic context in iTCO_wdt_start() and iTCO_wdt_stop()\r\nfunctions in iTCO_wdt.c driver, which in turn causes \"sleeping into\r\natomic context\" issue. This patch fixes this issue by replacing the\r\nmutex_lock() with spin_lock() to protect the GCR read/write/update APIs.\r\n\r\nFixes: 9d855d4 (\"platform/x86: intel_pmc_ipc: Fix iTCO_wdt GCS memory mapping failure\")\r\nSigned-off-by: Kuppuswamy Sathyanarayanan <sathyanarayanan.kupuswamy@linux.intel.com>\r\nSigned-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>\r\n\r\n* kbuild doc: a bundle of fixes on makefiles.txt\r\n\r\nIt does several fixes:\r\n1. move the displaced ld example to its reasonable place.\r\n2. add new example for command gzip.\r\n3. fix 2 number errors.\r\n4. fix format of chapter 7.x, make it looks the same as other chapters.\r\n\r\nSigned-off-by: Cao jin <caoj.fnst@cn.fujitsu.com>\r\nSigned-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>\r\n\r\n* kbuild: clang: fix build failures with sparse check\r\n\r\nWe should avoid using the space character when passing arguments to\r\nclang, because static code analysis check tool such as sparse may\r\nmisinterpret the arguments followed by spaces as build targets hence\r\ncause the build to fail.\r\n\r\nSigned-off-by: David Lin <dtwlin@google.com>\r\nSigned-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>\r\n\r\n* xfs: fix AIM7 regression\r\n\r\nApparently our current rwsem code doesn't like doing the trylock, then\r\nlock for real scheme.  So change our read/write methods to just do the\r\ntrylock for the RWF_NOWAIT case.  This fixes a ~25% regression in\r\nAIM7.\r\n\r\nFixes: 91f9943e (\"fs: support RWF_NOWAIT for buffered reads\")\r\nReported-by: kernel test robot <xiaolong.ye@intel.com>\r\nSigned-off-by: Christoph Hellwig <hch@lst.de>\r\nReviewed-by: Darrick J. Wong <darrick.wong@oracle.com>\r\nSigned-off-by: Darrick J. Wong <darrick.wong@oracle.com>\r\n\r\n* drivers/net/usb: add device id for TP-LINK UE300 USB 3.0 Ethernet\r\n\r\nThis product is named 'TP-LINK USB 3.0 Gigabit Ethernet Network\r\nAdapter (Model No.is UE300)'. It uses chip RTL8153 and works with\r\ndriver drivers/net/usb/r8152.c\r\n\r\nSigned-off-by: Ran Wang <ran.wang_1@nxp.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* cdc_ether: flag the Huawei ME906/ME909 as WWAN\r\n\r\nThe Huawei ME906 (12d1:15c1) comes with a standard ECM interface that\r\nrequires management via AT commands sent over one of the control TTYs\r\n(e.g. connected with AT^NDISDUP).\r\n\r\nSigned-off-by: Aleksander Morgado <aleksander@aleksander.es>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: mvpp2: fix TSO headers allocation and management\r\n\r\nTSO headers are managed with txq index and therefore should be aligned\r\nwith the txq size, not with the aggregated txq size.\r\n\r\nFixes: 186cd4d4e414 (\"net: mvpp2: software tso support\")\r\nReported-by: Marc Zyngier <marc.zyngier@arm.com>\r\nSigned-off-by: Yan Markman <ymarkman@marvell.com>\r\nSigned-off-by: Antoine Tenart <antoine.tenart@free-electrons.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: mvpp2: do not unmap TSO headers buffers\r\n\r\nThe TSO header buffers are coming from a per cpu pool and should not\r\nbe unmapped as they are reused. The PPv2 driver was unmapping all\r\ndescriptors buffers unconditionally. This patch fixes this by checking\r\nthe buffers dma addresses before unmapping them, and by not unmapping\r\nthose who are located in the TSO header pool.\r\n\r\nFixes: 186cd4d4e414 (\"net: mvpp2: software tso support\")\r\nSigned-off-by: Antoine Tenart <antoine.tenart@free-electrons.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: mvpp2: do not call txq_done from the Tx path when Tx irqs are used\r\n\r\nWhen Tx IRQs are used, txq_bufs_free() can be called from both the Tx\r\npath and from NAPI poll(). This led to CPU stalls as if these two tasks\r\n(Tx and Poll) are scheduled on two CPUs at the same time, DMA unmapping\r\noperations are done on the same txq buffers.\r\n\r\nThis patch adds a check not to call txq_done() from the Tx path if Tx\r\ninterrupts are used as it does not make sense to do so.\r\n\r\nFixes: edc660fa09e2 (\"net: mvpp2: replace TX coalescing interrupts with hrtimer\")\r\nSigned-off-by: Antoine Tenart <antoine.tenart@free-electrons.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* sctp: full support for ipv6 ip_nonlocal_bind & IP_FREEBIND\r\n\r\nCommit 9b9742022888 (\"sctp: support ipv6 nonlocal bind\")\r\nintroduced support for the above options as v4 sctp did,\r\nso patched sctp_v6_available().\r\n\r\nIn the v4 implementation it's enough, because\r\nsctp_inet_bind_verify() just returns with sctp_v4_available().\r\nHowever sctp_inet6_bind_verify() has an extra check before that\r\nfor link-local scope_id, which won't respect the above options.\r\n\r\nAdded the checks before calling ipv6_chk_addr(), but\r\nnot before the validation of scope_id.\r\n\r\nbefore (w/ both options):\r\n ./v6test fe80::10 sctp\r\n bind failed, errno: 99 (Cannot assign requested address)\r\n ./v6test fe80::10 tcp\r\n bind success, errno: 0 (Success)\r\n\r\nafter (w/ both options):\r\n ./v6test fe80::10 sctp\r\n bind success, errno: 0 (Success)\r\n\r\nSigned-off-by: Laszlo Toth <laszlth@gmail.com>\r\nReviewed-by: Xin Long <lucien.xin@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* can: sun4i: fix loopback mode\r\n\r\nFix loopback mode by setting the right flag and remove presume mode.\r\n\r\nSigned-off-by: Gerhard Bertelsmann <info@gerhard-bertelsmann.de>\r\nCc: linux-stable <stable@vger.kernel.org>\r\nSigned-off-by: Marc Kleine-Budde <mkl@pengutronix.de>\r\n\r\n* can: kvaser_usb: Correct return value in printout\r\n\r\nIf the return value from kvaser_usb_send_simple_msg() was non-zero, the\r\nreturn value from kvaser_usb_flush_queue() was printed in the kernel\r\nwarning.\r\n\r\nSigned-off-by: Jimmy Assarsson <jimmyassarsson@gmail.com>\r\nCc: linux-stable <stable@vger.kernel.org>\r\nSigned-off-by: Marc Kleine-Budde <mkl@pengutronix.de>\r\n\r\n* can: kvaser_usb: Ignore CMD_FLUSH_QUEUE_REPLY messages\r\n\r\nTo avoid kernel warning \"Unhandled message (68)\", ignore the\r\nCMD_FLUSH_QUEUE_REPLY message for now.\r\n\r\nAs of Leaf v2 firmware version v4.1.844 (2017-02-15), flush tx queue is\r\nsynchronous. There is a capability bit indicating whether flushing tx\r\nqueue is synchronous or asynchronous.\r\n\r\nA proper solution would be to query the device for capabilities. If the\r\nsynchronous tx flush capability bit is set, we should wait for\r\nCMD_FLUSH_QUEUE_REPLY message, while flushing the tx queue.\r\n\r\nSigned-off-by: Jimmy Assarsson <jimmyassarsson@gmail.com>\r\nCc: linux-stable <stable@vger.kernel.org>\r\nSigned-off-by: Marc Kleine-Budde <mkl@pengutronix.de>\r\n\r\n* perf/x86/intel/bts: Fix exclusive event reference leak\r\n\r\nCommit:\r\n\r\n  d2878d642a4ed (\"perf/x86/intel/bts: Disallow use by unprivileged users on paranoid systems\")\r\n\r\n... adds a privilege check in the exactly wrong place in the event init path:\r\nafter the 'LBR exclusive' reference has been taken, and doesn't release it\r\nin the case of insufficient privileges. After this, nobody in the system\r\ngets to use PT or LBR afterwards.\r\n\r\nThis patch moves the privilege check to where it should have been in the\r\nfirst place.\r\n\r\nSigned-off-by: Alexander Shishkin <alexander.shishkin@linux.intel.com>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <a.p.zijlstra@chello.nl>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nFixes: d2878d642a4ed (\"perf/x86/intel/bts: Disallow use by unprivileged users on paranoid systems\")\r\nLink: http://lkml.kernel.org/r/20171023123533.16973-1-alexander.shishkin@linux.intel.com\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* ALSA: hda - fix headset mic problem for Dell machines with alc236\r\n\r\nWe have several Dell laptops which use the codec alc236, the headset\r\nmic can't work on these machines. Following the commit 736f20a70, we\r\nadd the pin cfg table to make the headset mic work.\r\n\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Hui Wang <hui.wang@canonical.com>\r\nSigned-off-by: Takashi Iwai <tiwai@suse.de>\r\n\r\n* hwmon: (tmp102) Fix first temperature reading\r\n\r\nCommit 3d8f7a89a197 (\"hwmon: (tmp102) Improve handling of initial read\r\ndelay\") reduced the initial temperature read delay and made it dependent\r\non the chip's shutdown mode. If the chip was not in shutdown mode at probe,\r\nthe read delay no longer applies.\r\n\r\nThis ignores the fact that the chip initialization changes the temperature\r\nsensor resolution, and that the temperature register values change when\r\nthe resolution is changed. As a result, the reported temperature is twice\r\nas high as the real temperature until the first temperature conversion\r\nafter the configuration change is complete. This can result in unexpected\r\nbehavior and, worst case, in a system shutdown. To fix the problem,\r\nlet's just always wait for a conversion to complete before reporting\r\na temperatu\u2026",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 478,
        "changed_files": 1,
        "created_at": "2017-11-03T21:17:17Z",
        "closed_at": null,
        "merged_at": null,
        "body": "a lot very _**fast**_ for old computer tat kant handl _**quantum physics**_ like my calculator thxtothispull now my linux run in           calculatyr",
        "comments": 184
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-10-30T12:53:31Z",
        "closed_at": null,
        "merged_at": null,
        "body": "small typo fixed",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 5,
        "deletions": 5,
        "changed_files": 1,
        "created_at": "2017-10-29T15:54:14Z",
        "closed_at": null,
        "merged_at": null,
        "body": "I realise this is not the right way to submit patches. But I'm counting this collaboration for my Hacktoberfest. I'll go through the mailing list as well.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-10-28T12:23:00Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Update upstream",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-10-25T17:29:44Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Add ID For Thrustmaster Ferrari 458 SPIDER \"XBox One\"\r\nlsusb output\r\nID 044f:b671 ThrustMaster, Inc.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2017-10-25T17:14:57Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-10-22T02:01:50Z",
        "closed_at": "2017-10-22T02:03:44Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-10-17T09:59:15Z",
        "closed_at": "2017-10-17T10:00:23Z",
        "merged_at": null,
        "body": "Update upstream",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-10-14T11:24:03Z",
        "closed_at": "2018-02-27T17:18:13Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-10-06T12:08:45Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1383,
        "deletions": 250,
        "changed_files": 62,
        "created_at": "2017-10-05T08:39:55Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Do you still have a mipad ????\r\nIf yes please help us\r\nWe cannot make shield tablet blobs stable on mipad\r\nWe need bootloader sources please help\r\n\r\n\r\nSorry for writing here",
        "comments": 12
    },
    {
        "merged": false,
        "additions": 59754,
        "deletions": 23348,
        "changed_files": 2820,
        "created_at": "2017-10-03T10:02:13Z",
        "closed_at": "2017-10-03T10:13:45Z",
        "merged_at": null,
        "body": "* ext4: fix two spelling nits\r\n\r\nSigned-off-by: Theodore Ts'o <tytso@mit.edu>\r\n\r\n* net: hns: fix uninitialized data use\r\n\r\nWhen dev_dbg() is enabled, we print uninitialized data, as gcc-7.0.1\r\nnow points out:\r\n\r\nethernet/hisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_set_promisc_tcam':\r\nethernet/hisilicon/hns/hns_dsaf_main.c:2947:75: error: 'tbl_tcam_data.low.val' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nethernet/hisilicon/hns/hns_dsaf_main.c:2947:75: error: 'tbl_tcam_data.high.val' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\n\r\nWe also pass the data into hns_dsaf_tcam_mc_cfg(), which might later\r\nuse it (not sure about that), so it seems safer to just always initialize\r\nthe tbl_tcam_data structure.\r\n\r\nFixes: 1f5fa2dd1cfa (\"net: hns: fix for promisc mode in HNS driver\")\r\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: hns: avoid gcc-7.0.1 warning for uninitialized data\r\n\r\nhns_dsaf_set_mac_key() calls dsaf_set_field() on an uninitialized field,\r\nwhich will then change only a few of its bits, causing a warning with\r\nthe latest gcc:\r\n\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_set_mac_uc_entry':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\n   (origin) &= (~(mask)); \\\r\n            ^~\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_set_mac_mc_entry':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_add_mac_mc_port':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_del_mac_entry':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_rm_mac_addr':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_del_mac_mc_port':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_get_mac_uc_entry':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\nhisilicon/hns/hns_dsaf_main.c: In function 'hns_dsaf_get_mac_mc_entry':\r\nhisilicon/hns/hns_dsaf_reg.h:1046:12: error: 'mac_key.low.bits.port_vlan' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\n\r\nThe code is actually correct since we always set all 16 bits of the\r\nport_vlan field, but gcc correctly points out that the first\r\naccess does contain uninitialized data.\r\n\r\nThis initializes the field to zero first before setting the\r\nindividual bits.\r\n\r\nFixes: 5483bfcb169c (\"net: hns: modify tcam table and set mac key\")\r\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* irda: vlsi_ir: fix check for DMA mapping errors\r\n\r\nvlsi_alloc_ring() checks for DMA mapping errors by comparing\r\nreturned address with zero, while pci_dma_mapping_error() should be used.\r\n\r\nFound by Linux Driver Verification project (linuxtesting.org).\r\n\r\nSigned-off-by: Alexey Khoroshilov <khoroshilov@ispras.ru>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* EDAC, pnd2_edac: Fix reported DIMM number\r\n\r\nDIMM number passed to edac_mc_handle_error() was accidentally hardcoded\r\nto zero. Pass in the correct daddr->dimm value.\r\n\r\nSigned-off-by: Qiuxu Zhuo <qiuxu.zhuo@intel.com>\r\nSigned-off-by: Borislav Petkov <bp@suse.de>\r\n\r\n* Linux 4.11-rc4\r\n\r\n* USB: fix linked-list corruption in rh_call_control()\r\n\r\nUsing KASAN, Dmitry found a bug in the rh_call_control() routine: If\r\nbuffer allocation fails, the routine returns immediately without\r\nunlinking its URB from the control endpoint, eventually leading to\r\nlinked-list corruption.\r\n\r\nThis patch fixes the problem by jumping to the end of the routine\r\n(where the URB is unlinked) when an allocation failure occurs.\r\n\r\nSigned-off-by: Alan Stern <stern@rowland.harvard.edu>\r\nReported-and-tested-by: Dmitry Vyukov <dvyukov@google.com>\r\nCC: <stable@vger.kernel.org>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* sched/clock: Fix broken stable to unstable transfer\r\n\r\nWhen it is determined that the clock is actually unstable, and\r\nwe switch from stable to unstable, the __clear_sched_clock_stable()\r\nfunction is eventually called.\r\n\r\nIn this function we set gtod_offset so the following holds true:\r\n\r\n  sched_clock() + raw_offset == ktime_get_ns() + gtod_offset\r\n\r\nBut instead of getting the latest timestamps, we use the last values\r\nfrom scd, so instead of sched_clock() we use scd->tick_raw, and\r\ninstead of ktime_get_ns() we use scd->tick_gtod.\r\n\r\nHowever, later, when we use gtod_offset sched_clock_local() we do not\r\nadd it to scd->tick_gtod to calculate the correct clock value when we\r\ndetermine the boundaries for min/max clocks.\r\n\r\nThis can result in tick granularity sched_clock() values, so fix it.\r\n\r\nSigned-off-by: Pavel Tatashin <pasha.tatashin@oracle.com>\r\nSigned-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nCc: hpa@zytor.com\r\nFixes: 5680d8094ffa (\"sched/clock: Provide better clock continuity\")\r\nLink: http://lkml.kernel.org/r/1490214265-899964-2-git-send-email-pasha.tatashin@oracle.com\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* drm/i915: Restore marking context objects as dirty on pinning\r\n\r\nCommit e8a9c58fcd9a (\"drm/i915: Unify active context tracking between\r\nlegacy/execlists/guc\") converted the legacy intel_ringbuffer submission\r\nto the same context pinning mechanism as execlists - that is to pin the\r\ncontext until the subsequent request is retired. Previously it used the\r\nvma retirement of the context object to keep itself pinned until the\r\nnext request (after i915_vma_move_to_active()). In the conversion, I\r\nmissed that the vma retirement was also responsible for marking the\r\nobject as dirty. Mark the context object as dirty when pinning\r\n(equivalent to execlists) which ensures that if the context is swapped\r\nout due to mempressure or suspend/hibernation, when it is loaded back in\r\nit does so with the previous state (and not all zero).\r\n\r\nFixes: e8a9c58fcd9a (\"drm/i915: Unify active context tracking between legacy/execlists/guc\")\r\nReported-by: Dennis Gilmore <dennis@ausil.us>\r\nReported-by: Mathieu Marquer <mathieu.marquer@gmail.com>\r\nBugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=99993\r\nBugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=100181\r\nSigned-off-by: Chris Wilson <chris@chris-wilson.co.uk>\r\nCc: Tvrtko Ursulin <tvrtko.ursulin@intel.com>\r\nCc: <drm-intel-fixes@lists.freedesktop.org> # v4.11-rc1\r\nLink: http://patchwork.freedesktop.org/patch/msgid/20170322205930.12762-1-chris@chris-wilson.co.uk\r\nReviewed-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>\r\n(cherry picked from commit 5d4bac5503fcc67dd7999571e243cee49371aef7)\r\nSigned-off-by: Jani Nikula <jani.nikula@intel.com>\r\n\r\n* netfilter: invoke synchronize_rcu after set the _hook_ to NULL\r\n\r\nOtherwise, another CPU may access the invalid pointer. For example:\r\n    CPU0                CPU1\r\n     -              rcu_read_lock();\r\n     -              pfunc = _hook_;\r\n  _hook_ = NULL;          -\r\n  mod unload              -\r\n     -                 pfunc(); // invalid, panic\r\n     -             rcu_read_unlock();\r\n\r\nSo we must call synchronize_rcu() to wait the rcu reader to finish.\r\n\r\nAlso note, in nf_nat_snmp_basic_fini, synchronize_rcu() will be invoked\r\nby later nf_conntrack_helper_unregister, but I'm inclined to add a\r\nexplicit synchronize_rcu after set the nf_nat_snmp_hook to NULL. Depend\r\non such obscure assumptions is not a good idea.\r\n\r\nLast, in nfnetlink_cttimeout, we use kfree_rcu to free the time object,\r\nso in cttimeout_exit, invoking rcu_barrier() is not necessary at all,\r\nremove it too.\r\n\r\nSigned-off-by: Liping Zhang <zlpnobody@gmail.com>\r\nSigned-off-by: Pablo Neira Ayuso <pablo@netfilter.org>\r\n\r\n* netfilter: nfnl_cthelper: fix a race when walk the nf_ct_helper_hash table\r\n\r\nThe nf_ct_helper_hash table is protected by nf_ct_helper_mutex, while\r\nnfct_helper operation is protected by nfnl_lock(NFNL_SUBSYS_CTHELPER).\r\nSo it's possible that one CPU is walking the nf_ct_helper_hash for\r\ncthelper add/get/del, another cpu is doing nf_conntrack_helpers_unregister\r\nat the same time. This is dangrous, and may cause use after free error.\r\n\r\nNote, delete operation will flush all cthelpers added via nfnetlink, so\r\nusing rcu to do protect is not easy.\r\n\r\nNow introduce a dummy list to record all the cthelpers added via\r\nnfnetlink, then we can walk the dummy list instead of walking the\r\nnf_ct_helper_hash. Also, keep nfnl_cthelper_dump_table unchanged, it\r\nmay be invoked without nfnl_lock(NFNL_SUBSYS_CTHELPER) held.\r\n\r\nSigned-off-by: Liping Zhang <zlpnobody@gmail.com>\r\nSigned-off-by: Pablo Neira Ayuso <pablo@netfilter.org>\r\n\r\n* netfilter: nf_ct_ext: fix possible panic after nf_ct_extend_unregister\r\n\r\nIf one cpu is doing nf_ct_extend_unregister while another cpu is doing\r\n__nf_ct_ext_add_length, then we may hit BUG_ON(t == NULL). Moreover,\r\nthere's no synchronize_rcu invocation after set nf_ct_ext_types[id] to\r\nNULL, so it's possible that we may access invalid pointer.\r\n\r\nBut actually, most of the ct extends are built-in, so the problem listed\r\nabove will not happen. However, there are two exceptions: NF_CT_EXT_NAT\r\nand NF_CT_EXT_SYNPROXY.\r\n\r\nFor _EXT_NAT, the panic will not happen, since adding the nat extend and\r\nunregistering the nat extend are located in the same file(nf_nat_core.c),\r\nthis means that after the nat module is removed, we cannot add the nat\r\nextend too.\r\n\r\nFor _EXT_SYNPROXY, synproxy extend may be added by init_conntrack, while\r\nsynproxy extend unregister will be done by synproxy_core_exit. So after\r\nnf_synproxy_core.ko is removed, we may still try to add the synproxy\r\nextend, then kernel panic may happen.\r\n\r\nI know it's very hard to reproduce this issue, but I can play a tricky\r\ngame to make it happen very easily :)\r\n\r\nStep 1. Enable SYNPROXY for tcp dport 1234 at FORWARD hook:\r\n  # iptables -I FORWARD -p tcp --dport 1234 -j SYNPROXY\r\nStep 2. Queue the syn packet to the userspace at raw table OUTPUT hook.\r\n        Also note, in the userspace we only add a 20s' delay, then\r\n        reinject the syn packet to the kernel:\r\n  # iptables -t raw -I OUTPUT -p tcp --syn -j NFQUEUE --queue-num 1\r\nStep 3. Using \"nc 2.2.2.2 1234\" to connect the server.\r\nStep 4. Now remove the nf_synproxy_core.ko quickly:\r\n  # iptables -F FORWARD\r\n  # rmmod ipt_SYNPROXY\r\n  # rmmod nf_synproxy_core\r\nStep 5. After 20s' delay, the syn packet is reinjected to the kernel.\r\n\r\nNow you will see the panic like this:\r\n  kernel BUG at net/netfilter/nf_conntrack_extend.c:91!\r\n  Call Trace:\r\n   ? __nf_ct_ext_add_length+0x53/0x3c0 [nf_conntrack]\r\n   init_conntrack+0x12b/0x600 [nf_conntrack]\r\n   nf_conntrack_in+0x4cc/0x580 [nf_conntrack]\r\n   ipv4_conntrack_local+0x48/0x50 [nf_conntrack_ipv4]\r\n   nf_reinject+0x104/0x270\r\n   nfqnl_recv_verdict+0x3e1/0x5f9 [nfnetlink_queue]\r\n   ? nfqnl_recv_verdict+0x5/0x5f9 [nfnetlink_queue]\r\n   ? nla_parse+0xa0/0x100\r\n   nfnetlink_rcv_msg+0x175/0x6a9 [nfnetlink]\r\n   [...]\r\n\r\nOne possible solution is to make NF_CT_EXT_SYNPROXY extend built-in, i.e.\r\nintroduce nf_conntrack_synproxy.c and only do ct extend register and\r\nunregister in it, similar to nf_conntrack_timeout.c.\r\n\r\nBut having such a obscure restriction of nf_ct_extend_unregister is not a\r\ngood idea, so we should invoke synchronize_rcu after set nf_ct_ext_types\r\nto NULL, and check the NULL pointer when do __nf_ct_ext_add_length. Then\r\nit will be easier if we add new ct extend in the future.\r\n\r\nLast, we use kfree_rcu to free nf_ct_ext, so rcu_barrier() is unnecessary\r\nanymore, remove it too.\r\n\r\nSigned-off-by: Liping Zhang <zlpnobody@gmail.com>\r\nAcked-by: Florian Westphal <fw@strlen.de>\r\nSigned-off-by: Pablo Neira Ayuso <pablo@netfilter.org>\r\n\r\n* netfilter: nf_nat_snmp: Fix panic when snmp_trap_helper fails to register\r\n\r\nIn the commit 93557f53e1fb (\"netfilter: nf_conntrack: nf_conntrack snmp\r\nhelper\"), the snmp_helper is replaced by nf_nat_snmp_hook. So the\r\nsnmp_helper is never registered. But it still tries to unregister the\r\nsnmp_helper, it could cause the panic.\r\n\r\nNow remove the useless snmp_helper and the unregister call in the\r\nerror handler.\r\n\r\nFixes: 93557f53e1fb (\"netfilter: nf_conntrack: nf_conntrack snmp helper\")\r\nSigned-off-by: Gao Feng <fgao@ikuai8.com>\r\nSigned-off-by: Pablo Neira Ayuso <pablo@netfilter.org>\r\n\r\n* NFS: Fix old dentry rehash after move\r\n\r\nNow that nfs_rename()'s d_move has moved within the RPC task's rpc_call_done\r\ncallback, rehashing new_dentry will actually rehash the old dentry's name\r\nin nfs_rename().  d_move() is going to rehash the new dentry for us anyway,\r\nso doing it again here is unnecessary.\r\n\r\nReported-by: Chuck Lever <chuck.lever@oracle.com>\r\nFixes: 920b4530fb80 (\"NFS: nfs_rename() handle -ERESTARTSYS dentry left behind\")\r\nSigned-off-by: Benjamin Coddington <bcodding@redhat.com>\r\nTested-by: Chuck Lever <chuck.lever@oracle.com>\r\nSigned-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>\r\n\r\n* cpufreq: Fix creation of symbolic links to policy directories\r\n\r\nThe cpufreq core only tries to create symbolic links from CPU\r\ndirectories in sysfs to policy directories in cpufreq_add_dev(),\r\neither when a given CPU is registered or when the cpufreq driver\r\nis registered, whichever happens first.  That is not sufficient,\r\nhowever, because cpufreq_add_dev() may be called for an offline CPU\r\nwhose policy object has not been created yet and, quite obviously,\r\nthe symbolic cannot be added in that case.\r\n\r\nFix that by making cpufreq_online() attempt to add symbolic links to\r\npolicy objects for the CPUs in the related_cpus mask of every new\r\npolicy object created by it.\r\n\r\nThe cpufreq_driver_lock locking around the for_each_cpu() loop\r\nin cpufreq_online() is dropped, because it is not necessary and the\r\ncode is somewhat simpler without it.  Moreover, failures to create\r\na symbolic link will not be regarded as hard errors any more and\r\nthe CPUs without those links will not be taken offline automatically,\r\nbut that should not be problematic in practice.\r\n\r\nReported-and-tested-by: Prashanth Prakash <pprakash@codeaurora.org>\r\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\r\nCc: 4.9+ <stable@vger.kernel.org> # 4.9+\r\n\r\n* drm/radeon: Override fpfn for all VRAM placements in radeon_evict_flags\r\n\r\nWe were accidentally only overriding the first VRAM placement. For BOs\r\nwith the RADEON_GEM_NO_CPU_ACCESS flag set,\r\nradeon_ttm_placement_from_domain creates a second VRAM placment with\r\nfpfn == 0. If VRAM is almost full, the first VRAM placement with\r\nfpfn > 0 may not work, but the second one with fpfn == 0 always will\r\n(the BO's current location trivially satisfies it). Because \"moving\"\r\nthe BO to its current location puts it back on the LRU list, this\r\nresults in an infinite loop.\r\n\r\nFixes: 2a85aedd117c (\"drm/radeon: Try evicting from CPU accessible to\r\n                      inaccessible VRAM first\")\r\nReported-by: Zachary Michaels <zmichaels@oblong.com>\r\nReported-and-Tested-by: Julien Isorce <jisorce@oblong.com>\r\nReviewed-by: Christian K\u00f6nig <christian.koenig@amd.com>\r\nReviewed-by: Alex Deucher <alexander.deucher@amd.com>\r\nSigned-off-by: Michel D\u00e4nzer <michel.daenzer@amd.com>\r\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>\r\nCc: stable@vger.kernel.org\r\n\r\n* NFS cleanup struct nfs4_filelayout_segment\r\n\r\nSigned-off-by: Andy Adamson <andros@netapp.com>\r\nSigned-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>\r\n\r\n* MAINTAINERS: Add Andrew Lunn as co-maintainer of PHYLIB\r\n\r\nAndrew has been contributing a lot to PHYLIB over the past months and\r\nhis feedback on patches is more than welcome.\r\n\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nAcked-by: Andrew Lunn <andrew@lunn.ch>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* scsi: ufs: remove the duplicated checking for supporting clkscaling\r\n\r\nThere are same conditions for checking whether supporting clkscaling or\r\nnot. When ufshcd is supporting clkscaling, active_reqs should be\r\ndecreased by one.\r\n\r\n[mkp: addressed comment from Bartlomiej]\r\n\r\nSigned-off-by: Jaehoon Chung <jh80.chung@samsung.com>\r\nReviewed-by: Subhash Jadavani <subhashj@codeaurora.org>\r\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>\r\n\r\n* net: ipconfig: fix ic_close_devs() use-after-free\r\n\r\nOur chosen ic_dev may be anywhere in our list of ic_devs, and we may\r\nfree it before attempting to close others. When we compare d->dev and\r\nic_dev->dev, we're potentially dereferencing memory returned to the\r\nallocator. This causes KASAN to scream for each subsequent ic_dev we\r\ncheck.\r\n\r\nAs there's a 1-1 mapping between ic_devs and netdevs, we can instead\r\ncompare d and ic_dev directly, which implicitly handles the !ic_dev\r\ncase, and avoids the use-after-free. The ic_dev pointer may be stale,\r\nbut we will not dereference it.\r\n\r\nOriginal splat:\r\n\r\n[    6.487446] ==================================================================\r\n[    6.494693] BUG: KASAN: use-after-free in ic_close_devs+0xc4/0x154 at addr ffff800367efa708\r\n[    6.503013] Read of size 8 by task swapper/0/1\r\n[    6.507452] CPU: 5 PID: 1 Comm: swapper/0 Not tainted 4.11.0-rc3-00002-gda42158 #8\r\n[    6.514993] Hardware name: AppliedMicro Mustang/Mustang, BIOS 3.05.05-beta_rc Jan 27 2016\r\n[    6.523138] Call trace:\r\n[    6.525590] [<ffff200008094778>] dump_backtrace+0x0/0x570\r\n[    6.530976] [<ffff200008094d08>] show_stack+0x20/0x30\r\n[    6.536017] [<ffff200008bee928>] dump_stack+0x120/0x188\r\n[    6.541231] [<ffff20000856d5e4>] kasan_object_err+0x24/0xa0\r\n[    6.546790] [<ffff20000856d924>] kasan_report_error+0x244/0x738\r\n[    6.552695] [<ffff20000856dfec>] __asan_report_load8_noabort+0x54/0x80\r\n[    6.559204] [<ffff20000aae86ac>] ic_close_devs+0xc4/0x154\r\n[    6.564590] [<ffff20000aaedbac>] ip_auto_config+0x2ed4/0x2f1c\r\n[    6.570321] [<ffff200008084b04>] do_one_initcall+0xcc/0x370\r\n[    6.575882] [<ffff20000aa31de8>] kernel_init_freeable+0x5f8/0x6c4\r\n[    6.581959] [<ffff20000a16df00>] kernel_init+0x18/0x190\r\n[    6.587171] [<ffff200008084710>] ret_from_fork+0x10/0x40\r\n[    6.592468] Object at ffff800367efa700, in cache kmalloc-128 size: 128\r\n[    6.598969] Allocated:\r\n[    6.601324] PID = 1\r\n[    6.603427]  save_stack_trace_tsk+0x0/0x418\r\n[    6.607603]  save_stack_trace+0x20/0x30\r\n[    6.611430]  kasan_kmalloc+0xd8/0x188\r\n[    6.615087]  ip_auto_config+0x8c4/0x2f1c\r\n[    6.619002]  do_one_initcall+0xcc/0x370\r\n[    6.622832]  kernel_init_freeable+0x5f8/0x6c4\r\n[    6.627178]  kernel_init+0x18/0x190\r\n[    6.630660]  ret_from_fork+0x10/0x40\r\n[    6.634223] Freed:\r\n[    6.636233] PID = 1\r\n[    6.638334]  save_stack_trace_tsk+0x0/0x418\r\n[    6.642510]  save_stack_trace+0x20/0x30\r\n[    6.646337]  kasan_slab_free+0x88/0x178\r\n[    6.650167]  kfree+0xb8/0x478\r\n[    6.653131]  ic_close_devs+0x130/0x154\r\n[    6.656875]  ip_auto_config+0x2ed4/0x2f1c\r\n[    6.660875]  do_one_initcall+0xcc/0x370\r\n[    6.664705]  kernel_init_freeable+0x5f8/0x6c4\r\n[    6.669051]  kernel_init+0x18/0x190\r\n[    6.672534]  ret_from_fork+0x10/0x40\r\n[    6.676098] Memory state around the buggy address:\r\n[    6.680880]  ffff800367efa600: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n[    6.688078]  ffff800367efa680: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc\r\n[    6.695276] >ffff800367efa700: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb\r\n[    6.702469]                       ^\r\n[    6.705952]  ffff800367efa780: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc\r\n[    6.713149]  ffff800367efa800: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb\r\n[    6.720343] ==================================================================\r\n[    6.727536] Disabling lock debugging due to kernel taint\r\n\r\nSigned-off-by: Mark Rutland <mark.rutland@arm.com>\r\nCc: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>\r\nCc: David S. Miller <davem@davemloft.net>\r\nCc: Hideaki YOSHIFUJI <yoshfuji@linux-ipv6.org>\r\nCc: James Morris <jmorris@namei.org>\r\nCc: Patrick McHardy <kaber@trash.net>\r\nCc: netdev@vger.kernel.org\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* x86/mce: Don't print MCEs when mcelog is active\r\n\r\nSince:\r\n\r\n  cd9c57cad3fe (\"x86/MCE: Dump MCE to dmesg if no consumers\")\r\n\r\nall MCEs are printed even when mcelog is running. Fix the regression to\r\nnot print to dmesg when mcelog is running as it is a consumer too.\r\n\r\nSigned-off-by: Andi Kleen <ak@linux.intel.com>\r\n[ Massage commit message. ]\r\nSigned-off-by: Borislav Petkov <bp@suse.de>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Thomas Gleixner <tglx@linutronix.de>\r\nCc: Tony Luck <tony.luck@intel.com>\r\nCc: linux-edac <linux-edac@vger.kernel.org>\r\nCc: stable@vger.kernel.org # 4.10..\r\nFixes: cd9c57cad3fe (\"x86/MCE: Dump MCE to dmesg if no consumers\")\r\nLink: http://lkml.kernel.org/r/20170327093304.10683-2-bp@alien8.de\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* clockevents: Fix syntax error in clkevt-of macro\r\n\r\nThe patch fix syntax errors introduced by commit 0c8893c9095d\r\n(\"clockevents: Add a clkevt-of mechanism like clksrc-of\").\r\n\r\nFixes: 0c8893c9095d (\"clockevents: Add a clkevt-of mechanism like clksrc-of\")\r\nSigned-off-by: Alexander Kochetkov <al.kochet@gmail.com>\r\nSigned-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>\r\n\r\n* vmlinux.lds: Add __clkevt_of_table to kernel\r\n\r\nThe code introduced by commit 0c8893c9095d (\"clockevents: Add a\r\nclkevt-of mechanism like clksrc-of\") refer to __clkevt_of_table\r\nwhat doesn't exist in the vmlinux. As a result kernel build\r\nfailed with error: \"clkevt-probe.c:63: undefined reference to\r\n`__clkevt_of_table\u2019\"\r\n\r\nFixes: 0c8893c9095d (\"clockevents: Add a clkevt-of mechanism like clksrc-of\")\r\nSigned-off-by: Alexander Kochetkov <al.kochet@gmail.com>\r\nSigned-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>\r\n\r\n* sched/headers: Remove duplicate #include <linux/sched/debug.h> line\r\n\r\nVito Caputo reported that the sched.h split-up series\r\nintroduced a duplicate #include <linux/sched/debug.h> line\r\nin drivers/tty/vt/keyboard.c.\r\n\r\nRemove it.\r\n\r\nReported-by: Vito Caputo <vcaputo@pengaru.com>\r\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\nCc: Jiri Slaby <jslaby@suse.cz>\r\nCc: Alan Cox <alan@linux.intel.com>\r\nCc: Greg Kroah-Hartman <gregkh@suse.de>\r\nCc: Linus Torvalds <torvalds@linux-foundation.org>\r\nCc: linux-kernel@vger.kernel.org\r\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\r\n\r\n* KVM: pci-assign: do not map smm memory slot pages in vt-d page tables\r\n\r\nor VM memory are not put thus leaked in kvm_iommu_unmap_memslots() when\r\ndestroy VM.\r\n\r\nThis is consistent with current vfio implementation.\r\n\r\nSigned-off-by: herongguang <herongguang.he@huawei.com>\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\n\r\n* KVM: nVMX: fix nested EPT detection\r\n\r\nThe nested_ept_enabled flag introduced in commit 7ca29de2136 was not\r\ncomputed correctly. We are interested only in L1's EPT state, not the\r\nthe combined L0+L1 value.\r\n\r\nIn particular, if L0 uses EPT but L1 does not, nested_ept_enabled must\r\nbe false to make sure that PDPSTRs are loaded based on CR3 as usual,\r\nbecause the special case described in 26.3.2.4 Loading Page-Directory-\r\nPointer-Table Entries does not apply.\r\n\r\nFixes: 7ca29de21362 (\"KVM: nVMX: fix CR3 load if L2 uses PAE paging and EPT\")\r\nCc: qemu-stable@nongnu.org\r\nReported-by: Wanpeng Li <wanpeng.li@hotmail.com>\r\nReviewed-by: David Hildenbrand <david@redhat.com>\r\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\n\r\n* KVM: x86: cleanup the page tracking SRCU instance\r\n\r\nSRCU uses a delayed work item.  Skip cleaning it up, and\r\nthe result is use-after-free in the work item callbacks.\r\n\r\nReported-by: Dmitry Vyukov <dvyukov@google.com>\r\nSuggested-by: Dmitry Vyukov <dvyukov@google.com>\r\nCc: stable@vger.kernel.org\r\nFixes: 0eb05bf290cfe8610d9680b49abef37febd1c38a\r\nReviewed-by: Xiao Guangrong <xiaoguangrong.eric@gmail.com>\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\n\r\n* NFS store nfs4_deviceid in struct nfs4_filelayout_segment\r\n\r\nIn preparation for moving the filelayout getdeviceinfo call from\r\nfilelayout_alloc_lseg called by pnfs_process_layout\r\n\r\nSigned-off-by: Andy Adamson <andros@netapp.com>\r\nSigned-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>\r\n\r\n* NFS filelayout:call GETDEVICEINFO after pnfs_layout_process completes\r\n\r\nFix a filelayout GETDEVICEINFO call hang triggered from the LAYOUTGET\r\npnfs_layout_process where the GETDEVICEINFO call is waiting for a\r\nsession slot, and the LAYOUGET call is waiting for pnfs_layout_process\r\nto complete before freeing the slot GETDEVICEINFO is waiting for..\r\n\r\nThis occurs in testing against the pynfs pNFS server where the\r\nthe on-wire reply highest_slotid and slot id are zero, and the\r\ntarget high slot id is 8 (negotiated in CREATE_SESSION).\r\n\r\nThe internal fore channel slot table max_slotid, the maximum allowed\r\ntable slotid value, has been reduced via nfs41_set_max_slotid_locked\r\n from 8 to 1.  Thus there is one slot (slotid 0) available for use but\r\nit has not been freed by LAYOUTGET  proir to the GETDEVICEINFO request.\r\n\r\nIn order to ensure that layoutrecall callbacks are processed in the\r\ncorrect order, nfs4_proc_layoutget processing needs to be finished\r\ne.g. pnfs_layout_process) before giving up the slot that identifies\r\nthe layoutget (see referring_call_exists).\r\n\r\nMove the filelayout_check_layout nfs4_find_get_device call outside of\r\nthe pnfs_layout_process call tree.\r\n\r\nSigned-off-by: Andy Adamson <andros@netapp.com>\r\nSigned-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>\r\n\r\n* virtio_pci: fix out of bound access for msix_names\r\n\r\nFedora has received multiple reports of crashes when running\r\n4.11 as a guest\r\n\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1430297\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1434462\r\nhttps://bugzilla.kernel.org/show_bug.cgi?id=194911\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1433899\r\n\r\nThe crashes are not always consistent but they are generally\r\nsome flavor of oops or GPF in virtio related code. Multiple people\r\nhave done bisections (Thank you Thorsten Leemhuis and\r\nRichard W.M. Jones) and found this commit to be at fault\r\n\r\n07ec51480b5eb1233f8c1b0f5d7a7c8d1247c507 is the first bad commit\r\ncommit 07ec51480b5eb1233f8c1b0f5d7a7c8d1247c507\r\nAuthor: Christoph Hellwig <hch@lst.de>\r\nDate:   Sun Feb 5 18:15:19 2017 +0100\r\n\r\n    virtio_pci: use shared interrupts for virtqueues\r\n\r\nThe issue seems to be an out of bounds access to the msix_names\r\narray corrupting kernel memory.\r\n\r\nFixes: 07ec51480b5e (\"virtio_pci: use shared interrupts for virtqueues\")\r\nReported-by: Laura Abbott <labbott@redhat.com>\r\nSigned-off-by: Jason Wang <jasowang@redhat.com>\r\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\r\nReviewed-by: Christoph Hellwig <hch@lst.de>\r\nTested-by: Richard W.M. Jones <rjones@redhat.com>\r\nTested-by: Thorsten Leemhuis <linux@leemhuis.info>\r\n\r\n* virtio_balloon: init 1st buffer in stats vq\r\n\r\nWhen init_vqs runs, virtio_balloon.stats is either uninitialized or\r\ncontains stale values. The host updates its state with garbage data\r\nbecause it has no way of knowing that this is just a marker buffer\r\nused for signaling.\r\n\r\nThis patch updates the stats before pushing the initial buffer.\r\n\r\nAlternative fixes:\r\n* Push an empty buffer in init_vqs. Not easily done with the current\r\n  virtio implementation and violates the spec \"Driver MUST supply the\r\n  same subset of statistics in all buffers submitted to the statsq\".\r\n* Push a buffer with invalid tags in init_vqs. Violates the same\r\n  spec clause, plus \"invalid tag\" is not really defined.\r\n\r\nNote: the spec says:\r\n\tWhen using the legacy interface, the device SHOULD ignore all values in\r\n\tthe first buffer in the statsq supplied by the driver after device\r\n\tinitialization. Note: Historically, drivers supplied an uninitialized\r\n\tbuffer in the first buffer.\r\n\r\nUnfortunately QEMU does not seem to implement the recommendation\r\neven for the legacy interface.\r\n\r\nCc: stable@vger.kernel.org\r\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\r\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\r\n\r\n* virtio-balloon: use actual number of stats for stats queue buffers\r\n\r\nThe virtio balloon driver contained a not-so-obvious invariant that\r\nupdate_balloon_stats has to update exactly VIRTIO_BALLOON_S_NR counters\r\nin order to send valid stats to the host. This commit fixes it by having\r\nupdate_balloon_stats return the actual number of counters, and its\r\ncallers use it when pushing buffers to the stats virtqueue.\r\n\r\nNote that it is still out of spec to change the number of counters\r\nat run-time. \"Driver MUST supply the same subset of statistics in all\r\nbuffers submitted to the statsq.\"\r\n\r\nSuggested-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\r\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\r\n\r\n* virtio_balloon: prevent uninitialized variable use\r\n\r\nThe latest gcc-7.0.1 snapshot reports a new warning:\r\n\r\nvirtio/virtio_balloon.c: In function 'update_balloon_stats':\r\nvirtio/virtio_balloon.c:258:26: error: 'events[2]' is used uninitialized in this function [-Werror=uninitialized]\r\nvirtio/virtio_balloon.c:260:26: error: 'events[3]' is used uninitialized in this function [-Werror=uninitialized]\r\nvirtio/virtio_balloon.c:261:56: error: 'events[18]' is used uninitialized in this function [-Werror=uninitialized]\r\nvirtio/virtio_balloon.c:262:56: error: 'events[17]' is used uninitialized in this function [-Werror=uninitialized]\r\n\r\nThis seems absolutely right, so we should add an extra check to\r\nprevent copying uninitialized stack data into the statistics.\r\n>From all I can tell, this has been broken since the statistics code\r\nwas originally added in 2.6.34.\r\n\r\nFixes: 9564e138b1f6 (\"virtio: Add memory statistics reporting to the balloon driver (V4)\")\r\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\r\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\r\n\r\n* ACPI: ioapic: Clear on-stack resource before using it\r\n\r\nThe on-stack resource-window 'win' in setup_res() is not\r\nproperly initialized. This causes the pointers in the\r\nembedded 'struct resource' to contain stale addresses.\r\n\r\nThese pointers (in my case the ->child pointer) later get\r\npropagated to the global iomem_resources list, causing a #GP\r\nexception when the list is traversed in\r\niomem_map_sanity_check().\r\n\r\nFixes: c183619b63ec (x86/irq, ACPI: Implement ACPI driver to support IOAPIC hotplug)\r\nSigned-off-by: Joerg Roedel <jroedel@suse.de>\r\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\r\n\r\n* ACPI: Do not create a platform_device for IOAPIC/IOxAPIC\r\n\r\nNo platform-device is required for IO(x)APICs, so don't even\r\ncreate them.\r\n\r\n[ rjw: This fixes a problem with leaking platform device objects\r\n  after IOAPIC/IOxAPIC hot-removal events.]\r\n\r\nSigned-off-by: Joerg Roedel <jroedel@suse.de>\r\nCc: All applicable <stable@vger.kernel.org>\r\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\r\n\r\n* ACPI / APEI: Add missing synchronize_rcu() on NOTIFY_SCI removal\r\n\r\nWhen removing a GHES device notified by SCI, list_del_rcu() is used,\r\nghes_remove() should call synchronize_rcu() before it goes on to call\r\nkfree(ghes), otherwise concurrent RCU readers may still hold this list\r\nentry after it has been freed.\r\n\r\nSigned-off-by: James Morse <james.morse@arm.com>\r\nReviewed-by: \"Huang, Ying\" <ying.huang@intel.com>\r\nFixes: 81e88fdc432a (ACPI, APEI, Generic Hardware Error Source POLL/IRQ/NMI notification type support)\r\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\r\n\r\n* ACPI: Fix incompatibility with mcount-based function graph tracing\r\n\r\nPaul Menzel reported a warning:\r\n\r\n  WARNING: CPU: 0 PID: 774 at /build/linux-ROBWaj/linux-4.9.13/kernel/trace/trace_functions_graph.c:233 ftrace_return_to_handler+0x1aa/0x1e0\r\n  Bad frame pointer: expected f6919d98, received f6919db0\r\n    from func acpi_pm_device_sleep_wake return to c43b6f9d\r\n\r\nThe warning means that function graph tracing is broken for the\r\nacpi_pm_device_sleep_wake() function.  That's because the ACPI Makefile\r\nunconditionally sets the '-Os' gcc flag to optimize for size.  That's an\r\nissue because mcount-based function graph tracing is incompatible with\r\n'-Os' on x86, thanks to the following gcc bug:\r\n\r\n  https://gcc.gnu.org/bugzilla/show_bug.cgi?id=42109\r\n\r\nI have another patch pending which will ensure that mcount-based\r\nfunction graph tracing is never used with CONFIG_CC_OPTIMIZE_FOR_SIZE on\r\nx86.\r\n\r\nBut this patch is needed in addition to that one because the ACPI\r\nMakefile overrides that config option for no apparent reason.  It has\r\nhad this flag since the beginning of git history, and there's no related\r\ncomment, so I don't know why it's there.  As far as I can tell, there's\r\nno reason for it to be there.  The appropriate behavior is for it to\r\nhonor CONFIG_CC_OPTIMIZE_FOR_{SIZE,PERFORMANCE} like the rest of the\r\nkernel.\r\n\r\nReported-by: Paul Menzel <pmenzel@molgen.mpg.de>\r\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\r\nAcked-by: Steven Rostedt (VMware) <rostedt@goodmis.org>\r\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\r\nCc: All applicable <stable@vger.kernel.org>\r\n\r\n* sctp: change to save MSG_MORE flag into assoc\r\n\r\nDavid Laight noticed the support for MSG_MORE with datamsg->force_delay\r\ndidn't really work as we expected, as the first msg with MSG_MORE set\r\nwould always block the following chunks' dequeuing.\r\n\r\nThis Patch is to rewrite it by saving the MSG_MORE flag into assoc as\r\nDavid Laight suggested.\r\n\r\nasoc->force_delay is used to save MSG_MORE flag before a msg is sent.\r\nAll chunks in queue would not be sent out if asoc->force_delay is set\r\nby the msg with MSG_MORE flag, until a new msg without MSG_MORE flag\r\nclears asoc->force_delay.\r\n\r\nNote that this change would not affect the flush is generated by other\r\ntriggers, like asoc->state != ESTABLISHED, queue size > pmtu etc.\r\n\r\nv1->v2:\r\n  Not clear asoc->force_delay after sending the msg with MSG_MORE flag.\r\n\r\nFixes: 4ea0c32f5f42 (\"sctp: add support for MSG_MORE\")\r\nSigned-off-by: Xin Long <lucien.xin@gmail.com>\r\nAcked-by: David Laight <david.laight@aculab.com>\r\nAcked-by: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* isdn: kcapi: avoid uninitialized data\r\n\r\ngcc-7 points out that the AVMB1_ADDCARD ioctl results in an unintialized\r\nvalue ending up in the cardnr parameter:\r\n\r\ndrivers/isdn/capi/kcapi.c: In function 'old_capi_manufacturer':\r\ndrivers/isdn/capi/kcapi.c:1042:24: error: 'cdef.cardnr' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\n   cparams.cardnr = cdef.cardnr;\r\n\r\nThis has been broken since before the start of the git history, so\r\neither the value is not used for anything important, or the ioctl\r\ncommand doesn't get called in practice.\r\n\r\nSetting the cardnr to zero avoids the warning and makes sure\r\nwe have consistent behavior.\r\n\r\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: moxa: fix TX overrun memory leak\r\n\r\nmoxart_mac_start_xmit() doesn't care where tx_tail is, tx_head can\r\ncatch and pass tx_tail, which is bad because moxart_tx_finished()\r\nisn't guaranteed to catch up on freeing resources from tx_tail.\r\n\r\nAdd a check in moxart_mac_start_xmit() stopping the queue at the\r\nend of the circular buffer. Also add a check in moxart_tx_finished()\r\nwaking the queue if the buffer has TX_WAKE_THRESHOLD or more\r\nfree descriptors.\r\n\r\nWhile we're at it, move spin_lock_irq() to happen before our\r\ndescriptor pointer is assigned in moxart_mac_start_xmit().\r\n\r\nAddresses https://bugzilla.kernel.org/show_bug.cgi?id=99451\r\n\r\nSigned-off-by: Jonas Jensen <jonas.jensen@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/mlx5: Avoid dereferencing uninitialized pointer\r\n\r\nIn NETDEV_CHANGEUPPER event the upper_info field is valid\r\nonly when linking is true. Otherwise it should be ignored.\r\n\r\nFixes: 7907f23adc18 (net/mlx5: Implement RoCE LAG feature)\r\nSigned-off-by: Talat Batheesh <talatb@mellanox.com>\r\nReviewed-by: Aviv Heller <avivh@mellanox.com>\r\nReviewed-by: Moni Shoua <monis@mellanox.com>\r\nSigned-off-by: Saeed Mahameed <saeedm@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* svcrdma: set XPT_CONG_CTRL flag for bc xprt\r\n\r\nSame change as Kinglong Mee's fix for the TCP backchannel service.\r\n\r\nFixes: 5283b03ee5cd (\"nfs/nfsd/sunrpc: enforce transport...\")\r\nSigned-off-by: Chuck Lever <chuck.lever@oracle.com>\r\nSigned-off-by: J. Bruce Fields <bfields@redhat.com>\r\n\r\n* rocker: fix Wmaybe-uninitialized false-positive\r\n\r\ngcc-7 reports a warning that earlier versions did not have:\r\n\r\ndrivers/net/ethernet/rocker/rocker_ofdpa.c: In function 'ofdpa_port_stp_update':\r\narch/x86/include/asm/string_32.h:79:22: error: '*((void *)&prev_ctrls+4)' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\n   *((short *)to + 2) = *((short *)from + 2);\r\n   ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\r\ndrivers/net/ethernet/rocker/rocker_ofdpa.c:2218:7: note: '*((void *)&prev_ctrls+4)' was declared here\r\n\r\nThis is clearly a variation of the warning about 'prev_state' that\r\nwas shut up using uninitialized_var().\r\n\r\nWe can slightly simplify the code and get rid of the warning by unconditionally\r\nsaving the prev_state and prev_ctrls variables. The inlined memcpy is not\r\nparticularly expensive here, as it just has to read five bytes from one or\r\ntwo cache lines.\r\n\r\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* openvswitch: Fix refcount leak on force commit.\r\n\r\nThe reference count held for skb needs to be released when the skb's\r\nnfct pointer is cleared regardless of if nf_ct_delete() is called or\r\nnot.\r\n\r\nFailing to release the skb's reference cound led to deferred conntrack\r\ncleanup spinning forever within nf_conntrack_cleanup_net_list() when\r\ncleaning up a network namespace:\r\n\r\n\u00a0\u00a0\u00a0kworker/u16:0-19025 [004] 45981067.173642: sched_switch: kworker/u16:0:19025 [120] R ==> rcu_preempt:7 [120]\r\n\u00a0\u00a0\u00a0kworker/u16:0-19025 [004] 45981067.173651: kernel_stack: <stack trace>\r\n=> ___preempt_schedule (ffffffffa001ed36)\r\n=> _raw_spin_unlock_bh (ffffffffa0713290)\r\n=> nf_ct_iterate_cleanup (ffffffffc00a4454)\r\n=> nf_conntrack_cleanup_net_list (ffffffffc00a5e1e)\r\n=> nf_conntrack_pernet_exit (ffffffffc00a63dd)\r\n=> ops_exit_list.isra.1 (ffffffffa06075f3)\r\n=> cleanup_net (ffffffffa0607df0)\r\n=> process_one_work (ffffffffa0084c31)\r\n=> worker_thread (ffffffffa008592b)\r\n=> kthread (ffffffffa008bee2)\r\n=> ret_from_fork (ffffffffa071b67c)\r\n\r\nFixes: dd41d33f0b03 (\"openvswitch: Add force commit.\")\r\nReported-by: Yang Song <yangsong@vmware.com>\r\nSigned-off-by: Jarno Rajahalme <jarno@ovn.org>\r\nAcked-by: Joe Stringer <joe@ovn.org>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* cfg80211: check rdev resume callback only for registered wiphy\r\n\r\nWe got the following use-after-free KASAN report:\r\n\r\n BUG: KASAN: use-after-free in wiphy_resume+0x591/0x5a0 [cfg80211]\r\n\t at addr ffff8803fc244090\r\n Read of size 8 by task kworker/u16:24/2587\r\n CPU: 6 PID: 2587 Comm: kworker/u16:24 Tainted: G    B 4.9.13-debug+\r\n Hardware name: Dell Inc. XPS 15 9550/0N7TVV, BIOS 1.2.19 12/22/2016\r\n Workqueue: events_unbound async_run_entry_fn\r\n  ffff880425d4f9d8 ffffffffaeedb541 ffff88042b80ef00 ffff8803fc244088\r\n  ffff880425d4fa00 ffffffffae84d7a1 ffff880425d4fa98 ffff8803fc244080\r\n  ffff88042b80ef00 ffff880425d4fa88 ffffffffae84da3a ffffffffc141f7d9\r\n Call Trace:\r\n  [<ffffffffaeedb541>] dump_stack+0x85/0xc4\r\n  [<ffffffffae84d7a1>] kasan_object_err+0x21/0x70\r\n  [<ffffffffae84da3a>] kasan_report_error+0x1fa/0x500\r\n  [<ffffffffc141f7d9>] ? cfg80211_bss_age+0x39/0xc0 [cfg80211]\r\n  [<ffffffffc141f83a>] ? cfg80211_bss_age+0x9a/0xc0 [cfg80211]\r\n  [<ffffffffae48d46d>] ? trace_hardirqs_on+0xd/0x10\r\n  [<ffffffffc13fb1c0>] ? wiphy_suspend+0xc70/0xc70 [cfg80211]\r\n  [<ffffffffae84def1>] __asan_report_load8_noabort+0x61/0x70\r\n  [<ffffffffc13fb100>] ? wiphy_suspend+0xbb0/0xc70 [cfg80211]\r\n  [<ffffffffc13fb751>] ? wiphy_resume+0x591/0x5a0 [cfg80211]\r\n  [<ffffffffc13fb751>] wiphy_resume+0x591/0x5a0 [cfg80211]\r\n  [<ffffffffc13fb1c0>] ? wiphy_suspend+0xc70/0xc70 [cfg80211]\r\n  [<ffffffffaf3b206e>] dpm_run_callback+0x6e/0x4f0\r\n  [<ffffffffaf3b31b2>] device_resume+0x1c2/0x670\r\n  [<ffffffffaf3b367d>] async_resume+0x1d/0x50\r\n  [<ffffffffae3ee84e>] async_run_entry_fn+0xfe/0x610\r\n  [<ffffffffae3d0666>] process_one_work+0x716/0x1a50\r\n  [<ffffffffae3d05c9>] ? process_one_work+0x679/0x1a50\r\n  [<ffffffffafdd7b6d>] ? _raw_spin_unlock_irq+0x3d/0x60\r\n  [<ffffffffae3cff50>] ? pwq_dec_nr_in_flight+0x2b0/0x2b0\r\n  [<ffffffffae3d1a80>] worker_thread+0xe0/0x1460\r\n  [<ffffffffae3d19a0>] ? process_one_work+0x1a50/0x1a50\r\n  [<ffffffffae3e54c2>] kthread+0x222/0x2e0\r\n  [<ffffffffae3e52a0>] ? kthread_park+0x80/0x80\r\n  [<ffffffffae3e52a0>] ? kthread_park+0x80/0x80\r\n  [<ffffffffae3e52a0>] ? kthread_park+0x80/0x80\r\n  [<ffffffffafdd86aa>] ret_from_fork+0x2a/0x40\r\n Object at ffff8803fc244088, in cache kmalloc-1024 size: 1024\r\n Allocated:\r\n PID = 71\r\n  save_stack_trace+0x1b/0x20\r\n  save_stack+0x46/0xd0\r\n  kasan_kmalloc+0xad/0xe0\r\n  kasan_slab_alloc+0x12/0x20\r\n  __kmalloc_track_caller+0x134/0x360\r\n  kmemdup+0x20/0x50\r\n  brcmf_cfg80211_attach+0x10b/0x3a90 [brcmfmac]\r\n  brcmf_bus_start+0x19a/0x9a0 [brcmfmac]\r\n  brcmf_pcie_setup+0x1f1a/0x3680 [brcmfmac]\r\n  brcmf_fw_request_nvram_done+0x44c/0x11b0 [brcmfmac]\r\n  request_firmware_work_func+0x135/0x280\r\n  process_one_work+0x716/0x1a50\r\n  worker_thread+0xe0/0x1460\r\n  kthread+0x222/0x2e0\r\n  ret_from_fork+0x2a/0x40\r\n Freed:\r\n PID = 2568\r\n  save_stack_trace+0x1b/0x20\r\n  save_stack+0x46/0xd0\r\n  kasan_slab_free+0x71/0xb0\r\n  kfree+0xe8/0x2e0\r\n  brcmf_cfg80211_detach+0x62/0xf0 [brcmfmac]\r\n  brcmf_detach+0x14a/0x2b0 [brcmfmac]\r\n  brcmf_pcie_remove+0x140/0x5d0 [brcmfmac]\r\n  brcmf_pcie_pm_leave_D3+0x198/0x2e0 [brcmfmac]\r\n  pci_pm_resume+0x186/0x220\r\n  dpm_run_callback+0x6e/0x4f0\r\n  device_resume+0x1c2/0x670\r\n  async_resume+0x1d/0x50\r\n  async_run_entry_fn+0xfe/0x610\r\n  process_one_work+0x716/0x1a50\r\n  worker_thread+0xe0/0x1460\r\n  kthread+0x222/0x2e0\r\n  ret_from_fork+0x2a/0x40\r\n Memory state around the buggy address:\r\n  ffff8803fc243f80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc\r\n  ffff8803fc244000: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc\r\n >ffff8803fc244080: fc fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb\r\n                          ^\r\n  ffff8803fc244100: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb\r\n  ffff8803fc244180: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb\r\n\r\nWhat is happening is that brcmf_pcie_resume() detects a device that\r\nis no longer responsive and it decides to unbind resulting in a\r\nwiphy_unregister() and wiphy_free() call. Now the wiphy instance\r\nremains allocated, because PM needs to call wiphy_resume() for it.\r\nHowever, brcmfmac already does a kfree() for the struct\r\ncfg80211_registered_device::ops field. Change the checks in\r\nwiphy_resume() to only access the struct cfg80211_registered_device::ops\r\nif the wiphy instance is still registered at this time.\r\n\r\nCc: stable@vger.kernel.org # 4.10.x, 4.9.x\r\nReported-by: Daniel J Blueman <daniel@quora.org>\r\nReviewed-by: Hante Meuleman <hante.meuleman@broadcom.com>\r\nReviewed-by: Pieter-Paul Giesberts <pieter-paul.giesberts@broadcom.com>\r\nReviewed-by: Franky Lin <franky.lin@broadcom.com>\r\nSigned-off-by: Arend van Spriel <arend.vanspriel@broadcom.com>\r\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\r\n\r\n* xhci: plat: Register shutdown for xhci_plat\r\n\r\nShutdown should be called for xhci_plat devices especially for\r\nsituations where kexec might be used by stopping DMA\r\ntransactions.\r\n\r\nSigned-off-by: Adam Wallis <awallis@codeaurora.org>\r\nSigned-off-by: Mathias Nyman <mathias.nyman@linux.intel.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* xhci: Set URB actual length for stopped control transfers\r\n\r\nA control transfer that stopped at the status stage incorrectly\r\nwarned about a \"unexpected TRB Type 4\", and did not set the\r\ntransferred actual_length for the URB.\r\n\r\nThe URB actual_length for control transfers should contain the\r\nbytes transferred in the data stage.\r\n\r\nBytes of a partially sent setup stage and missing bytes from\r\nstatus stage should be left out.\r\n\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Mathias Nyman <mathias.nyman@linux.intel.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* xhci: Manually give back cancelled URB if we can't queue it for cancel\r\n\r\nxhci needs to take care of four scenarios when asked to cancel a URB.\r\n\r\n1 URB is not queued or already given back.\r\n  usb_hcd_check_unlink_urb() will return an error, we pass the error on\r\n\r\n2 We fail to find xhci internal structures from urb private data such as\r\n  virtual device and endpoint ring.\r\n  Give back URB immediately, can't do anything about internal structures.\r\n\r\n3 URB private data has valid pointers to xhci internal data, but host is\r\n  not  responding.\r\n  give back URB immedately and remove the URB from the endpoint lists.\r\n\r\n4 Everyting is working\r\n  add URB to cancel list, queue a command to stop the endpoint, after\r\n  which the URB can be turned to no-op or skipped, removed from lists,\r\n  and given back.\r\n\r\nWe failed to give back the urb in case 2 where the correct device and\r\nendpoint pointers could not be retrieved from URB private data.\r\n\r\nThis caused a hang on Dell Inspiron 5558/0VNM2T at resume from suspend\r\nas urb was never returned.\r\n\r\n[  245.270505] INFO: task rtsx_usb_ms_1:254 blocked for more than 120 seconds.\r\n[  245.272244]       Tainted: G        W       4.11.0-rc3-ARCH #2\r\n[  245.273983] \"echo 0 > /proc/sys/kernel/hung_task_timeout_secs\" disables this message.\r\n[  245.275737] rtsx_usb_ms_1   D    0   254      2 0x00000000\r\n[  245.277524] Call Trace:\r\n[  245.279278]  __schedule+0x2d3/0x8a0\r\n[  245.281077]  schedule+0x3d/0x90\r\n[  245.281961]  usb_kill_urb.part.3+0x6c/0xa0 [usbcore]\r\n[  245.282861]  ? wake_atomic_t_function+0x60/0x60\r\n[  245.283760]  usb_kill_urb+0x21/0x30 [usbcore]\r\n[  245.284649]  usb_start_wait_urb+0xe5/0x170 [usbcore]\r\n[  245.285541]  ? try_to_del_timer_sync+0x53/0x80\r\n[  245.286434]  usb_bulk_msg+0xbd/0x160 [usbcore]\r\n[  245.287326]  rtsx_usb_send_cmd+0x63/0x90 [rtsx_usb]\r\n\r\nReported-by: diego.viola@gmail.com\r\nTested-by: diego.viola@gmail.com\r\nCc: stable@vger.kernel.org\r\nSigned-off-by: Mathias Nyman <mathias.nyman@linux.intel.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* usb: phy: isp1301: Fix build warning when CONFIG_OF is disabled\r\n\r\nCommit fd567653bdb9 (\"usb: phy: isp1301: Add OF device ID table\")\r\nadded an OF device ID table, but used the of_match_ptr() macro\r\nthat will lead to a build warning if CONFIG_OF symbol is disabled:\r\n\r\ndrivers/usb/phy//phy-isp1301.c:36:34: warning: \u2018isp1301_of_match\u2019 defined but not used [-Wunused-const-variable=]\r\n static const struct of_device_id isp1301_of_match[] = {\r\n                                  ^~~~~~~~~~~~~~~~\r\n\r\nFixes: fd567653bdb9 (\"usb: phy: isp1301: Add OF device ID table\")\r\nReported-by: Arnd Bergmann <arnd@arndb.de>\r\nSigned-off-by: Javier Martinez Canillas <javier@osg.samsung.com>\r\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\r\n\r\n* netfilter: nfnetlink_queue: fix secctx memory leak\r\n\r\nWe must call security_release_secctx to free the memory returned by\r\nsecurity_secid_to_secctx, otherwise memory may be leaked forever.\r\n\r\nFixes: ef493bd930ae (\"netfilter: nfnetlink_queue: add security context information\")\r\nSigned-off-by: Liping Zhang <zlpnobody@gmail.com>\r\nSigned-off-by: Pablo Neira Ayuso <pablo@netfilter.org>\r\n\r\n* mac80211: unconditionally start new netdev queues with iTXQ support\r\n\r\nWhen internal mac80211 TXQs aren't supported, netdev queues must\r\nalways started out started even when driver queues are stopped\r\nwhile the interface is added. This is necessary because with the\r\ninternal TXQ support netdev queues are never stopped and packet\r\nscheduling/dropping is done in mac80211.\r\n\r\nCc: stable@vger.kernel.org # 4.9+\r\nFixes: 80a83cfc434b1 (\"mac80211: skip netdev queue control with software queuing\")\r\nReported-and-tested-by: Sven Eckelmann <sven.eckelmann@openmesh.com>\r\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\r\n\r\n* Btrfs: bring back repair during read\r\n\r\nCommit 20a7db8ab3f2 (\"btrfs: add dummy callback for readpage_io_failed\r\nand drop checks\") made a cleanup around readpage_io_failed_hook, and\r\nit was supposed to keep the original sematics, but it also\r\nunexpectedly disabled repair during read for dup, raid1 and raid10.\r\n\r\nThis fixes the problem by letting data's inode call the generic\r\nreadpage_io_failed callback by returning -EAGAIN from its\r\nreadpage_io_failed_hook in order to notify end_bio_extent_readpage to\r\ndo the rest.  We don't call it directly because the generic one takes\r\nan offset from end_bio_extent_readpage() to calculate the index in the\r\nchecksum array and inode's readpage_io_failed_hook doesn't offer that\r\noffset.\r\n\r\nCc: David Sterba <dsterba@suse.cz>\r\nSigned-off-by: Liu Bo <bo.li.liu@oracle.com>\r\nReviewed-by: David Sterba <dsterba@suse.com>\r\n[ keep the const function attribute ]\r\nSigned-off-by: David Sterba <dsterba@suse.com>\r\n\r\n* btrfs: Change qgroup_meta_rsv to 64bit\r\n\r\nUsing an int value is causing qg->reserved to become negative and\r\nexclusive -EDQUOT to be reached prematurely.\r\n\r\nThis affects exclusive qgroups only.\r\n\r\nTEST CASE:\r\n\r\nDEVICE=/dev/vdb\r\nMOUNTPOINT=/mnt\r\nSUBVOL=$MOUNTPOINT/tmp\r\n\r\numount $SUBVOL\r\numount $MOUNTPOINT\r\n\r\nmkfs.btrfs -f $DEVICE\r\nmount /dev/vdb $MOUNTPOINT\r\nbtrfs quota enable $MOUNTPOINT\r\nbtrfs subvol create $SUBVOL\r\numount $MOUNTPOINT\r\nmount /dev/vdb $MOUNTPOINT\r\nmount -o subvol=tmp $DEVICE $SUBVOL\r\nbtrfs qgroup limit -e 3G $SUBVOL\r\n\r\nbtrfs quota rescan /mnt -w\r\n\r\nfor i in `seq 1 44000`; do\r\n  dd if=/dev/zero of=/mnt/tmp/test_$i bs=10k count=1\r\n  if [[ $? > 0 ]]; then\r\n     btrfs qgroup show -pcref $SUBVOL\r\n     exit 1\r\n  fi\r\ndone\r\n\r\nSigned-off-by: Goldwyn Rodrigues <rgoldwyn@suse.com>\r\n[ add reproducer to changelog ]\r\nSigned-off-by: David Sterba <dsterba@suse.com>\r\n\r\n* Btrfs: fix an integer overflow check\r\n\r\nThis isn't super serious because you need CAP_ADMIN to run this code.\r\n\r\nI added this integer overflow check last year but apparently I am\r\nrubbish at writing integer overflow checks...  There are two issues.\r\nFirst, access_ok() works on unsigned long type and not u64 so on 32 bit\r\nsystems the access_ok() could be checking a truncated size.  The other\r\nissue is that we should be using a stricter limit so we don't overflow\r\nthe kzalloc() setting ctx->clone_roots later in the function after the\r\naccess_ok():\r\n\r\n\talloc_size = sizeof(struct clone_root) * (arg->clone_sources_count + 1);\r\n\tsctx->clone_roots = kzalloc(alloc_size, GFP_KERNEL | __GFP_NOWARN);\r\n\r\nFixes: f5ecec3ce21f (\"btrfs: send: silence an integer overflow warning\")\r\nSigned-off-by: Dan Carpenter <dan.carpenter@oracle.com>\r\nReviewed-by: David Sterba <dsterba@suse.com>\r\n[ added comment ]\r\nSigned-off-by: David Sterba <dsterba@suse.com>\r\n\r\n* drm/etnaviv: (re-)protect fence allocation with GPU mutex\r\n\r\nThe fence allocation needs to be protected by the GPU mutex, otherwise\r\nthe fence seqnos of concurrent submits might not match the insertion order\r\nof the jobs in the kernel ring. This breaks the assumption that jobs\r\ncomplete with monotonically increasing fence seqnos.\r\n\r\nFixes: d9853490176c (drm/etnaviv: take GPU lock later in the submit process)\r\nCC: stable@vger.kernel.org #4.9+\r\nSigned-off-by: Lucas Stach <l.stach@pengutronix.de>\r\n\r\n* xfrm_user: validate XFRM_MSG_NEWAE XFRMA_REPLAY_ESN_VAL replay_window\r\n\r\nWhen a new xfrm state is created during an XFRM_MSG_NEWSA call we\r\nvalidate the user supplied replay_esn to ensure that the size is valid\r\nand to ensure that the replay_window size is within the allocated\r\nbuffer.  However later it is possible to update this replay_esn via a\r\nXFRM_MSG_NEWAE call.  There we again validate the size of the supplied\r\nbuffer matches the existing state and if so inject the contents.  We do\r\nnot at this point check that the replay_window is within the allocated\r\nmemory.  This leads to out-of-bounds reads and writes triggered by\r\nnetlink packets.  This leads to memory corruption and the potential for\r\npriviledge escalation.\r\n\r\nWe already attempt to validate the incoming replay information in\r\nxfrm_new_ae() via xfrm_replay_verify_len().  This confirms that the user\r\nis not trying to change the size of the replay state buffer which\r\nincludes the replay_esn.  It however does not check the replay_window\r\nremains within that buffer.  Add validation of the contained\r\nreplay_window.\r\n\r\nCVE-2017-7184\r\nSigned-off-by: Andy Whitcroft <apw@canonical.com>\r\nAcked-by: Steffen Klassert <steffen.klassert@secunet.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* xfrm_user: validate XFRM_MSG_NEWAE incoming ESN size harder\r\n\r\nKees Cook has pointed out that xfrm_replay_state_esn_len() is subject to\r\nwrapping issues.  To ensure we are correctly ensuring that the two ESN\r\nstructures are the same size compare both the overall size as reported\r\nby xfrm_replay_state_esn_len() and the internal length are the same.\r\n\r\nCVE-2017-7184\r\nSigned-off-by: Andy Whitcroft <apw@canonical.com>\r\nAcked-by: Steffen Klassert <steffen.klassert@secunet.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* c6x/ptrace: Remove useless PTRACE_SETREGSET implementation\r\n\r\ngpr_set won't work correctly and can never have been tested, and the\r\ncorrect behaviour is not clear due to the endianness-dependent task\r\nlayout.\r\n\r\nSo, just remove it.  The core code will now return -EOPNOTSUPPORT when\r\ntrying to set NT_PRSTATUS on this architecture until/unless a correct\r\nimplementation is supplied.\r\n\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* h8300/ptrace: Fix incorrect register transfer count\r\n\r\nregs_set() and regs_get() are vulnerable to an off-by-1 buffer overrun\r\nif CONFIG_CPU_H8S is set, since this adds an extra entry to\r\nregister_offset[] but not to user_regs_struct.\r\n\r\nSo, iterate over user_regs_struct based on its actual size, not based on\r\nthe length of register_offset[].\r\n\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* metag/ptrace: Preserve previous registers for short regset write\r\n\r\nEnsure that if userspace supplies insufficient data to PTRACE_SETREGSET\r\nto fill all the registers, the thread's old registers are preserved.\r\n\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nAcked-by: James Hogan <james.hogan@imgtec.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* metag/ptrace: Provide default TXSTATUS for short NT_PRSTATUS\r\n\r\nEnsure that if userspace supplies insufficient data to PTRACE_SETREGSET\r\nto fill TXSTATUS, a well-defined default value is used, based on the\r\ntask's current value.\r\n\r\nSuggested-by: James Hogan <james.hogan@imgtec.com>\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* metag/ptrace: Reject partial NT_METAG_RPIPE writes\r\n\r\nIt's not clear what behaviour is sensible when doing partial write of\r\nNT_METAG_RPIPE, so just don't bother.\r\n\r\nThis patch assumes that userspace will never rely on a partial SETREGSET\r\nin this case, since it's not clear what should happen anyway.\r\n\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nAcked-by: James Hogan <james.hogan@imgtec.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* mips/ptrace: Preserve previous registers for short regset write\r\n\r\nEnsure that if userspace supplies insufficient data to PTRACE_SETREGSET\r\nto fill all the registers, the thread's old registers are preserved.\r\n\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* sparc/ptrace: Preserve previous registers for short regset write\r\n\r\nEnsure that if userspace supplies insufficient data to PTRACE_SETREGSET\r\nto fill all the registers, the thread's old registers are preserved.\r\n\r\nSigned-off-by: Dave Martin <Dave.Martin@arm.com>\r\nAcked-by: David S. Miller <davem@davemloft.net>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* l2tp: hold tunnel socket when handling control frames in l2tp_ip and l2tp_ip6\r\n\r\nThe code following l2tp_tunnel_find() expects that a new reference is\r\nheld on sk. Either sk_receive_skb() or the discard_put error path will\r\ndrop a reference from the tunnel's socket.\r\n\r\nThis issue exists in both l2tp_ip and l2tp_ip6.\r\n\r\nFixes: a3c18422a4b4 (\"l2tp: hold socket before dropping lock in l2tp_ip{, 6}_recv()\")\r\nSigned-off-by: Guillaume Nault <g.nault@alphalink.fr>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* l2tp: purge socket queues in the .destruct() callback\r\n\r\nThe Rx path may grab the socket right before pppol2tp_release(), but\r\nnothing guarantees that it will enqueue packets before\r\nskb_queue_purge(). Therefore, the socket can be destroyed without its\r\nqueues fully purged.\r\n\r\nFix this by purging queues in pppol2tp_session_destruct() where we're\r\nguaranteed nothing is still referencing the socket.\r\n\r\nFixes: 9e9cb6221aa7 (\"l2tp: fix userspace reception on plain L2TP sockets\")\r\nSigned-off-by: Guillaume Nault <g.nault@alphalink.fr>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* parisc: Fix access fault handling in pa_memcpy()\r\n\r\npa_memcpy() is the major memcpy implementation in the parisc kernel which is\r\nused to do any kind of userspace/kernel memory copies.\r\n\r\nAl Viro noticed various bugs in the implementation of pa_mempcy(), most notably\r\nthat in case of faults it may report back to have copied more bytes than it\r\nactually did.\r\n\r\nFixing those bugs is quite hard in the C-implementation, because the compiler\r\nis messing around with the registers and we are not guaranteed that specific\r\nvariables are always in the same processor registers. This makes proper fault\r\nhandling complicated.\r\n\r\nThis patch implements pa_memcpy() in assembler. That way we have correct fault\r\nhandling and adding a 64-bit copy routine was quite easy.\r\n\r\nRuntime tested with 32- and 64bit kernels.\r\n\r\nReported-by: Al Viro <viro@ZenIV.linux.org.uk>\r\nCc: <stable@vger.kernel.org> # v4.9+\r\nSigned-off-by: John David Anglin <dave.anglin@bell.net>\r\nSigned-off-by: Helge Deller <deller@gmx.de>\r\n\r\n* parisc: Clean up fixup routines for get_user()/put_user()\r\n\r\nAl Viro noticed that userspace accesses via get_user()/put_user() can be\r\nsimplified a lot with regard to usage of the exception handling.\r\n\r\nThis patch implements a fixup routine for get_user() and put_user() in such\r\nthat the exception handler will automatically load -EFAULT into the register\r\n%r8 (the error value) in case on a fault on userspace.  Additionally the fixup\r\nroutine will zero the target register on fault in case of a get_user() call.\r\nThe target register is extracted out of the faulting assembly instruction.\r\n\r\nThis patch brings a few benefits over the old implementation:\r\n1. Exception handling gets much cleaner, easier and smaller in size.\r\n2. Helper functions like fixup_get_user_skip_1 (all of fixup.S) can be dropped.\r\n3. No need to hardcode %r9 as target register for get_user() any longer. This\r\n   helps the compiler register allocator and thus creates less assembler\r\n   statements.\r\n4. No dependency on the exception_data contents any longer.\r\n5. Nested faults will be handled cleanly.\r\n\r\nReported-by: Al Viro <viro@ZenIV.linux.org.uk>\r\nCc: <stable@vger.kernel.org> # v4.9+\r\nSigned-off-by: Helge Deller <deller@gmx.de>\r\n\r\n* parisc: Avoid stalled CPU warnings after system shutdown\r\n\r\nCommit 73580dac7618 (\"parisc: Fix system shutdown halt\") introduced an endless\r\nloop for systems which don't provide a software power off function.  But the\r\nsoft lockup detector will detect this and report stalled CPUs after some time.\r\nAvoid those unwanted warnings by disabling the soft lockup detector.\r\n\r\nFixes: 73580dac7618 (\"parisc: Fix system shutdown halt\")\r\nSigned-off-by: Helge Deller <deller@gmx.de>\r\nCc: stable@vger.kernel.org # 4.9+\r\n\r\n* cpuidle: powernv: Pass correct drv->cpumask for registration\r\n\r\ndrv->cpumask defaults to cpu_possible_mask in __cpuidle_driver_init().\r\nOn PowerNV platform cpu_present could be less than cpu_possible in cases\r\nwhere firmware detects the cpu, but it is not available to the OS.  When\r\nCONFIG_HOTPLUG_CPU=n, such cpus are not hotplugable at runtime and hence\r\nwe skip creating cpu_device.\r\n\r\nThis breaks cpuidle on powernv where register_cpu() is not called for\r\ncpus in cpu_possible_mask that cannot be hot-added at runtime.\r\n\r\nTrying cpuidle_register_device() on cpu without cpu_device will cause\r\ncrash like this:\r\n\r\ncpu 0xf: Vector: 380 (Data SLB Access) at [c000000ff1503490]\r\n    pc: c00000000022c8bc: string+0x34/0x60\r\n    lr: c00000000022ed78: vsnprintf+0x284/0x42c\r\n    sp: c000000ff1503710\r\n   msr: 9000000000009033\r\n   dar: 6000000060000000\r\n  current = 0xc000000ff1480000\r\n  paca    = 0xc00000000fe82d00   softe: 0        irq_happened: 0x01\r\n    pid   = 1, comm = swapper/8\r\nLinux version 4.11.0-rc2 (sv@sagarika) (gcc version 4.9.4\r\n(Buildroot 2017.02-00004-gc28573e) ) #15 SMP Fri Mar 17 19:32:02 IST 2017\r\nenter ? for help\r\n[link register   ] c00000000022ed78 vsnprintf+0x284/0x42c\r\n[c000000ff1503710] c00000000022ebb8 vsnprintf+0xc4/0x42c (unreliable)\r\n[c000000ff1503800] c00000000022ef40 vscnprintf+0x20/0x44\r\n[c000000ff1503830] c0000000000ab61c vprintk_emit+0x94/0x2cc\r\n[c000000ff15038a0] c0000000000acc9c vprintk_func+0x60/0x74\r\n[c000000ff15038c0] c000000000619694 printk+0x38/0x4c\r\n[c000000ff15038e0] c000000000224950 kobject_get+0x40/0x60\r\n[c000000ff1503950] c00000000022507c kobject_add_internal+0x60/0x2c4\r\n[c000000ff15039e0] c000000000225350 kobject_init_and_add+0x70/0x78\r\n[c000000ff1503a60] c00000000053c288 cpuidle_add_sysfs+0x9c/0xe0\r\n[c000000ff1503ae0] c00000000053aeac cpuidle_register_device+0xd4/0x12c\r\n[c000000ff1503b30] c00000000053b108 cpuidle_register+0x98/0xcc\r\n[c000000ff1503bc0] c00000000085eaf0 powernv_processor_idle_init+0x140/0x1e0\r\n[c000000ff1503c60] c00000000000cd60 do_one_initcall+0xc0/0x15c\r\n[c000000ff1503d20] c000000000833e84 kernel_init_freeable+0x1a0/0x25c\r\n[c000000ff1503dc0] c00000000000d478 kernel_init+0x24/0x12c\r\n[c000000ff1503e30] c00000000000b564 ret_from_kernel_thread+0x5c/0x78\r\n\r\nThis patch fixes the bug by passing correct cpumask from\r\npowernv-cpuidle driver.\r\n\r\nSigned-off-by: Vaidyanathan Srinivasan <svaidy@linux.vnet.ibm.com>\r\nReviewed-by: Gautham R. Shenoy <ego@linux.vnet.ibm.com>\r\nAcked-by: Michael Ellerman <mpe@ellerman.id.au>\r\n[ rjw: Comment massage ]\r\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\r\n\r\n* bnxt_en: Fix NULL pointer dereference in reopen failure path\r\n\r\nNet device reset can fail when the h/w or f/w is in a bad state.\r\nSubsequent netdevice open fails in bnxt_hwrm_stat_ctx_alloc().\r\nThe cleanup invokes bnxt_hwrm_resource_free() which inturn\r\ncalls bnxt_disable_int().  In this routine, the code segment\r\n\r\nif (ring->fw_ring_id != INVALID_HW_RING_ID)\r\n   BNXT_CP_DB(cpr->cp_doorbell, cpr->cp_raw_cons);\r\n\r\nresults in NULL pointer dereference as cpr->cp_doorbell is not yet\r\ninitialized, and fw_ring_id is zero.\r\n\r\nThe fix is to initialize cpr fw_ring_id to INVALID_HW_RING_ID before\r\nbnxt_init_chip() is invoked.\r\n\r\nSigned-off-by: Sankar Patchineelam <sankar.patchineelam@broadcom.com>\r\nSigned-off-by: Michael Chan <michael.chan@broadcom.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bnxt_en: Correct the order of arguments to netdev_err() in bnxt_set_tpa()\r\n\r\nSigned-off-by: Sankar Patchineelam <sankar.patchineelam@broadcom.com>\r\nSigned-off-by: Michael Chan <michael.chan@broadcom.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* bnxt_en: Fix DMA unmapping of the RX buffers in XDP mode during shutdown.\r\n\r\nIn bnxt_free_rx_skbs(), which is called to free up all RX buffers during\r\nshutdown, we need to unmap the page if we are running in XDP mode.\r\n\r\nFixes: c61fb99cae51 (\"bnxt_en: Add RX page mode support.\")\r\nSigned-off-by: Michael Chan <michael.chan@broadcom.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ezchip: nps_enet: check if napi has been completed\r\n\r\nAfter a new NAPI_STATE_MISSED state was added to NAPI we can get into\r\nthis state and in such case we have to reschedule NAPI as some work is\r\nstill pending and we have to process it. napi_complete_done() function\r\nreturns false if we have to reschedule something (e.g. in case we were\r\nin MISSED state) as current polling have not been completed yet.\r\n\r\nnps_enet driver hasn't been verifying the return value of\r\nnapi\u2026",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-10-01T06:57:09Z",
        "closed_at": "2017-10-01T06:58:38Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2017-09-29T21:23:07Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Why the logical &&?\r\nWould like to add this will lead to problems when p->ifindex = 0.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-09-27T18:43:15Z",
        "closed_at": "2017-09-27T18:43:21Z",
        "merged_at": null,
        "body": "Merge New",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-09-26T21:42:41Z",
        "closed_at": "2023-08-02T23:55:30Z",
        "merged_at": null,
        "body": "It looks like some lines on the LICENSE hasn't been added yet.\r\n\r\nFor instance: 332, 349, 309, 310.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-09-26T21:03:41Z",
        "closed_at": null,
        "merged_at": null,
        "body": "change for -> while",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 4801,
        "deletions": 1754,
        "changed_files": 97,
        "created_at": "2017-09-22T18:03:02Z",
        "closed_at": "2017-09-22T18:05:24Z",
        "merged_at": null,
        "body": "pull for updata",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 63,
        "deletions": 182,
        "changed_files": 6,
        "created_at": "2017-09-21T10:56:20Z",
        "closed_at": "2017-09-21T10:56:32Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "created_at": "2017-09-20T08:26:20Z",
        "closed_at": null,
        "merged_at": null,
        "body": "typo fixed",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-09-20T05:34:29Z",
        "closed_at": "2017-09-20T05:35:05Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-09-20T05:24:10Z",
        "closed_at": "2017-09-20T05:24:30Z",
        "merged_at": null,
        "body": "Est\u00e9tica para el m\u00e9todo cpio_trailer\r\n\r\nde esto\r\n07070100000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000C00000000TRAILER!!!archangel@archangel:~/Escritorio$\r\n\r\na esto\r\n\r\n07070100000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000C00000000TRAILER!!!\r\narchangel@archangel:~/Escritorio$",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-09-19T05:47:10Z",
        "closed_at": null,
        "merged_at": null,
        "body": "update",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-09-19T05:45:47Z",
        "closed_at": "2017-09-19T05:46:20Z",
        "merged_at": null,
        "body": "update",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1599,
        "deletions": 6,
        "changed_files": 18,
        "created_at": "2017-09-18T05:51:34Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-09-17T11:37:46Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Sample video demonstration: https://www.youtube.com/watch?v=a27qWHO8JDM",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-09-12T11:43:13Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Add a Kconfig option to compile the BFQ I/O scheduler.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-09-10T22:41:02Z",
        "closed_at": null,
        "merged_at": null,
        "body": "4.13 rc1 mlb",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 46,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-09-05T18:57:20Z",
        "closed_at": "2017-09-05T19:14:45Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-09-03T01:44:20Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Octal is 0-7, not 0-9",
        "comments": 4
    },
    {
        "merged": false,
        "additions": 4075,
        "deletions": 0,
        "changed_files": 10,
        "created_at": "2017-09-01T16:43:29Z",
        "closed_at": "2017-09-12T11:29:49Z",
        "merged_at": null,
        "body": "Add a *Kconfig* option to compile the BFQ I/O scheduler.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-08-29T11:15:49Z",
        "closed_at": "2017-08-29T11:16:44Z",
        "merged_at": null,
        "body": "dd",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-08-26T12:46:37Z",
        "closed_at": "2017-08-26T12:47:38Z",
        "merged_at": null,
        "body": "update fork",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2017-08-22T12:15:13Z",
        "closed_at": null,
        "merged_at": null,
        "body": "* added rtl8812au drivers to staging\r\n",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 85,
        "deletions": 1,
        "changed_files": 3,
        "created_at": "2017-08-21T02:32:09Z",
        "closed_at": null,
        "merged_at": null,
        "body": "I inserted the Intel RealSense Depth and IR format to correct bug in the image preview.",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 2319,
        "deletions": 731,
        "changed_files": 43,
        "created_at": "2017-08-17T10:58:12Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-08-16T03:39:13Z",
        "closed_at": "2017-08-16T03:46:45Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 14,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2017-08-16T01:24:23Z",
        "closed_at": "2017-08-16T01:31:07Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-08-12T23:27:37Z",
        "closed_at": null,
        "merged_at": null,
        "body": "prepend `//` to every line greatly improving compilation performance",
        "comments": 12
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-08-10T03:39:59Z",
        "closed_at": null,
        "merged_at": null,
        "body": "* i2c: designware: Print clock freq on invalid clock freq error\r\n\r\nWhen we refuse to probe due to an invalid clock frequency, log\r\nthe frequency which is causing this error.\r\n\r\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\r\nReviewed-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>\r\nSigned-off-by: Wolfram Sang <wsa@the-dreams.de>\r\n\r\n* i2c: designware: Some broken DSTDs use 1MiHz instead of 1MHz\r\n\r\nAt least the Acer Iconia Tab8 / aka W1-810 uses 1MiHz instead of\r\n1MHz for one of its busses, fix this up to 1MHz instead of failing\r\nthe probe of that bus.\r\n\r\nThis fixes the accelerometer on the Acer Iconia Tab8 not working.\r\n\r\nCc: stable@vger.kernel.org\r\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\r\nReviewed-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>\r\nSigned-off-by: Wolfram Sang <wsa@the-dreams.de>\r\n\r\n* parisc: pdc_stable: Fix locking when creating sysfs links\r\n\r\nThere's no need to take the write lock when creating sysfs links.\r\n\r\nThis patch fixes the following BUG:\r\n BUG: sleeping function called from invalid context at mm/slab.h:416\r\n in_atomic(): 1, irqs_disabled(): 0, pid: 1, name: swapper/0\r\n CPU: 2 PID: 1 Comm: swapper/0 Not tainted 4.13.0-rc2-00110-g0b5477d9dabd #111\r\n Backtrace:\r\n [<0000000040217ac8>] show_stack+0x20/0x38\r\n [<00000000406fbbb0>] dump_stack+0xb0/0x128\r\n [<0000000040274090>] ___might_sleep+0x180/0x1b8\r\n [<0000000040274144>] __might_sleep+0x7c/0xe8\r\n [<0000000040373874>] kmem_cache_alloc+0x14c/0x1e0\r\n [<0000000040419514>] __kernfs_new_node+0x84/0x1b8\r\n [<000000004041b09c>] kernfs_new_node+0x3c/0x78\r\n [<000000004041e040>] kernfs_create_link+0x40/0xd8\r\n [<000000004041f320>] sysfs_do_create_link_sd.isra.0+0xb0/0x130\r\n [<000000004041f3d4>] sysfs_create_link+0x34/0x58\r\n [<000000004011b4a4>] pdc_stable_init+0x2c4/0x458\r\n [<0000000040200250>] do_one_initcall+0x70/0x1d8\r\n [<0000000040101644>] kernel_init_freeable+0x27c/0x390\r\n [<000000004020be44>] kernel_init+0x24/0x1c0\r\n\r\nSigned-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>\r\nReported-by: Meelis Roos <mroos@linux.ee>\r\nSigned-off-by: Helge Deller <deller@gmx.de>\r\n\r\n* libata: fix a couple of doc build warnings\r\n\r\nThe kerneldoc comments for a couple of functions in drivers/ata/libata-eh.c\r\nhad fallen behind the current implementation, resulting in these doc build\r\nwarnings:\r\n\r\n  ./drivers/ata/libata-eh.c:1449: warning: No description found for parameter 'link'\r\n  ./drivers/ata/libata-eh.c:1449: warning: Excess function parameter 'ap' description in 'ata_eh_done'\r\n  ./drivers/ata/libata-eh.c:1590: warning: No description found for parameter 'qc'\r\n  ./drivers/ata/libata-eh.c:1590: warning: Excess function parameter 'dev' description in 'ata_eh_request_sense'\r\n\r\nUpdate the comments and make the warnings go away.\r\n\r\nSigned-off-by: Jonathan Corbet <corbet@lwn.net>\r\nSigned-off-by: Tejun Heo <tj@kernel.org>\r\n\r\n* i2c: allow i2c-versatile for ARM MPS platforms\r\n\r\nAllow i2c-versatile to be enabled for ARM MPS platforms.\r\n\r\nSigned-off-by: Russell King <rmk+kernel@armlinux.org.uk>\r\nSigned-off-by: Wolfram Sang <wsa@the-dreams.de>\r\n\r\n* i2c: rephrase explanation of I2C_CLASS_DEPRECATED\r\n\r\nHopefully making clear that it is not needed for new drivers.\r\n\r\nSigned-off-by: Wolfram Sang <wsa@the-dreams.de>\r\n\r\n* parisc: Define CONFIG_CPU_BIG_ENDIAN\r\n\r\nWhile working on enabling queued rwlock on SPARC, found this following\r\ncode in include/asm-generic/qrwlock.h which uses CONFIG_CPU_BIG_ENDIAN\r\nto clear a byte.\r\n\r\nstatic inline u8 *__qrwlock_write_byte(struct qrwlock *lock)\r\n {\r\n\treturn (u8 *)lock + 3 * IS_BUILTIN(CONFIG_CPU_BIG_ENDIAN);\r\n }\r\n\r\nProblem is many of the fixed big endian architectures don't define\r\nCPU_BIG_ENDIAN and clears the wrong byte.\r\n\r\nDefine CPU_BIG_ENDIAN for parisc architecture to fix it.\r\n\r\nSigned-off-by: Babu Moger <babu.moger@oracle.com>\r\nSigned-off-by: Helge Deller <deller@gmx.de>\r\n\r\n* clk: samsung: exynos5420: The EPLL rate table corrections\r\n\r\nThis patch fixes values of the EPLL K coefficient and changes\r\nthe EPLL output frequency values to match exactly what is\r\npossible to achieve with given M, P, S, K coefficients.\r\nThis allows to avoid rounding errors and unexpected frequency\r\nbeing set with clk_set_rate(), due to recalc_rate returning\r\ndifferent values than the PLL rate specified in the\r\nexynos5420_epll_24mhz_tbl table. E.g. this prevents a case\r\nwhere two consecutive clk_set_rate() calls with same argument\r\nresult in different PLL output frequency.\r\n\r\nThe PLL output frequencies have been calculated with formula:\r\n\r\nf = fxtal * (M * 2^16 + K) / (P * 2^S) / 2^16\r\n\r\nwhere fxtal = 24000000.\r\n\r\nFixes: 9842452acd (\"clk: samsung: exynos542x: Add EPLL rate table\")\r\nSigned-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com>\r\nSigned-off-by: Stephen Boyd <sboyd@codeaurora.org>\r\n\r\n* sunhme: fix up GREG_STAT and GREG_IMASK register offsets\r\n\r\nUpdate the values to match those from the STP2002QFP documentation.\r\n\r\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: phy: Correctly process PHY_HALTED in phy_stop_machine()\r\n\r\nMarc reported that he was not getting the PHY library adjust_link()\r\ncallback function to run when calling phy_stop() + phy_disconnect()\r\nwhich does not indeed happen because we set the state machine to\r\nPHY_HALTED but we don't get to run it to process this state past that\r\npoint.\r\n\r\nFix this with a synchronous call to phy_state_machine() in order to have\r\nthe state machine actually act on PHY_HALTED, set the PHY device's link\r\ndown, turn the network device's carrier off and finally call the\r\nadjust_link() function.\r\n\r\nReported-by: Marc Gonzalez <marc_gonzalez@sigmadesigns.com>\r\nFixes: a390d1f379cf (\"phylib: convert state_queue work to delayed_work\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: Marc Gonzalez <marc_gonzalez@sigmadesigns.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ipv4: fib: Fix NULL pointer deref during fib_sync_down_dev()\r\n\r\nMicha\u0142 reported a NULL pointer deref during fib_sync_down_dev() when\r\nunregistering a netdevice. The problem is that we don't check for\r\n'in_dev' being NULL, which can happen in very specific cases.\r\n\r\nUsually routes are flushed upon NETDEV_DOWN sent in either the netdev or\r\nthe inetaddr notification chains. However, if an interface isn't\r\nconfigured with any IP address, then it's possible for host routes to be\r\nflushed following NETDEV_UNREGISTER, after NULLing dev->ip_ptr in\r\ninetdev_destroy().\r\n\r\nTo reproduce:\r\n$ ip link add type dummy\r\n$ ip route add local 1.1.1.0/24 dev dummy0\r\n$ ip link del dev dummy0\r\n\r\nFix this by checking for the presence of 'in_dev' before referencing it.\r\n\r\nFixes: 982acb97560c (\"ipv4: fib: Notify about nexthop status changes\")\r\nSigned-off-by: Ido Schimmel <idosch@mellanox.com>\r\nReported-by: Micha\u0142 Miros\u0142aw <mirq-linux@rere.qmqm.pl>\r\nTested-by: Micha\u0142 Miros\u0142aw <mirq-linux@rere.qmqm.pl>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* MAINTAINERS: Add more files to the PHY LIBRARY section\r\n\r\nInclude missing files that are provided by, used, or directly maintained\r\nwithin the PHY LIBRARY, this include uapi header, header files used by\r\nDevice Tree code etc.\r\n\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* mv643xx_eth: fix of_irq_to_resource() error check\r\n\r\nof_irq_to_resource() has recently been  fixed to return negative error #'s\r\nalong with 0 in case of failure,  however the Marvell MV643xx Ethernet\r\ndriver still only regards 0  as invalid IRQ -- fix it up.\r\n\r\nFixes: 7a4228bbff76 (\"of: irq: use of_irq_get() in of_irq_to_resource()\")\r\nSigned-off-by: Sergei Shtylyov <sergei.shtylyov@cogentembedded.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* virtio_net: fix truesize for mergeable buffers\r\n\r\nSeth Forshee noticed a performance degradation with some workloads.\r\nThis turns out to be due to packet drops.  Euan Kemp noticed that this\r\nis because we drop all packets where length exceeds the truesize, but\r\nfor some packets we add in extra memory without updating the truesize.\r\nThis in turn was kept around unchanged from ab7db91705e95 (\"virtio-net:\r\nauto-tune mergeable rx buffer size for improved performance\").  That\r\ncommit had an internal reason not to account for the extra space: not\r\nenough bits to do it.  No longer true so let's account for the allocated\r\nlength exactly.\r\n\r\nMany thanks to Seth Forshee for the report and bisecting and Euan Kemp\r\nfor debugging the issue.\r\n\r\nFixes: 680557cf79f8 (\"virtio_net: rework mergeable buffer handling\")\r\nReported-by: Euan Kemp <euan.kemp@coreos.com>\r\nTested-by: Euan Kemp <euan.kemp@coreos.com>\r\nReported-by: Seth Forshee <seth.forshee@canonical.com>\r\nTested-by: Seth Forshee <seth.forshee@canonical.com>\r\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* Revert \"net: bcmgenet: Remove init parameter from bcmgenet_mii_config\"\r\n\r\nThis reverts commit 28b45910ccda (\"net: bcmgenet: Remove init parameter\r\nfrom bcmgenet_mii_config\") because in the process of moving from\r\ndev_info() to dev_info_once() we essentially lost the helpful printed\r\nmessages once the second instance of the driver is loaded.\r\ndev_info_once() does not actually print the message once per device\r\ninstance, but once period.\r\n\r\nFixes: 28b45910ccda (\"net: bcmgenet: Remove init parameter from bcmgenet_mii_config\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nReviewed-by: Doug Berger <opendmb@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ppp: Fix a scheduling-while-atomic bug in del_chan\r\n\r\nThe PPTP set the pptp_sock_destruct as the sock's sk_destruct, it would\r\ntrigger this bug when __sk_free is invoked in atomic context, because of\r\nthe call path pptp_sock_destruct->del_chan->synchronize_rcu.\r\n\r\nNow move the synchronize_rcu to pptp_release from del_chan. This is the\r\nonly one case which would free the sock and need the synchronize_rcu.\r\n\r\nThe following is the panic I met with kernel 3.3.8, but this issue should\r\nexist in current kernel too according to the codes.\r\n\r\nBUG: scheduling while atomic\r\n__schedule_bug+0x5e/0x64\r\n__schedule+0x55/0x580\r\n? ppp_unregister_channel+0x1cd5/0x1de0 [ppp_generic]\r\n? dev_hard_start_xmit+0x423/0x530\r\n? sch_direct_xmit+0x73/0x170\r\n__cond_resched+0x16/0x30\r\n_cond_resched+0x22/0x30\r\nwait_for_common+0x18/0x110\r\n? call_rcu_bh+0x10/0x10\r\nwait_for_completion+0x12/0x20\r\nwait_rcu_gp+0x34/0x40\r\n? wait_rcu_gp+0x40/0x40\r\nsynchronize_sched+0x1e/0x20\r\n0xf8417298\r\n0xf8417484\r\n? sock_queue_rcv_skb+0x109/0x130\r\n__sk_free+0x16/0x110\r\n? udp_queue_rcv_skb+0x1f2/0x290\r\nsk_free+0x16/0x20\r\n__udp4_lib_rcv+0x3b8/0x650\r\n\r\nSigned-off-by: Gao Feng <gfree.wind@vip.163.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* udp6: fix jumbogram reception\r\n\r\nSince commit 67a51780aebb (\"ipv6: udp: leverage scratch area\r\nhelpers\") udp6_recvmsg() read the skb len from the scratch area,\r\nto avoid a cache miss.\r\nBut the UDP6 rx path support RFC 2675 UDPv6 jumbograms, and their\r\nlength exceeds the 16 bits available in the scratch area. As a side\r\neffect the length returned by recvmsg() is:\r\n<ingress datagram len> % (1<<16)\r\n\r\nThis commit addresses the issue allocating one more bit in the\r\nIP6CB flags field and setting it for incoming jumbograms.\r\nSuch field is still in the first cacheline, so at recvmsg()\r\ntime we can check it and fallback to access skb->len if\r\nrequired, without a measurable overhead.\r\n\r\nFixes: 67a51780aebb (\"ipv6: udp: leverage scratch area helpers\")\r\nSigned-off-by: Paolo Abeni <pabeni@redhat.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* samples/bpf: fix bpf tunnel cleanup\r\n\r\ntest_tunnel_bpf.sh fails to remove the vxlan11 tunnel device, causing the\r\nnext geneve tunnelling test case fails.  In addition, the geneve reserved bit\r\nin tcbpf2_kern.c should be zero, according to the RFC.\r\n\r\nSigned-off-by: William Tu <u9012063@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* pinctrl: stm32: select IRQ_DOMAIN_HIERARCHY instead of depends on\r\n\r\nDrivers that need IRQ_DOMAIN_HIERARCHY should \"select\" it, but\r\ndrivers/pinctrl/stm32/Kconfig is the only exception that uses\r\n\"depends on\" syntax.  This prevents GPIO drivers from select'ing\r\nIRQ_DOMAIN_HIERARCHY.\r\n\r\nFor example, if I add \"select IRQ_DOMAIN_HIERARCHY\" to GPIO_XGENE_SB,\r\nI get the following recursive dependency error.\r\n\r\ndrivers/gpio/Kconfig:13:error: recursive dependency detected!\r\nFor a resolution refer to Documentation/kbuild/kconfig-language.txt\r\nsubsection \"Kconfig recursive dependency limitations\"\r\ndrivers/gpio/Kconfig:13:\tsymbol GPIOLIB is selected by PINCTRL_STM32\r\nFor a resolution refer to Documentation/kbuild/kconfig-language.txt\r\nsubsection \"Kconfig recursive dependency limitations\"\r\ndrivers/pinctrl/stm32/Kconfig:3:\tsymbol PINCTRL_STM32 is selected by PINCTRL_STM32F429\r\nFor a resolution refer to Documentation/kbuild/kconfig-language.txt\r\nsubsection \"Kconfig recursive dependency limitations\"\r\ndrivers/pinctrl/stm32/Kconfig:11:\tsymbol PINCTRL_STM32F429 depends on IRQ_DOMAIN_HIERARCHY\r\nFor a resolution refer to Documentation/kbuild/kconfig-language.txt\r\nsubsection \"Kconfig recursive dependency limitations\"\r\nkernel/irq/Kconfig:67:\tsymbol IRQ_DOMAIN_HIERARCHY is selected by GPIO_XGENE_SB\r\nFor a resolution refer to Documentation/kbuild/kconfig-language.txt\r\nsubsection \"Kconfig recursive dependency limitations\"\r\ndrivers/gpio/Kconfig:502:\tsymbol GPIO_XGENE_SB depends on GPIOLIB\r\n\r\nSigned-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>\r\nTested-by: Alexandre TORGUE <alexandre.torgue@st.com>\r\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\r\n\r\n* gpio: xgene-sb: select IRQ_DOMAIN_HIERARCHY\r\n\r\nThis driver calls irq_domain_hierarchy() and irq_chip_*_parent().\r\nThey are available only when CONFIG_IRQ_DOMAIN_HIERARCHY is enabled.\r\n\r\nSigned-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>\r\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\r\n\r\n* gpio: gpio-mxc: Fix: higher 16 GPIOs usable as wake source\r\n\r\nIn the function gpio_set_wake_irq(), port->irq_high is only checked for\r\nzero. As platform_get_irq() returns a value less then zero if no interrupt\r\nwas found, any gpio >= 16 was handled like an irq_high interrupt was\r\navailable. On iMX27 for example no high interrupt is available. This lead\r\nto the problem that only some gpios (the lower 16) were useable as wake\r\nsources.\r\n\r\nSigned-off-by: Philipp Rosenberger <p.rosenberger@linutronix.de>\r\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\r\n\r\n* x86/hpet: Cure interface abuse in the resume path\r\n\r\nThe HPET resume path abuses irq_domain_[de]activate_irq() to restore the\r\nMSI message in the HPET chip for the boot CPU on resume and it relies on an\r\nimplementation detail of the interrupt core code, which magically makes the\r\nHPET unmask call invoked via a irq_disable/enable pair. This worked as long\r\nas the irq code did unconditionally invoke the unmask() callback. With the\r\nrecent changes which keep track of the masked state to avoid expensive\r\nhardware access, this does not longer work. As a consequence the HPET timer\r\ninterrupts are not unmasked which breaks resume as the boot CPU waits\r\nforever that a timer interrupt arrives.\r\n\r\nMake the restore of the MSI message explicit and invoke the unmask()\r\nfunction directly. While at it get rid of the pointless affinity setting as\r\nnothing can change the affinity of the interrupt and the vector across\r\nsuspend/resume. The restore of the MSI message reestablishes the previous\r\naffinity setting which is the correct one.\r\n\r\nFixes: bf22ff45bed6 (\"genirq: Avoid unnecessary low level irq function calls\")\r\nReported-and-tested-by: Tomi Sarvela <tomi.p.sarvela@intel.com>\r\nReported-by: Martin Peres <martin.peres@linux.intel.com>\r\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\r\nAcked-by: \"Rafael J. Wysocki\" <rafael.j.wysocki@intel.com>\r\nCc: jeffy.chen@rock-chips.com\r\nCc: Peter Zijlstra <peterz@infradead.org>\r\nCc: Marc Zyngier <marc.zyngier@arm.com>\r\nLink: http://lkml.kernel.org/r/alpine.DEB.2.20.1707312158590.2287@nanos\r\n\r\n* arm64: Use arch_timer_get_rate when trapping CNTFRQ_EL0\r\n\r\nIn an ideal world, CNTFRQ_EL0 always contains the timer frequency\r\nfor the kernel to use. Sadly, we get quite a few broken systems\r\nwhere the firmware authors cannot be bothered to program that\r\nregister on all CPUs, and rely on DT to provide that frequency.\r\n\r\nSo when trapping CNTFRQ_EL0, make sure to return the actual rate\r\n(as known by the kernel), and not CNTFRQ_EL0.\r\n\r\nAcked-by: Mark Rutland <mark.rutland@arm.com>\r\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>\r\nSigned-off-by: Will Deacon <will.deacon@arm.com>\r\n\r\n* ASoC: rt5665: fix wrong register for bclk ratio control\r\n\r\nThe register of setting back ratio should be RT5665_ADDA_CLK_2\r\ninstead of RT5665_ADDA_CLK_1.\r\n\r\nSigned-off-by: Bard Liao <bardliao@realtek.com>\r\nSigned-off-by: Mark Brown <broonie@kernel.org>\r\n\r\n* gpio: exar: Use correct property prefix and document bindings\r\n\r\nThe device-specific property should be prefixed with the vendor name,\r\nnot \"linux,\", as Linus Walleij pointed out. Change this and document the\r\nbindings of this platform device.\r\n\r\nWe didn't ship the old binding in a release yet. So we can still change\r\nit without breaking an official API.\r\n\r\nFixes: 380b1e2f3a2f (\"gpio-exar/8250-exar: Make set of exported GPIOs configurable\")\r\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\r\nAcked-by: Rob Herring <robh@kernel.org>\r\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\r\n\r\n* gpiolib: skip unwanted events, don't convert them to opposite edge\r\n\r\nThe previous fix for filtering out of unwatched events was not entirely\r\ncorrect. Instead of skipping the events we don't want, they are now\r\ninterpreted as events with opposing edge.\r\n\r\nIn order to fix it: always read the GPIO line value on interrupt and\r\nonly emit the event if it corresponds with the event type we requested.\r\n\r\nCc: stable@vger.kernel.org\r\nFixes: ad537b822577 (\"gpiolib: fix filtering out unwanted events\")\r\nSigned-off-by: Bartosz Golaszewski <brgl@bgdev.pl>\r\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\r\n\r\n* clk: meson: mpll: fix mpll0 fractional part ignored\r\n\r\nmpll0 clock is special compared to the other mplls. It needs another\r\nbit (ssen) to be set to activate the fractional part the mpll divider\r\n\r\nFixes: 007e6e5c5f01 (\"clk: meson: mpll: add rw operation\")\r\nSigned-off-by: Jerome Brunet <jbrunet@baylibre.com>\r\nSigned-off-by: Neil Armstrong <narmstrong@baylibre.com>\r\n\r\n* timers: Fix overflow in get_next_timer_interrupt\r\n\r\nFor e.g. HZ=100, timer being 430 jiffies in the future, and 32 bit\r\nunsigned int, there is an overflow on unsigned int right-hand side\r\nof the expression which results with wrong values being returned.\r\n\r\nType cast the multiplier to 64bit to avoid that issue.\r\n\r\nFixes: 46c8f0b077a8 (\"timers: Fix get_next_timer_interrupt() computation\")\r\nSigned-off-by: Matija Glavinic Pecotic <matija.glavinic-pecotic.ext@nokia.com>\r\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\r\nReviewed-by: Alexander Sverdlin <alexander.sverdlin@nokia.com>\r\nCc: khilman@baylibre.com\r\nCc: akpm@linux-foundation.org\r\nCc: stable@vger.kernel.org\r\nLink: http://lkml.kernel.org/r/a7900f04-2a21-c9fd-67be-ab334d459ee5@nokia.com\r\n\r\n* device property: Fix usecount for of_graph_get_port_parent()\r\n\r\nFix inconsistent use of of_graph_get_port_parent() where\r\nasoc_simple_card_parse_graph_dai() does of_node_get() before\r\ncalling it while other callers do not. We can fix this by\r\nnot trashing the node passed to of_graph_get_port_parent().\r\n\r\nLet's also make sure the callers have correct refcounts and remove\r\nrelated incorrect of_node_put() calls for of_for_each_phandle\r\nas that's done by of_phandle_iterator_next() except when\r\nwe break out of the loop early.\r\n\r\nLet's fix both issues with a single patch to avoid kobject\r\nrefcounts getting messed up more if two patches are merged\r\nseparately.\r\n\r\nOtherwise strange issues can happen caused by memory corruption\r\ncaused by too many kobject_del() calls such as:\r\n\r\nBUG: sleeping function called from invalid context at\r\nkernel/locking/mutex.c:747\r\n...\r\n(___might_sleep)\r\n(__mutex_lock)\r\n(mutex_lock_nested)\r\n(kernfs_remove)\r\n(kobject_del)\r\n(kobject_put)\r\n(of_get_next_parent)\r\n(of_graph_get_port_parent)\r\n(asoc_simple_card_parse_graph_dai [snd_soc_simple_card_utils])\r\n(asoc_graph_card_probe [snd_soc_audio_graph_card])\r\n\r\nFixes: 0ef472a973eb (\"of_graph: add of_graph_get_port_parent()\")\r\nFixes: 2692c1c63c29 (\"ASoC: add audio-graph-card support\")\r\nFixes: 1689333f8311 (\"ASoC: simple-card-utils: add asoc_simple_card_parse_graph_dai()\")\r\nSigned-off-by: Tony Lindgren <tony@atomide.com>\r\nReviewed-by: Rob Herring <robh@kernel.org>\r\nTested-by: Antonio Borneo <borneo.antonio@gmail.com>\r\nTested-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>\r\nSigned-off-by: Mark Brown <broonie@kernel.org>\r\n\r\n* libceph: make encode_request_*() work with r_mempool requests\r\n\r\nMessages allocated out of ceph_msgpool have a fixed front length\r\n(pool->front_len).  Asserting that the entire front has been filled\r\nwhile encoding is thus wrong.\r\n\r\nFixes: 8cb441c0545d (\"libceph: MOSDOp v8 encoding (actual spgid + full hash)\")\r\nReported-by: \"Yan, Zheng\" <zyan@redhat.com>\r\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\r\nReviewed-by: \"Yan, Zheng\" <zyan@redhat.com>\r\n\r\n* libceph: don't call ->reencode_message() more than once per message\r\n\r\nReencoding an already reencoded message is a bad idea.  This could\r\nhappen on Policy::stateful_server connections (!CEPH_MSG_CONNECT_LOSSY),\r\nsuch as MDS sessions.\r\n\r\nThis didn't pop up in testing because currently only OSD requests are\r\nreencoded and OSD sessions are always lossy.\r\n\r\nFixes: 98ad5ebd1505 (\"libceph: ceph_connection_operations::reencode_message() method\")\r\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\r\nReviewed-by: \"Yan, Zheng\" <zyan@redhat.com>\r\n\r\n* crush: assume weight_set != null imples weight_set_size > 0\r\n\r\nReflects ceph.git commit 5e8fa3e06b68fae1582c9230a3a8d1abc6146286.\r\n\r\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\r\nReviewed-by: Sage Weil <sage@redhat.com>\r\n\r\n* libceph: fallback for when there isn't a pool-specific choose_arg\r\n\r\nThere is now a fallback to a choose_arg index of -1 if there isn't\r\na pool-specific choose_arg set.  If you create a per-pool weight-set,\r\nthat works for that pool.  Otherwise we try the compat/default one.  If\r\nthat doesn't exist either, then we use the normal CRUSH weights.\r\n\r\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\r\nReviewed-by: Sage Weil <sage@redhat.com>\r\n\r\n* libceph: upmap semantic changes\r\n\r\n- apply both pg_upmap and pg_upmap_items\r\n- allow bidirectional swap of pg-upmap-items\r\n\r\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\r\nReviewed-by: Sage Weil <sage@redhat.com>\r\n\r\n* libceph: make RECOVERY_DELETES feature create a new interval\r\n\r\nThis is needed so that the OSDs can regenerate the missing set at the\r\nstart of a new interval where support for recovery deletes changed.\r\n\r\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\r\nReviewed-by: Sage Weil <sage@redhat.com>\r\n\r\n* xtensa: don't limit csum_partial export by CONFIG_NET\r\n\r\ncsum_partial and csum_partial_copy_generic are defined unconditionally\r\nand are available even when CONFIG_NET is disabled. They are used not\r\nonly by the network drivers, but also by scsi and media.\r\nDon't limit these functions export by CONFIG_NET.\r\n\r\nCc: stable@vger.kernel.org\r\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>\r\n\r\n* xtensa: mm/cache: add missing EXPORT_SYMBOLs\r\n\r\nFunctions clear_user_highpage, copy_user_highpage, flush_dcache_page,\r\nlocal_flush_cache_range and local_flush_cache_page may be used from\r\nmodules. Export them.\r\n\r\nCc: stable@vger.kernel.org\r\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>\r\n\r\n* KVM: nVMX: do not fill vm_exit_intr_error_code in prepare_vmcs12\r\n\r\nDo this in the caller of nested_vmx_vmexit instead.\r\n\r\nnested_vmx_check_exception was doing a vmwrite to the vmcs02's\r\nVM_EXIT_INTR_ERROR_CODE field, so that prepare_vmcs12 would move\r\nthe field to vmcs12->vm_exit_intr_error_code.  However that isn't\r\npossible on pre-Haswell machines.  Moving the vmcs12 write to the\r\ncallers fixes it.\r\n\r\nReported-by: Jim Mattson <jmattson@google.com>\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\n[Changed nested_vmx_reflect_vmexit() return type to (int)1 from (bool)1,\r\n thanks to fengguang.wu@intel.com]\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* KVM: nVMX: fixes to nested virt interrupt injection\r\n\r\nThere are three issues in nested_vmx_check_exception:\r\n\r\n1) it is not taking PFEC_MATCH/PFEC_MASK into account, as reported\r\nby Wanpeng Li;\r\n\r\n2) it should rebuild the interruption info and exit qualification fields\r\nfrom scratch, as reported by Jim Mattson, because the values from the\r\nL2->L0 vmexit may be invalid (e.g. if an emulated instruction causes\r\na page fault, the EPT misconfig's exit qualification is incorrect).\r\n\r\n3) CR2 and DR6 should not be written for exception intercept vmexits\r\n(CR2 only for AMD).\r\n\r\nThis patch fixes the first two and adds a comment about the last,\r\noutlining the fix.\r\n\r\nCc: Jim Mattson <jmattson@google.com>\r\nCc: Wanpeng Li <wanpeng.li@hotmail.com>\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\n\r\n* KVM: async_pf: make rcu irq exit if not triggered from idle task\r\n\r\n WARNING: CPU: 5 PID: 1242 at kernel/rcu/tree_plugin.h:323 rcu_note_context_switch+0x207/0x6b0\r\n CPU: 5 PID: 1242 Comm: unity-settings- Not tainted 4.13.0-rc2+ #1\r\n RIP: 0010:rcu_note_context_switch+0x207/0x6b0\r\n Call Trace:\r\n  __schedule+0xda/0xba0\r\n  ? kvm_async_pf_task_wait+0x1b2/0x270\r\n  schedule+0x40/0x90\r\n  kvm_async_pf_task_wait+0x1cc/0x270\r\n  ? prepare_to_swait+0x22/0x70\r\n  do_async_page_fault+0x77/0xb0\r\n  ? do_async_page_fault+0x77/0xb0\r\n  async_page_fault+0x28/0x30\r\n RIP: 0010:__d_lookup_rcu+0x90/0x1e0\r\n\r\nI encounter this when trying to stress the async page fault in L1 guest w/\r\nL2 guests running.\r\n\r\nCommit 9b132fbe5419 (Add rcu user eqs exception hooks for async page\r\nfault) adds rcu_irq_enter/exit() to kvm_async_pf_task_wait() to exit cpu\r\nidle eqs when needed, to protect the code that needs use rcu.  However,\r\nwe need to call the pair even if the function calls schedule(), as seen\r\nfrom the above backtrace.\r\n\r\nThis patch fixes it by informing the RCU subsystem exit/enter the irq\r\ntowards/away from idle for both n.halted and !n.halted.\r\n\r\nCc: Paolo Bonzini <pbonzini@redhat.com>\r\nCc: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\nCc: Paul E. McKenney <paulmck@linux.vnet.ibm.com>\r\nCc: stable@vger.kernel.org\r\nSigned-off-by: Wanpeng Li <wanpeng.li@hotmail.com>\r\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* NFSv4: Fix EXCHANGE_ID corrupt verifier issue\r\n\r\nThe verifier is allocated on the stack, but the EXCHANGE_ID RPC call was\r\nchanged to be asynchronous by commit 8d89bd70bc939. If we interrrupt\r\nthe call to rpc_wait_for_completion_task(), we can therefore end up\r\ntransmitting random stack contents in lieu of the verifier.\r\n\r\nFixes: 8d89bd70bc939 (\"NFS setup async exchange_id\")\r\nCc: stable@vger.kernel.org # v4.9+\r\nSigned-off-by: Trond Myklebust <trond.myklebust@primarydata.com>\r\nSigned-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>\r\n\r\n* ptp: introduce ptp auxiliary worker\r\n\r\nMany PTP drivers required to perform some asynchronous or periodic work,\r\nlike periodically handling PHC counter overflow or handle delayed timestamp\r\nfor RX/TX network packets. In most of the cases, such work is implemented\r\nusing workqueues. Unfortunately, Kernel workqueues might introduce\r\nsignificant delay in work scheduling under high system load and on -RT,\r\nwhich could cause misbehavior of PTP drivers due to internal counter\r\noverflow, for example, and there is no way to tune its execution policy and\r\npriority manuallly.\r\n\r\nHence, The kthread_worker can be used insted of workqueues, as it create\r\nseparte named kthread for each worker and its its execution policy and\r\npriority can be configured using chrt tool.\r\n\r\nThis prblem was reported for two drivers TI CPSW CPTS and dp83640, so\r\ninstead of modifying each of these driver it was proposed to add PTP\r\nauxiliary worker to the PHC subsystem.\r\n\r\nThe patch adds PTP auxiliary worker in PHC subsystem using kthread_worker\r\nand kthread_delayed_work and introduces two new PHC subsystem APIs:\r\n\r\n- long (*do_aux_work)(struct ptp_clock_info *ptp) callback in\r\nptp_clock_info structure, which driver should assign if it require to\r\nperform asynchronous or periodic work. Driver should return the delay of\r\nthe PTP next auxiliary work scheduling time (>=0) or negative value in case\r\nfurther scheduling is not required.\r\n\r\n- int ptp_schedule_worker(struct ptp_clock *ptp, unsigned long delay) which\r\nallows schedule PTP auxiliary work.\r\n\r\nThe name of kthread_worker thread corresponds PTP PHC device name \"ptp%d\".\r\n\r\nSigned-off-by: Grygorii Strashko <grygorii.strashko@ti.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: ethernet: ti: cpts: convert to use ptp auxiliary worker\r\n\r\nThere could be significant delay in CPTS work schedule under high system\r\nload and on -RT which could cause CPTS misbehavior due to internal counter\r\noverflow. Usage of own kthread_worker allows to avoid such kind of issues\r\nand makes it possible to tune priority of CPTS kthread_worker thread on -RT\r\n(thread name \"cpts\").\r\n\r\nHence, the CPTS driver is converted to use PTP auxiliary worker as PHC\r\nsubsystem implements such functionality in a generic way now.\r\n\r\nSigned-off-by: Grygorii Strashko <grygorii.strashko@ti.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: ethernet: ti: cpts: fix tx timestamping timeout\r\n\r\nWith the low speed Ethernet connection CPDMA notification about packet\r\nprocessing can be received before CPTS TX timestamp event, which is set\r\nwhen packet actually left CPSW while cpdma notification is sent when packet\r\npushed in CPSW fifo.  As result, when connection is slow and CPU is fast\r\nenough TX timestamping is not working properly.\r\n\r\nFix it, by introducing TX SKB queue to store PTP SKBs for which Ethernet\r\nTransmit Event hasn't been received yet and then re-check this queue\r\nwith new Ethernet Transmit Events by scheduling CPTS overflow\r\nwork more often (every 1 jiffies) until TX SKB queue is not empty.\r\n\r\nSide effect of this change is:\r\n - User space tools require to take into account possible delay in TX\r\ntimestamp processing (for example ptp4l works with tx_timestamp_timeout=400\r\nunder net traffic and tx_timestamp_timeout=25 in idle).\r\n\r\nSigned-off-by: Grygorii Strashko <grygorii.strashko@ti.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net: ethernet: ti: cpts: fix fifo read in cpts_find_ts\r\n\r\nNow the call chain\r\n cpts_find_ts()\r\n  |- cpts_fifo_read(cpts, CPTS_EV_PUSH)\r\n\r\nwill stop reading CPTS FIFO if PUSH event is found. But this is not\r\nexpected and CPTS FIFI should be completely drained here. This is most\r\nprobably copy-paste error and it has no negative impact as CPTS_EV_PUSH\r\nshould not be present in FIFO without TS_PUSH request and\r\ncpts_systim_read() and cpts_find_ts() synchronized by spin_lock.\r\n\r\nCorrect above by calling cpts_fifo_read() with -1 parameter, so it will\r\nread all CPTS event from FIFO.\r\n\r\nSigned-off-by: Grygorii Strashko <grygorii.strashko@ti.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* Cipso: cipso_v4_optptr enter infinite loop\r\n\r\nin for(),if((optlen > 0) && (optptr[1] == 0)), enter infinite loop.\r\n\r\nTest: receive a packet which the ip length > 20 and the first byte of ip option is 0, produce this issue\r\n\r\nSigned-off-by: yujuan.qi <yujuan.qi@mediatek.com>\r\nAcked-by: Paul Moore <paul@paul-moore.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* platform/x86: dell-wmi: Fix driver interface version query\r\n\r\nWhen I converted dell-wmi to the new bus infrastructure, I left the\r\ncall to dell_wmi_check_descriptor_buffer() in dell_wmi_init().  This\r\ncould cause two problems:\r\n\r\n - An error message when loading the driver on a system without\r\n   dell-wmi.  We'd try to read the event descriptor even if the WMI\r\n   GUID wasn't there.\r\n\r\n - A possible race if dell-wmi was loaded manually before wmi was\r\n   fully initialized.\r\n\r\nFix it by moving the call to the probe function where it belongs.\r\n\r\nFixes: bff589be59c5 (\"platform/x86: dell-wmi: Convert to the WMI bus infrastructure\")\r\nSigned-off-by: Andy Lutomirski <luto@kernel.org>\r\nReviewed-by: Pali Roh\u00e1r <pali.rohar@gmail.com>\r\nSigned-off-by: Darren Hart (VMware) <dvhart@infradead.org>\r\n\r\n* vxlan: fix remcsum when GRO on and CHECKSUM_PARTIAL boundary is outer UDP\r\n\r\nIn the case that GRO is turned on and the original received packet is\r\nCHECKSUM_PARTIAL, if the outer UDP header is exactly at the last\r\ncsum-unnecessary point, which for instance could occur if the packet\r\ncomes from another Linux guest on the same Linux host, we have to do\r\neither remcsum_adjust or set up CHECKSUM_PARTIAL again with its\r\ncsum_start properly reset considering RCO.\r\n\r\nHowever, since b7fe10e5ebac(\"gro: Fix remcsum offload to deal with frags\r\nin GRO\") that barrier in such case could be skipped if GRO turned on,\r\nhence we pass over it and the inner L4 validation mistakenly reckons\r\nit as a bad csum.\r\n\r\nThis patch makes remcsum_offload being reset at the same time of GRO\r\nremcsum cleanup, so as to make it work in such case as before.\r\n\r\nFixes: b7fe10e5ebac (\"gro: Fix remcsum offload to deal with frags in GRO\")\r\nSigned-off-by: Koichiro Den <den@klaipeden.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* gue: fix remcsum when GRO on and CHECKSUM_PARTIAL boundary is outer UDP\r\n\r\nIn the case that GRO is turned on and the original received packet is\r\nCHECKSUM_PARTIAL, if the outer UDP header is exactly at the last\r\ncsum-unnecessary point, which for instance could occur if the packet\r\ncomes from another Linux guest on the same Linux host, we have to do\r\neither remcsum_adjust or set up CHECKSUM_PARTIAL again with its\r\ncsum_start properly reset considering RCO.\r\n\r\nHowever, since b7fe10e5ebac (\"gro: Fix remcsum offload to deal with frags\r\nin GRO\") that barrier in such case could be skipped if GRO turned on,\r\nhence we pass over it and the inner L4 validation mistakenly reckons\r\nit as a bad csum.\r\n\r\nThis patch makes remcsum_offload being reset at the same time of GRO\r\nremcsum cleanup, so as to make it work in such case as before.\r\n\r\nFixes: b7fe10e5ebac (\"gro: Fix remcsum offload to deal with frags in GRO\")\r\nSigned-off-by: Koichiro Den <den@klaipeden.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* b44: Initialize 64-bit stats seqcount\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat.\r\n\r\nFixes: eeda8585522b (\"b44: add 64 bit stats\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nAcked-by: Michael Chan <michael.chan@broadcom.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* i40e: Initialize 64-bit statistics TX ring seqcount\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat.\r\n\r\nFixes: 980e9b118642 (\"i40e: Add support for 64 bit netstats\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ixgbe: Initialize 64-bit stats seqcounts\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat.\r\n\r\nFixes: 4197aa7bb818 (\"ixgbevf: provide 64 bit statistics\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* nfp: Initialize RX and TX ring 64-bit stats seqcounts\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat.\r\n\r\nFixes: 4c3523623dc0 (\"net: add driver for Netronome NFP4000/NFP6000 NIC VFs\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nReviewed-by: Simon Horman <simon.horman@netronome.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* gtp: Initialize 64-bit per-cpu stats correctly\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat by using netdev_alloc_pcpu_stats() instead of an open coded\r\nallocation.\r\n\r\nFixes: 459aa660eb1d (\"gtp: add initial driver for datapath of GPRS Tunneling Protocol (GTP-U)\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* netvsc: Initialize 64-bit stats seqcount\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat. In commit 6c80f3fc2398 (\"netvsc: report per-channel stats in\r\nethtool statistics\") netdev_alloc_pcpu_stats() was removed in favor of\r\nopen-coding the 64-bits statistics, except that u64_stats_init() was\r\nmissed.\r\n\r\nFixes: 6c80f3fc2398 (\"netvsc: report per-channel stats in ethtool statistics\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: Stephen Hemminger <sthemmin@microsoft.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ipvlan: Fix 64-bit statistics seqcount initialization\r\n\r\nOn 32-bit hosts and with CONFIG_DEBUG_LOCK_ALLOC we should be seeing a\r\nlockdep splat indicating this seqcount is not correctly initialized, fix\r\nthat by using the proper helper function: netdev_alloc_pcpu_stats().\r\n\r\nFixes: 2ad7bf363841 (\"ipvlan: Initial check-in of the IPVLAN driver.\")\r\nSigned-off-by: Florian Fainelli <f.fainelli@gmail.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* nand: fix wrong default oob layout for small pages using soft ecc\r\n\r\nWhen using soft ecc, if no ooblayout is given, the core automatically\r\nuses one of the nand_ooblayout_{sp,lp}*() functions to determine the\r\nlayout inside the out of band data.\r\n\r\nUntil kernel version 4.6, struct nand_ecclayout was used for that\r\npurpose. During the migration from 4.6 to 4.7, an error shown up in the\r\nsmall page layout, in the case oob section is only 8 bytes long.\r\n\r\nThe layout was using three bytes (0, 1, 2) for ecc, two bytes (3, 4)\r\nas free bytes, one byte (5) for bad block marker and finally\r\ntwo bytes (6, 7) as free bytes, as shown there:\r\n\r\n[linux-4.6] drivers/mtd/nand/nand_base.c:52\r\nstatic struct nand_ecclayout nand_oob_8 = {\r\n\t.eccbytes = 3,\r\n\t.eccpos = {0, 1, 2},\r\n\t.oobfree = {\r\n\t\t{.offset = 3,\r\n\t\t .length = 2},\r\n\t\t{.offset = 6,\r\n\t\t .length = 2} }\r\n};\r\n\r\nThis fixes the current implementation which is incoherent. It\r\nreferences bit 3 at the same time as an ecc byte and a free byte.\r\n\r\nFurthermore, it is clear with the previous implementation that there\r\nis only one ecc section with 8 bytes oob sections. We shall return\r\n-ERANGE in the nand_ooblayout_ecc_sp() function when asked for the\r\nsecond section.\r\n\r\nSigned-off-by: Miquel Raynal <miquel.raynal@free-electrons.com>\r\nFixes: 41b207a70d3a (\"mtd: nand: implement the default mtd_ooblayout_ops\")\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\n\r\n* mtd: nand: sunxi: fix potential divide-by-zero error\r\n\r\nclk_round_rate() can return <= 0. Currently the value returned by\r\nclk_round_rate() is used directly for a division. This patch introduces a\r\nguard to ensure a divide-by-zero or a divide by a negative number for that\r\nmatter can't happen by bugging out returning -EINVAL if clk_round_rate()\r\nreturns <= 0.\r\n\r\nFixes: 2d43457f79e4 (\"mtd: nand: sunxi: fix EDO mode selection\")\r\nSigned-off-by: Bryan O'Donoghue <pure.logic@nexus-software.ie>\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\n\r\n* mtd: nand: Fix a docs build warning\r\n\r\nCommit 0b4773fd1649 (mtd: nand: Drop unused cached programming support)\r\nremoved the \"cached\" parameter from nand_write_page(), but did not update\r\nthe kerneldoc comments, creating this docs build warning:\r\n\r\n  ./drivers/mtd/nand/nand_base.c:2751: warning: Excess function parameter 'cached' description in 'nand_write_page'\r\n\r\nRemove the offending line so we can have a little peace and quiet.\r\n\r\nSigned-off-by: Jonathan Corbet <corbet@lwn.net>\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\n\r\n* mtd: nand: Fix timing setup for NANDs that do not support SET FEATURES\r\n\r\nSome ONFI NANDs do not support the SET/GET FEATURES commands, which,\r\naccording to the spec, is perfectly valid.\r\n\r\nOn these NANDs we can't set a specific timing mode using the \"timing\r\nmode\" feature, and we should assume the NAND does not require any setup\r\nto enter a specific timing mode.\r\n\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\nFixes: d8e725dd8311 (\"mtd: nand: automate NAND timings selection\")\r\nReported-by: Alexander Dahl <ada@thorsis.com>\r\nCc: <stable@vger.kernel.org>\r\nTested-by: Alexander Dahl <ada@thorsis.com>\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\n\r\n* mtd: nand: Declare tBERS, tR and tPROG as u64 to avoid integer overflow\r\n\r\nAll timings in nand_sdr_timings are expressed in picoseconds but some\r\nof them may not fit in an u32.\r\n\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\nFixes: 204e7ecd47e2 (\"mtd: nand: Add a few more timings to nand_sdr_timings\")\r\nReported-by: Alexander Dahl <ada@thorsis.com>\r\nCc: <stable@vger.kernel.org>\r\nReviewed-by: Alexander Dahl <ada@thorsis.com>\r\nTested-by: Alexander Dahl <ada@thorsis.com>\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\n\r\n* mtd: nand: atmel: Fix EDO mode check\r\n\r\nEDO mode should be used when tRC is less than 30ns, but timings are\r\nexpressed in picoseconds in the nand_sdr_timings struct.\r\n\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\nFixes: f9ce2eddf176 (\"mtd: nand: atmel: Add ->setup_data_interface() hooks\")\r\nReported-by: Alexander Dahl <ada@thorsis.com>\r\nTested-by: Alexander Dahl <ada@thorsis.com>\r\nSigned-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>\r\n\r\n* gpio: tegra: fix unbalanced chained_irq_enter/exit\r\n\r\nWhen more than one GPIO IRQs are triggered simultaneously,\r\ntegra_gpio_irq_handler() called chained_irq_exit() multiple\r\ntimes for one chained_irq_enter().\r\n\r\nFixes: 3c92db9ac0ca3eee8e46e2424b6c074e2e394ad9\r\nSigned-off-by: Micha\u0142 Miros\u0142aw <mirq-linux@rere.qmqm.pl>\r\n[Also changed the variable to a bool]\r\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\r\n\r\n* powerpc/83xx/mpc832x_rdb: fix of_irq_to_resource() error check\r\n\r\nof_irq_to_resource() has recently been fixed to return negative error #'s\r\nalong with 0 in case of failure, however the Freescale MPC832x RDB board\r\ncode still only regards 0 as a failure indication -- fix it up.\r\n\r\nFixes: 7a4228bbff76 (\"of: irq: use of_irq_get() in of_irq_to_resource()\")\r\nSigned-off-by: Sergei Shtylyov <sergei.shtylyov@cogentembedded.com>\r\nAcked-by: Scott Wood <oss@buserror.net>\r\nSigned-off-by: Michael Ellerman <mpe@ellerman.id.au>\r\n\r\n* ALSA: hda - Fix speaker output from VAIO VPCL14M1R\r\n\r\nSony VAIO VPCL14M1R needs the quirk to make the speaker working properly.\r\n\r\nTested-by: Dmitriy <mexx400@yandex.ru>\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Sergei A. Trusov <sergei.a.trusov@ya.ru>\r\nSigned-off-by: Takashi Iwai <tiwai@suse.de>\r\n\r\n* NFSv4: Fix double frees in nfs4_test_session_trunk()\r\n\r\nrpc_clnt_add_xprt() expects the callback function to be synchronous, and\r\nexpects to release the transport and switch references itself.\r\n\r\nFixes: 04fa2c6bb51b1 (\"NFS pnfs data server multipath session trunking\")\r\nSigned-off-by: Trond Myklebust <trond.myklebust@primarydata.com>\r\nSigned-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>\r\n\r\n* ARM64: dts: marvell: armada-37xx: Fix the number of GPIO on south bridge\r\n\r\nThe number of pins in South Bridge is 30 and not 29. There is a fix for\r\nthe driver for the pinctrl, but a fix is also need at device tree level\r\nfor the GPIO.\r\n\r\nFixes: afda007feda5 (\"ARM64: dts: marvell: Add pinctrl nodes for Armada\r\n3700\")\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Gregory CLEMENT <gregory.clement@free-electrons.com>\r\n\r\n* blk-mq: don't leak preempt counter/q_usage_counter when allocating rq failed\r\n\r\nWhen blk_mq_get_request() failed, preempt counter isn't\r\nreleased, and blk_mq_make_request() doesn't release the counter\r\ntoo.\r\n\r\nThis patch fixes the issue, and makes sure that preempt counter\r\nis only held if rq is allocated successfully. The same policy is\r\napplied on .q_usage_counter too.\r\n\r\nSigned-off-by: Ming Lei <minlei@redhat.com>\r\nSigned-off-by: Jens Axboe <axboe@kernel.dk>\r\n\r\n* lan78xx: USB fast connect/disconnect crash fix\r\n\r\nUSB fast connect/disconnect crash fix\r\n\r\nWhen USB plugged/unplugged at fast rate,\r\nlan78xx_mdio_init() in lan78xx_bind() failing case is not handled.\r\nWhenever  lan78xx_mdio_init() failed, dev->mdiobus will be freed, however\r\nsince lan78xx_bind() not consider as error and try to proceed for\r\nfurther initialization in lan78xx_probe() which leads system hung/crash.\r\nAlso when register_netdev() failed, netdev is freed without calling lan78xx_unbind().\r\nHence halting the failed cases right manner fixes the system crash/hung issue.\r\n\r\nSigned-off-by: Nisar Sayed <Nisar.Sayed@microchip.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* lan78xx: Fix to handle hard_header_len update\r\n\r\nFix to handle hard_header_len update\r\n\r\nWhen ifconfig up/down sequence is initiated hard_header_len\r\nget updated incrementally for each ifconfig up /down sequence,\r\nthis leads invalid hard_header_len, moving to lan78xx_bind\r\nto have one time update of hard_header_len addresses the issue.\r\n\r\nSigned-off-by: Nisar Sayed <Nisar.Sayed@microchip.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/mlx4_en: Fix wrong indication of Wake-on-LAN (WoL) support\r\n\r\nCurrently when WoL is supported but disabled, ethtool reports:\r\n\"Supports Wake-on: d\".\r\nFix the indication of Wol support, so that the indication\r\nremains \"g\" all the time if the NIC supports WoL.\r\n\r\nTested:\r\nAs accepted, when NIC supports WoL- ethtool reports:\r\n\tSupports Wake-on: g\r\n\tWake-on: d\r\nwhen NIC doesn't support WoL- ethtool reports:\r\n        Supports Wake-on: d\r\n        Wake-on: d\r\n\r\nFixes: 14c07b1358ed (\"mlx4: Wake on LAN support\")\r\nSigned-off-by: Inbar Karmy <inbark@mellanox.com>\r\nSigned-off-by: Tariq Toukan <tariqt@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/mlx4_core: Fix sl_to_vl_change bit offset in flags2 dump\r\n\r\nThe index value in function dump_dev_cap_flags2() for outputting\r\n\"sl to vl mapping table change event support\" needs to be\r\nconsistent with the value of the enumerated constant\r\nMLX4_DEV_CAP_FLAG2_SL_TO_VL_CHANGE_EVENT defined in file\r\ninclude/linux/mlx4_device.h\r\n\r\nThe change here restores that consistency.\r\n\r\nFixes: fd10ed8e6f42 (\"IB/mlx4: Fix possible vl/sl field mismatch in LRH header in QP1 packets\")\r\nReported-by: Mukesh Kacker <mukesh.kacker@oracle.com>\r\nSigned-off-by: Jack Morgenstein <jackm@dev.mellanox.co.il>\r\nSigned-off-by: Tariq Toukan <tariqt@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/mlx4_core: Fix namespace misalignment in QinQ VST support commit\r\n\r\nThe cited commit introduced the following new enum value in file\r\ninclude/linux/mlx4/device.h:\r\n\r\n    MLX4_DEV_CAP_FLAG2_SVLAN_BY_QP\r\n\r\nHowever the value of MLX4_DEV_CAP_FLAG2_SVLAN_BY_QP needs to stay\r\nconsistent with the value used in another namespace in\r\nfunction dump_dev_cap_flags2(), which is manually kept in sync.\r\nThe change here restores that consistency.\r\n\r\nFixes: 7c3d21c8153c (\"net/mlx4_core: Preparation for VF vlan protocol 802.1ad\")\r\nReported-by: Mukesh Kacker <mukesh.kacker@oracle.com>\r\nSigned-off-by: Jack Morgenstein <jackm@dev.mellanox.co.il>\r\nSigned-off-by: Tariq Toukan <tariqt@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* net/mlx4_core: Fixes missing capability bit in flags2 capability dump\r\n\r\nThe cited commit introduced the following new enum value in file\r\ninclude/linux/mlx4/device.h:\r\n\r\n    QUERY_DEV_CAP_DIAG_RPRT_PER_PORT\r\n\r\nHowever, it failed to introduce a corresponding entry in function\r\ndump_dev_cap_flags2() for outputting a line in the message log\r\nwhen this capability bit is set.\r\n\r\nThe change here fixes that omission.\r\n\r\nFixes: c7c122ed67e4 (\"net/mlx4: Add diagnostic counters capability bit\")\r\nReported-by: Mukesh Kacker <mukesh.kacker@oracle.com>\r\nSigned-off-by: Jack Morgenstein <jackm@dev.mellanox.co.il>\r\nSigned-off-by: Tariq Toukan <tariqt@mellanox.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* usb: qmi_wwan: add D-Link DWM-222 device ID\r\n\r\nSigned-off-by: Hector Martin <marcan@marcan.st>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* ibmvnic: Initialize SCRQ's during login renegotiation\r\n\r\nSCRQ resources are freed during renegotiation, but they are not\r\nre-allocated afterwards due to some changes in the initialization\r\nprocess. Fix that by re-allocating the memory after renegotation.\r\n\r\nSCRQ's can also be freed if a server capabilities request fails.\r\nIf this were encountered during a device reset for example,\r\nSCRQ's may not be re-allocated. This operation is not necessary\r\nanymore so remove it.\r\n\r\nSigned-off-by: Thomas Falcon <tlfalcon@linux.vnet.ibm.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* tcp: avoid setting cwnd to invalid ssthresh after cwnd reduction states\r\n\r\nIf the sender switches the congestion control during ECN-triggered\r\ncwnd-reduction state (CA_CWR), upon exiting recovery cwnd is set to\r\nthe ssthresh value calculated by the previous congestion control. If\r\nthe previous congestion control is BBR that always keep ssthresh\r\nto TCP_INIFINITE_SSTHRESH, cwnd ends up being infinite. The safe\r\nstep is to avoid assigning invalid ssthresh value when recovery ends.\r\n\r\nSigned-off-by: Yuchung Cheng <ycheng@google.com>\r\nSigned-off-by: Neal Cardwell <ncardwell@google.com>\r\nAcked-by: Eric Dumazet <edumazet@google.com>\r\nSigned-off-by: David S. Miller <davem@davemloft.net>\r\n\r\n* drm/amdgpu: Fix undue fallthroughs in golden registers initialization\r\n\r\nAs I was staring at the si_init_golden_registers code, I noticed that\r\nthe Pitcairn initialization silently falls through the Cape Verde\r\ninitialization, and the Oland initialization falls through the Hainan\r\ninitialization. However there is no comment stating that this is\r\nintentional, and the radeon driver doesn't have any such fallthrough,\r\nso I suspect this is not supposed to happen.\r\n\r\nSigned-off-by: Jean Delvare <jdelvare@suse.de>\r\nFixes: 62a37553414a (\"drm/amdgpu: add si implementation v10\")\r\nCc: Ken Wang <Qingqing.Wang@amd.com>\r\nCc: Alex Deucher <alexander.deucher@amd.com>\r\nCc: \"Marek Ol\u0161\u00e1k\" <maraeo@gmail.com>\r\nCc: \"Christian K\u00f6nig\" <christian.koenig@amd.com>\r\nCc: Flora Cui <Flora.Cui@amd.com>\r\nReviewed-by: Marek Ol\u0161\u00e1k <marek.olsak@amd.com>\r\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>\r\nCc: stable@vger.kernel.org\r\n\r\n* drm/amdgpu: Use list_del_init in amdgpu_mn_unregister\r\n\r\nOtherwise bo->shadow_list (which is aliased by bo->mn_list) will not\r\nappear empty in amdgpu_ttm_bo_destroy and cause an oops when freeing\r\nformer userptr BOs.\r\n\r\nSigned-off-by: Felix Kuehling <Felix.Kuehling@amd.com>\r\nReviewed-by: Christian K\u00f6nig <christian.koenig@amd.com>\r\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>\r\n\r\n* KVM: X86: Fix loss of pending INIT due to race\r\n\r\nWhen SMP VM start, AP may lost INIT because of receiving INIT between\r\nkvm_vcpu_ioctl_x86_get/set_vcpu_events.\r\n\r\n       vcpu 0                             vcpu 1\r\n                                   kvm_vcpu_ioctl_x86_get_vcpu_events\r\n                                     events->smi.latched_init = 0\r\n  send INIT to vcpu1\r\n    set vcpu1's pending_events\r\n                                   kvm_vcpu_ioctl_x86_set_vcpu_events\r\n                                      if (events->smi.latched_init == 0)\r\n                                        clear INIT in pending_events\r\n\r\nThis patch fixes it by just update SMM related flags if we are in SMM.\r\n\r\nThanks Peng Hao for the report and original commit message.\r\n\r\nReported-by: Peng Hao <peng.hao2@zte.com.cn>\r\nCc: Paolo Bonzini <pbonzini@redhat.com>\r\nCc: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\nSigned-off-by: Wanpeng Li <wanpeng.li@hotmail.com>\r\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* KVM: X86: init irq->level in kvm_pv_kick_cpu_op\r\n\r\n'lapic_irq' is a local variable and its 'level' field isn't\r\ninitialized, so 'level' is random, it doesn't matter but\r\nmakes UBSAN unhappy:\r\n\r\nUBSAN: Undefined behaviour in .../lapic.c:...\r\nload of value 10 is not a valid value for type '_Bool'\r\n...\r\nCall Trace:\r\n [<ffffffff81f030b6>] dump_stack+0x1e/0x20\r\n [<ffffffff81f03173>] ubsan_epilogue+0x12/0x55\r\n [<ffffffff81f03b96>] __ubsan_handle_load_invalid_value+0x118/0x162\r\n [<ffffffffa1575173>] kvm_apic_set_irq+0xc3/0xf0 [kvm]\r\n [<ffffffffa1575b20>] kvm_irq_delivery_to_apic_fast+0x450/0x910 [kvm]\r\n [<ffffffffa15858ea>] kvm_irq_delivery_to_apic+0xfa/0x7a0 [kvm]\r\n [<ffffffffa1517f4e>] kvm_emulate_hypercall+0x62e/0x760 [kvm]\r\n [<ffffffffa113141a>] handle_vmcall+0x1a/0x30 [kvm_intel]\r\n [<ffffffffa114e592>] vmx_handle_exit+0x7a2/0x1fa0 [kvm_intel]\r\n...\r\n\r\nSigned-off-by: Longpeng(Mike) <longpeng2@huawei.com>\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* KVM: avoid using rcu_dereference_protected\r\n\r\nDuring teardown, accesses to memslots and buses are using\r\nrcu_dereference_protected with an always-true condition because\r\nthese accesses are done outside the usual mutexes.  This\r\nis because the last reference is gone and there cannot be any\r\nconcurrent modifications, but rcu_dereference_protected is\r\nugly and unobvious.\r\n\r\nInstead, check the refcount in kvm_get_bus and __kvm_memslots.\r\n\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* KVM: nVMX: do not pin the VMCS12\r\n\r\nSince the current implementation of VMCS12 does a memcpy in and out\r\nof guest memory, we do not need current_vmcs12 and current_vmcs12_page\r\nanymore.  current_vmptr is enough to read and write the VMCS12.\r\n\r\nAnd David Matlack noted:\r\n\r\n  This patch also fixes dirty tracking (memslot->dirty_bitmap) of the\r\n  VMCS12 page by using kvm_write_guest. nested_release_page() only marks\r\n  the struct page dirty.\r\n\r\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\r\nReviewed-by: David Hildenbrand <david@redhat.com>\r\n[Added David Matlack's note and nested_release_page_clean() fix.]\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* kvm: nVMX: don't flush VMCS12 during VMXOFF or VCPU teardown\r\n\r\nAccording to the Intel SDM, software cannot rely on the current VMCS to be\r\ncoherent after a VMXOFF or shutdown. So this is a valid way to handle VMCS12\r\nflushes.\r\n\r\n24.11.1 Software Use of Virtual-Machine Control Structures\r\n...\r\n  If a logical processor leaves VMX operation, any VMCSs active on\r\n  that logical processor may be corrupted (see below). To prevent\r\n  such corruption of a VMCS that may be used either after a return\r\n  to VMX operation or on another logical processor, software should\r\n  execute VMCLEAR for that VMCS before executing the VMXOFF instruction\r\n  or removing power from the processor (e.g., as part of a transition\r\n  to the S3 and S4 power states).\r\n...\r\n\r\nThis fixes a \"suspicious rcu_dereference_check() usage!\" warning during\r\nkvm_vm_release() because nested_release_vmcs12() calls\r\nkvm_vcpu_write_guest_page() without holding kvm->srcu.\r\n\r\nSigned-off-by: David Matlack <dmatlack@google.com>\r\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* KVM: nVMX: mark vmcs12 pages dirty on L2 exit\r\n\r\nThe host physical addresses of L1's Virtual APIC Page and Posted\r\nInterrupt descriptor are loaded into the VMCS02. The CPU may write\r\nto these pages via their host physical address while L2 is running,\r\nbypassing address-translation-based dirty tracking (e.g. EPT write\r\nprotection). Mark them dirty on every exit from L2 to prevent them\r\nfrom getting out of sync with dirty tracking.\r\n\r\nAlso mark the virtual APIC page and the posted interrupt descriptor\r\ndirty when KVM is virtualizing posted interrupt processing.\r\n\r\nSigned-off-by: David Matlack <dmatlack@google.com>\r\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\r\nSigned-off-by: Radim Kr\u010dm\u00e1\u0159 <rkrcmar@redhat.com>\r\n\r\n* mm/hugetlb.c: __get_user_pages ignores certain follow_hugetlb_page errors\r\n\r\nCommit 9a291a7c9428 (\"mm/hugetlb: report -EHWPOISON not -EFAULT when\r\nFOLL_HWPOISON is specified\") causes __get_user_pages to ignore certain\r\nerrors from follow_hugetlb_page.  After such error, __get_user_pages\r\nsubsequently calls faultin_page on the same VMA and start address that\r\nfollow_hugetlb_page failed on instead of returning the error immediately\r\nas it should.\r\n\r\nIn follow_hugetlb_page, when hugetlb_fault returns a value covered under\r\nVM_FAULT_ERROR, follow_hugetlb_page returns it without setting nr_pages\r\nto 0 as __get_user_pages expects in this case, which causes the\r\nfollowing to happen in __get_user_pages: the \"while (nr_pages)\" check\r\nsucceeds, we skip the \"if (!vma...\" check because we got a VMA the last\r\ntime around, we find no page with follow_page_mask, and we call\r\nfaultin_page, which calls hugetlb_fault for the second time.\r\n\r\nThis issue also slightly changes how __get_user_pages works.  Before, it\r\nonly returned error if it had made no progress (i = 0).  But now,\r\nfollow_hugetlb_page can clobber \"i\" with an error code since its new\r\nreturn path doesn't check for progress.  So if \"i\" is nonzero before a\r\nfailing call to follow_hugetlb_page, that indication of progress is lost\r\nand __get_user_pages can return error even if some pages were\r\nsuccessfully pinned.\r\n\r\nTo fix this, change follow_hugetlb_page so that it updates nr_pages,\r\nallowing __get_user_pages to fail immediately and restoring the \"error\r\nonly if no progress\" behavior to __get_user_pages.\r\n\r\nTested that __get_user_pages returns when expected on error from\r\nhugetlb_fault in follow_hugetlb_page.\r\n\r\nFixes: 9a291a7c9428 (\"mm/hugetlb: report -EHWPOISON not -EFAULT when FOLL_HWPOISON is specified\")\r\nLink: http://lkml.kernel.org/r/1500406795-58462-1-git-send-email-daniel.m.jordan@oracle.com\r\nSigned-off-by: Daniel Jordan <daniel.m.jordan@oracle.com>\r\nAcked-by: Punit Agrawal <punit.agrawal@arm.com>\r\nCc: Andrea Arcangeli <aarcange@redhat.com>\r\nCc: \"Aneesh Kumar K.V\" <aneesh.kumar@linux.vnet.ibm.com>\r\nCc: Gerald Schaefer <gerald.schaefer@de.ibm.com>\r\nCc: James Morse <james.morse@arm.com>\r\nCc: \"Kirill A. Shutemov\" <kirill.shutemov@linux.intel.com>\r\nCc: Michal Hocko <mhocko@suse.com>\r\nCc: Mike Kravetz <mike.kravetz@oracle.com>\r\nCc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>\r\nCc: zhong jiang <zhongjiang@huawei.com>\r\nCc: <stable@vger.kernel.org>\t[4.12.x]\r\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* pid: kill pidhash_size in pidhash_init()\r\n\r\nAfter commit 3d375d78593c (\"mm: update callers to use HASH_ZERO flag\"),\r\ndrop unused pidhash_size in pidhash_init().\r\n\r\nLink: http://lkml.kernel.org/r/1500389267-49222-1-git-send-email-wangkefeng.wang@huawei.com\r\nSigned-off-by: Kefeng Wang <wangkefeng.wang@huawei.com>\r\nReviewed-by: Pavel Tatashin <Pasha.Tatashin@Oracle.com>\r\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* mm, mprotect: flush TLB if potentially racing with a parallel reclaim leaving stale TLB entries\r\n\r\nNadav Amit identified a theoritical race between page reclaim and\r\nmprotect due to TLB flushes being batched outside of the PTL being held.\r\n\r\nHe described the race as follows:\r\n\r\n        CPU0                            CPU1\r\n        ----                            ----\r\n                                        user accesses memory using RW PTE\r\n                                        [PTE now cached in TLB]\r\n        try_to_unmap_one()\r\n        ==> ptep_get_and_clear()\r\n        ==> set_tlb_ubc_flush_pending()\r\n                                        mprotect(addr, PROT_READ)\r\n                                        ==> change_pte_range()\r\n                                        ==> [ PTE non-present - no flush ]\r\n\r\n                                        user writes using cached RW PTE\r\n        ...\r\n\r\n        try_to_unmap_flush()\r\n\r\nThe same type of race exists for reads when protecting for PROT_NONE and\r\nalso exists for operations that can leave an old TLB entry behind such\r\nas munmap, mremap and madvise.\r\n\r\nFor some operations like mprotect, it's not necessarily a data integrity\r\nissue but it is a correctness issue as there is a window where an\r\nmprotect that limits access still allows access.  For munmap, it's\r\npotentially a data integrity issue although the race is massive as an\r\nmunmap, mmap and return to userspace must all complete between the\r\nwindow when reclaim drops the PTL and flushes the TLB.  However, it's\r\ntheoritically possible so handle this issue by flushing the mm if\r\nreclaim is potentially currently batching TLB flushes.\r\n\r\nOther instances where a flush is required for a present pte should be ok\r\nas either the page lock is held preventing parallel reclaim or a page\r\nreference count is elevated preventing a parallel free leading to\r\ncorruption.  In the case of page_mkclean there isn't an obvious path\r\nthat userspace could take advantage of without using the operations that\r\nare guarded by this patch.  Other users such as gup as a race with\r\nreclaim looks just at PTEs.  huge page variants should be ok as they\r\ndon't race with reclaim.  mincore only looks at PTEs.  userfault also\r\nshould be ok as if a parallel reclaim takes place, it will either fault\r\nthe page back in or read some of the data before the flush occurs\r\ntriggering a fault.\r\n\r\nNote that a variant of this patch was acked by Andy Lutomirski but this\r\nwas for the x86 parts on top of his PCID work which didn't make the 4.13\r\nmerge window as expected.  His ack is dropped from this version and\r\nthere will be a follow-on patch on top of PCID that will include his\r\nack.\r\n\r\n[akpm@linux-foundation.org: tweak comments]\r\n[akpm@linux-foundation.org: fix spello]\r\nLink: http://lkml.kernel.org/r/20170717155523.emckq2esjro6hf3z@suse.de\r\nReported-by: Nadav Amit <nadav.amit@gmail.com>\r\nSigned-off-by: Mel Gorman <mgorman@suse.de>\r\nCc: Andy Lutomirski <luto@kernel.org>\r\nCc: <stable@vger.kernel.org>\t[v4.4+]\r\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* userfaultfd: non-cooperative: notify about unmap of destination during mremap\r\n\r\nWhen mremap is called with MREMAP_FIXED it unmaps memory at the\r\ndestination address without notifying userfaultfd monitor.\r\n\r\nIf the destination were registered with userfaultfd, the monitor has no\r\nway to distinguish between the old and new ranges and to properly relate\r\nthe page faults that would occur in the destination region.\r\n\r\nFixes: 897ab3e0c49e (\"userfaultfd: non-cooperative: add event for memory unmaps\")\r\nLink: http://lkml.kernel.org/r/1500276876-3350-1-git-send-email-rppt@linux.vnet.ibm.com\r\nSigned-off-by: Mike Rapoport <rppt@linux.vnet.ibm.com>\r\nAcked-by: Pavel Emelyanov <xemul@virtuozzo.com>\r\nCc: Andrea Arcangeli <aarcange@redhat.com>\r\nCc: <stable@vger.kernel.org>\r\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* kasan: avoid -Wmaybe-uninitialized warning\r\n\r\ngcc-7 produces this warning:\r\n\r\n  mm/kasan/report.c: In function 'kasan_report':\r\n  mm/kasan/report.c:351:3: error: 'info.first_bad_addr' may be used uninitialized in this function [-Werror=maybe-uninitialized]\r\n     print_shadow_for_address(info->first_bad_addr);\r\n     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  mm/kasan/report.c:360:27: note: 'info.first_bad_addr' was declared here\r\n\r\nThe code seems fine as we only print info.first_bad_addr when there is a\r\nshadow, and we always initialize it in that case, but this is relatively\r\nhard for gcc to figure out after the latest rework.\r\n\r\nAdding an intialization to the most likely value together with the other\r\nstruct members shuts up that warning.\r\n\r\nFixes: b235b9808664 (\"kasan: unify report headers\")\r\nLink: https://patchwork.kernel.org/patch/9641417/\r\nLink: http://lkml.kernel.org/r/20170725152739.4176967-1-arnd@arndb.de\r\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>\r\nSuggested-by: Alexander Potapenko <glider@google.com>\r\nSuggested-by: Andrey Ryabinin <aryabinin@virtuozzo.com>\r\nAcked-by: Andrey Ryabinin <aryabinin@virtuozzo.com>\r\nCc: Dmitry Vyukov <dvyukov@google.com>\r\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* kthread: fix documentation build warning\r\n\r\nThe kerneldoc comment for kthread_create() had an incorrect argument\r\nname, leading to a warning in the docs build.\r\n\r\nCorrect it, and make one more small step toward a warning-free build.\r\n\r\nLink: http://lkml.kernel.org/r/20170724135916.7f486c6f@lwn.net\r\nSigned-off-by: Jonathan Corbet <corbet@lwn.net>\r\nCc: Randy Dunlap <rdunlap@infradead.org>\r\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\r\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>\r\n\r\n* zram: do not free pool->size_class\r\n\r\nMike \u2026",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-08-04T17:37:48Z",
        "closed_at": null,
        "merged_at": null,
        "body": "just adding VID/PID for the item being verified as working Gobi 2K chipset",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-31T18:50:14Z",
        "closed_at": "2017-09-26T12:08:13Z",
        "merged_at": null,
        "body": "This patch fixes a missing PCI ID which is necessary for the Lenovo Yoga 720-15 Touchpad to work.\r\nSee this bug report on Launchpad:\r\nhttps://bugs.launchpad.net/ubuntu/+source/linux/+bug/1700657\r\n\r\nMany thanks to CoolStar, who found this solution!",
        "comments": 33
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-31T10:17:47Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-30T04:06:02Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Structure atyclk is copied to userland with padding bytes after\r\n\"vclk_post_div\" field unitialized.  It leads to leaking of\r\ncontents of kernel stack memory.  We have to initialize them to zero. or it will allows local users to obtain potentially sensitive information from kernel stack memory by reading a copy of this structure",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-30T03:52:33Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Sometimes irda_getsockopt() doesn't initialize all members of list field of irda_device_list struct.  This structure is then copied to\r\nuserland.  It leads to leaking of contents of kernel stack memory.  We have to initialize them to zero , or it will allows local users to obtain potentially sensitive information from kernel stack memory by reading a copy of this structure",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-07-24T20:56:15Z",
        "closed_at": "2017-07-26T20:09:04Z",
        "merged_at": null,
        "body": "Remove unnecessary files",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-07-24T14:47:08Z",
        "closed_at": "2017-07-24T14:49:49Z",
        "merged_at": null,
        "body": "The kernel panic occurs as a result of init being successfully killed. I believe this is a clearer message, as it describes that the process has been killed, not merely that there was an attempt. `kill -9 1` is an example of an attempt to kill init, that does not succeed. Thus, I believe changing the message to \"init was killed\" or similar helps to differentiate between attempts, and successful attempts that cause kernel panics.\r\n\r\nThe exact message may of course be amended, but I believe it is important that the successful nature of the process kill is noted, in order for better debugging.",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 996,
        "changed_files": 1,
        "created_at": "2017-07-17T16:03:21Z",
        "closed_at": null,
        "merged_at": null,
        "body": "remove empty characters",
        "comments": 230
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-17T11:34:25Z",
        "closed_at": null,
        "merged_at": null,
        "body": "It is only to configure the proposed Agile-SD TCP congestion control algorithm.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 17,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-17T11:32:37Z",
        "closed_at": null,
        "merged_at": null,
        "body": "It is only to configure the proposed Agile-SD TCP congestion control algorithm.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 209,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-17T11:21:09Z",
        "closed_at": null,
        "merged_at": null,
        "body": "agilesd is a Loss-Based Congestion Control Algorithm for TCP v1.0.\r\n agilesd is designed for high-speed and short-distance networks such as data center networks and LANs.\r\n agilesd has been created by Mohamed A. Alrshah, Department of Communication Technology and Networks,\r\n Faculty of Computer Science and Information Technology, Universiti Putra Malaysia.\r\n \r\n agilesd is based on the article, which is published in 2015 as below:\r\n \r\n Alrshah, M.A., Othman, M., Ali, B. and Hanapi, Z.M., 2015. \r\n Agile-SD: a Linux-based TCP congestion control algorithm for supporting high-speed and short-distance networks. \r\n Journal of Network and Computer Applications, 55, pp.181-190.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 142,
        "deletions": 54,
        "changed_files": 13,
        "created_at": "2017-07-13T09:46:50Z",
        "closed_at": "2017-07-13T10:01:07Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-12T08:35:06Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Add support for the ELDAT USB EasyWave protocol dongle RX09.\r\nYou can use the ELDAT devices to build some smart home applications.\r\n\r\nmore info about this dongle: [http://www.eldat.de/produkte/schnittstellen/rx09e_en.html](url).",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-07-02T13:29:59Z",
        "closed_at": "2017-07-02T13:33:36Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-06-30T08:44:36Z",
        "closed_at": null,
        "merged_at": null,
        "body": "The german Telekom offers a ZigBee USB Stick under the brand name Qivicon for their SmartHome Home Base in its 1. Generation. The productId is not known by the according kernel module, this patch adds support for it.\r\n\r\nYou can buy the stick [here](https://www.smarthome.de/geraete/telekom-smart-home-erweiterung-zigbee)\r\n\r\nSigned-off-by: Stefan Triller <github@stefantriller.de>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-06-22T14:22:25Z",
        "closed_at": null,
        "merged_at": null,
        "body": "from Linux 4.11-rc1",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 22,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-06-17T11:29:15Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 67,
        "deletions": 19,
        "changed_files": 1,
        "created_at": "2017-06-16T13:06:14Z",
        "closed_at": "2017-06-16T13:07:57Z",
        "merged_at": null,
        "body": "Typo correction for hotpluggable_offline_memory() function.\r\nCheck for hot-pluggable memory availability in prerequisite().\r\nCheck for precentage range for -r flag.\r\n\r\nFix the memory offline test, the $ratio was used with RANDOM as the\r\npossibility to get it offlined, correct it to become the portion of\r\navailable removable memory blocks.\r\nAlso ask the tool to try to offline the next available memory block\r\nif the attempt is unsuccessful. It will only fail if all removable\r\nmemory blocks are busy.\r\n\r\nAn nice example:\r\nk@Latitude:~$ sudo ./test.sh\r\nTest scope: 10% hotplug memory\r\n\t online all hot-pluggable memory in offline state:\r\n\t\tSKIPPED - no hot-pluggable memory in offline state\r\n\t offline 10% hot-pluggable memory in online state\r\n\t trying to offline 3 out of 28 memory block(s):\r\nonline->offline memory1\r\nonline->offline memory10\r\n./test.sh: line 74: echo: write error: Resource temporarily unavailable\r\noffline_memory_expect_success 10: unexpected fail\r\nonline->offline memory100\r\nonline->offline memory101\r\n\t online all hot-pluggable memory in offline state:\r\noffline->online memory1\r\noffline->online memory100\r\noffline->online memory101\r\nskip extra tests: debugfs is not mounted\r\nk@Latitude:~$ echo $?\r\n0\r\n\r\nSigned-off-by: Po-Hsu Lin <po-hsu.lin@canonical.com>",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-06-16T05:09:51Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Trivial change but I did look in the wrong place when I read this page.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-06-11T08:14:11Z",
        "closed_at": "2017-08-17T18:45:16Z",
        "merged_at": null,
        "body": "I have a Terratec Cinergy Hybrid T USB XS 00cd:0042 which stop to work with kernel 3.xx and newer,  because from tree 2.6 to 3.0 someone change the driver info from EM2880_BOARD_TERRATEC_HYBRID_XS to EM2882_BOARD_TERRATEC_HYBRID_XS\r\nWith EM2882 I have this error:\r\n\r\n    [  671.082716] em2882/3 #0: Binding DVB extension\r\n    [  671.140861] em2882/3 #0: /2: dvb frontend not attached. Can't attach xc3028\r\n\r\nwhile with EM2880 this work properly\r\n\r\n    [   78.959513] em2882/3 #0: Binding DVB extension\r\n    [   78.997430] xc2028 7-0061: creating new instance\r\n    [   78.997435] xc2028 7-0061: type set to XCeive xc2028/xc3028 tuner\r\n\r\nI hope you can accept my patch",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-06-09T20:36:52Z",
        "closed_at": "2017-06-09T21:02:09Z",
        "merged_at": null,
        "body": "rebase from torvalds/linux",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-06-09T20:16:22Z",
        "closed_at": "2017-06-09T20:23:58Z",
        "merged_at": null,
        "body": "rebase from torvalds/linux",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-06-09T19:56:39Z",
        "closed_at": "2017-06-09T20:03:39Z",
        "merged_at": null,
        "body": "rebase from torvalds/linux",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-06-08T21:43:28Z",
        "closed_at": "2017-06-19T20:25:45Z",
        "merged_at": null,
        "body": "According to the logic of the following paragraph, call_rcu() should not be used a lot, or \"should be used lightly.\"",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-06-07T14:13:17Z",
        "closed_at": null,
        "merged_at": null,
        "body": "update",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 5467,
        "deletions": 8,
        "changed_files": 53,
        "created_at": "2017-06-03T17:46:11Z",
        "closed_at": "2017-06-03T17:46:24Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 96,
        "deletions": 1,
        "changed_files": 7,
        "created_at": "2017-06-02T18:31:39Z",
        "closed_at": "2017-06-02T18:31:46Z",
        "merged_at": null,
        "body": "This is the whitelist LSM, extracted as a pull-request for easy understanding.\r\n\r\nI have no particular desire to post it to lkml, but if people are interested in how it works here it is.\r\n\r\n",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-05-27T10:53:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "This device is a charger from ELV and identifies itself as 18ef:e030  \r\ndmesg:\r\nusb 3-2: New USB device found, idVendor=18ef, idProduct=e030\r\nusb 3-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3\r\nusb 3-2: Product: ALC 8500 Expert\r\nusb 3-2: Manufacturer: Silicon Labs\r\n\r\nI tested that modification with the manufacturers device and its java software - seems to work fine.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-05-17T05:09:18Z",
        "closed_at": "2017-10-03T05:15:42Z",
        "merged_at": null,
        "body": "17-5-17",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 4,
        "changed_files": 1,
        "created_at": "2017-05-16T18:41:27Z",
        "closed_at": "2017-05-17T07:06:57Z",
        "merged_at": null,
        "body": "",
        "comments": 10
    },
    {
        "merged": false,
        "additions": 48,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2017-05-16T13:23:57Z",
        "closed_at": "2017-05-16T13:24:22Z",
        "merged_at": null,
        "body": "V2, https://marc.info/?l=linux-btrfs&m=149453743102171\r\n\"This patchset makes it so that on a per-filesystem basis one can disable\r\nquota enforcement for users with cap_sys_resource. This patchset can\r\nlikely later be extended to per-qgroup, or a per-volume basis. I'm\r\nthinking of extending the sysfs interface to list the qgroups and\r\nthis same interface for the qgroups themselves.\"\r\n\r\nTarget: 4.13",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 14901,
        "deletions": 3217,
        "changed_files": 212,
        "created_at": "2017-05-16T09:56:49Z",
        "closed_at": "2017-05-16T10:05:59Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 3452,
        "deletions": 920,
        "changed_files": 8,
        "created_at": "2017-05-15T15:25:11Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 461,
        "deletions": 0,
        "changed_files": 3,
        "created_at": "2017-05-07T04:30:03Z",
        "closed_at": "2017-05-07T18:40:30Z",
        "merged_at": null,
        "body": "PlayStation 1/2 joypads can be connected directly to the SPI interface.\r\n\r\nSigned-off-by: Tomohiro Yoshidomi <sylph23k@gmail.com>\r\nReviewed-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>\r\nAcked-by: David Herrmann <dh.herrmann@gmail.com>",
        "comments": 3
    },
    {
        "merged": false,
        "additions": 99637,
        "deletions": 47492,
        "changed_files": 5953,
        "created_at": "2017-05-03T21:22:41Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 53,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-04-23T04:54:40Z",
        "closed_at": "2017-04-23T20:15:27Z",
        "merged_at": null,
        "body": "https://bugzilla.kernel.org/show_bug.cgi?id=191731\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1436686\r\n\r\nAlso fixes\r\n`dell_laptop: Setting old previous keyboard state failed`\r\nhttps://bugzilla.kernel.org/show_bug.cgi?id=194081\r\n\r\nThe issue is actually quite trivial. Byte 3 of kbd_state\r\non some machines contains \"timeout_ac\". If this byte is simply\r\nset to 0 the result is failed state set. The \"timeout_ac\" is not\r\ninterpreted in any way, but it is now preserved in order to ensure\r\nthe LED state changes go through.",
        "comments": 6
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-04-21T09:18:27Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Update from origin",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 241974,
        "deletions": 44831,
        "changed_files": 3259,
        "created_at": "2017-04-18T23:29:31Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-04-17T17:28:06Z",
        "closed_at": null,
        "merged_at": null,
        "body": " Files changed 272",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-04-12T12:06:51Z",
        "closed_at": null,
        "merged_at": null,
        "body": "update from origin0412",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-04-04T13:30:24Z",
        "closed_at": "2018-01-13T12:16:47Z",
        "merged_at": null,
        "body": "I can't compile kernel, because R_X86_64_JMP_SLOT is not defined, but R_X86_64_JMP_SLOT is defined. I see it with tracing makefile and using \"-dM\" option for C preprocessor.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-04-01T14:52:34Z",
        "closed_at": "2017-04-01T14:53:50Z",
        "merged_at": null,
        "body": "up2date",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 2213,
        "deletions": 527,
        "changed_files": 1,
        "created_at": "2017-03-29T20:45:08Z",
        "closed_at": "2018-09-20T19:39:44Z",
        "merged_at": null,
        "body": "For use with Doxygen. I am just a wee lad, so if someone else would like to swoop in, there is a ton more that could be added",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 9,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-03-29T17:28:36Z",
        "closed_at": "2017-03-29T17:32:59Z",
        "merged_at": null,
        "body": "Asus laptop X302UA starts up with wifi hard-blocked without any meaningful way to enable it.\r\nThe same issue occurs on some other ASUS notebooks as well.\r\n\r\nSetting wapf=4 fixes the problem.",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 3,
        "deletions": 3,
        "changed_files": 1,
        "created_at": "2017-03-24T19:00:32Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Made the first letter of the first sentence (the 'b' in \"builds\") capital.\r\n\r\nAdded missing commas.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 2,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-03-20T08:37:15Z",
        "closed_at": "2019-04-23T03:56:46Z",
        "merged_at": null,
        "body": "",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 7,
        "deletions": 7,
        "changed_files": 1,
        "created_at": "2017-03-18T14:41:28Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 452834,
        "deletions": 13780,
        "changed_files": 2484,
        "created_at": "2017-03-16T05:57:36Z",
        "closed_at": "2017-03-16T06:04:59Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 29,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-02-23T18:28:36Z",
        "closed_at": "2017-02-23T18:29:49Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 347719,
        "deletions": 152438,
        "changed_files": 8567,
        "created_at": "2017-02-23T10:45:00Z",
        "closed_at": "2017-02-23T10:45:30Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-02-17T15:35:19Z",
        "closed_at": null,
        "merged_at": null,
        "body": "20170217sync",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-02-17T06:43:51Z",
        "closed_at": null,
        "merged_at": null,
        "body": "\"attr\" is the real parameter in notify_change().\r\n\r\nsigned-off-by:Kun Yan <samyankun@gmail.com>",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-02-05T18:39:27Z",
        "closed_at": "2017-04-01T11:25:30Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 13,
        "deletions": 12,
        "changed_files": 1,
        "created_at": "2017-02-02T12:48:28Z",
        "closed_at": null,
        "merged_at": null,
        "body": "There was a discussion in the mailing list about the reuse of tmp in scan_dma_completions().\r\nI made the changes as linus suggested, according to my original patch.\r\nThe changes works for me, hope that others will be able to test them, and merge them.\r\n\r\nThis was my logic for the patch:\r\n1. The req->td->dmadesc equals to 0 iff:\r\n     -- There was a transaction ending with a short packet, and\r\n     -- The read() to read it was shorter than the transaction length, and\r\n     -- The read() to complete it is longer than the residue.\r\n     I believe this is true from the printouts of various cases, but I can't be positive it is correct.\r\n\r\n2. Entering this if, there should be no more data in the endpoint (a short packet terminated the transaction). If there is, the transaction wasn't really done and we should exit and wait for it to finish entirely. That is the inner if.\r\n    That inner if should never happen, but it is there to be on the safe side. That is why it is marked with the comment /* paranoia */. \r\n    The size of the data available in the endpoint is ep->dma->dmacount and it is read to tmp.\r\n     This entire clause is based on my own educated guesses.\r\n\r\n3. If we passed that inner if without breaking in the original code, than tmp & DMA_BYTE_MASK_COUNT== 0.\r\n    That means we will always pass dma bytes count of 0 to dma_done(), meaning all the requested bytes were read.\r\n\r\n4. dma_done() reports back to the upper layer that the request (read()) was done and how many bytes were read. In the original code that would always be the request size, regardless of the actual size of the data.\r\n    That did not make sense to me at all.\r\n\r\n5. However, the original value of tmp is req->td->dmacount, which is the dmacount value when the request's dma transaction was finished. And that is a much more reasonable value to report back to the caller.\r\n\r\nAs you can see, this is based a lot on educated guesses and debug printouts of various cases. That is why I would like to get your input on this, to make sure I'm on the right track.\r\n\r\nTo recreate the problem., try reading from a bulk out endpoint in a loop, 1024 * n bytes in each iteration. Connect the PLX to a host you can control, and send to that endpoint 1024 * n +x bytes such that  0 < x < 1024 * n and (x % 1024) != 0 You would expect the first read() to return 1024 * n and the second read to return x, but you will get the first read to return 1024 *n and the second one to return 1024 * n.\r\nThat is true for every positive integer n.\r\n\r\nMy patch solves the problem, and does not break any of the other cases I've tried.\r\n",
        "comments": 2
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-01-30T22:35:48Z",
        "closed_at": "2017-01-30T22:35:57Z",
        "merged_at": null,
        "body": "",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "created_at": "2017-01-30T22:20:48Z",
        "closed_at": null,
        "merged_at": null,
        "body": "Updating typo of help verbiage",
        "comments": 5
    },
    {
        "merged": false,
        "additions": 4,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-01-25T03:21:35Z",
        "closed_at": null,
        "merged_at": null,
        "body": "If the input parameters as saddr = 0xc0a8fd60,daddr = 0xc0a8fda1,len = 80, proto = 17, sum =0x7eae049d.\r\nThe correct result should be 1, but original function return 0.",
        "comments": 1
    },
    {
        "merged": false,
        "additions": 479,
        "deletions": 0,
        "changed_files": 11,
        "created_at": "2017-01-24T15:20:15Z",
        "closed_at": "2017-01-25T14:06:16Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "created_at": "2017-01-24T01:56:50Z",
        "closed_at": null,
        "merged_at": null,
        "body": "",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "created_at": "2017-01-23T09:57:35Z",
        "closed_at": null,
        "merged_at": null,
        "body": "merge torvalds/linux",
        "comments": 0
    },
    {
        "merged": false,
        "additions": 140125,
        "deletions": 62,
        "changed_files": 26,
        "created_at": "2017-01-23T03:26:23Z",
        "closed_at": "2017-01-23T03:26:40Z",
        "merged_at": null,
        "body": "",
        "comments": 0
    }
]